<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="%sveltekit.assets%/favicon.svg" />
	<meta name="viewport" content="width=device-width" />
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<title>Bike Share Toronto | School of Cities</title>
	%sveltekit.head%
</head>

<body>
	<div style="display: contents">%sveltekit.body%</div>

	<h1> Toronto Bikeshare Usage Since 2017</h1>


	<h2>Trip Count by Month 2017 - 2023</h2>

	<h1>A City on Bikes: The Growth Story of Bike Share Toronto</h1>
	<h2>A Brief History</h2>
	<p>
		edited: Bike Share Toronto is a bicycle-sharing system in Toronto, Canada.
		The system consists of 6850 bicycles and 625 stations, and covers over 200
		square kilometres (80 square miles) of the city, from Finch Avenue in the
		north, Rouge Park in the east, Lake Ontario to the south, and to Long Branch
		to the west.[1][2] Bike Share Toronto recorded 3,575,000 trips in 2021.[3]
		The system was launched in 2011 by PBSC Urban Solutions under the BIXI brand
		and was taken over by the Toronto Parking Authority in 2014. (Copied from
		Wikepedia, only for testing)
	</p>

	<h1>Rapidly Expanding Service</h1>

	<h2>Trip Count by Month 2017 - 2023</h2>

	<canvas id="TripCount"></canvas>

	<p> Trips have increased over the years. Data also shows that bike trips shows a
		seasonal pattern, with more rides in the warmer months and fewer rides during
		the colder months. August is the month with the most rides of the year while
		February tends to have the fewest rides.

		While the number of trips tend to increase after February, it was not the case in
		2020. After a small growth of ridership in March, the Province went into a lockdown
		on March 24, 2020. This impact is reflected in the ridership in April 2020, which showed
		ridership drop from March.
	</p>

	<h2>Station Count by Month 2017 - 2023</h2>
	<canvas id="StationCount"></canvas>
	<p>
		The Bikeshare system has been expanding, with 200 stations in 2017 and 659 stations in 2023.
		The data is btained by counting the number of unique station IDs each month. Based on what is
		shown from the data, major epansion usually happens in June and July. It is also interesting to
		observe small fluctions in the number of stations. It is likely due to constructions happening
		in various parts of the city, causing the stations to be temporarily removed.
	</p>
	<h2>Average Station Usage by Month 2017 - 2023</h2>
	<canvas id="AverageStationUsage"></canvas>


	<h2>Bike Count by Month 2017 - 2023</h2>
	<canvas id="BikeCount"></canvas>
	
	<p>
		Each bike is given a unique ID, which makes it possible to count the number of bikes in the system.
		Data shows that the number of bikes also fluctuates seasonally, like the number of trips taken.
		The number of bikes is highest in August 2020, with 6,455 bikes counted in the system.
	</p>
	<h2>Average Bike Usage by Month 2017 - 2023</h2>
	
	<canvas id="AverageBikeUsage"></canvas>


	<h2>Average Trip Duration by Month 2017 - 2023</h2>
	<canvas id="AverageTripDuration"></canvas>

	<p>
		The average trip duration also shows seasonality influence. Trip duration tend to be shorter in the colder months 
		(January to March, November to December). Average trip duration tends to stay between 10 to 20 minutes, with 2020 and 2021
		having longer average trip durations. The longest trip was in May 2020, when the average trip duration reaching 20.34 minutes.

	</p>
	<p>
		First, in 2020 and 2021, the average bike duration is higher than previous years and 2022. This could be the bikes were
		used for difference purposes during the two years. During the pandemic years of 2020 and 2021, bikes were likely to
		be used as a method of exercise and for pleasure trips with no set destinations. On the other hand, bikes are used for 
		commuting or travelling to a certain destination. This would explain why average trip duration decreased in 2022 when 
		many businesses and institutions announced returning to workers, either full-time or part-time. 
	</p>
	<p>
		Second, average trip duration might be affected by the ways bikes are charged. Bikeshare Toronto offers two usage plans, 
		a 30-minute plan or a 45-minute plans. For members, it is unlimited 30-minute plan or unlimited 45-minute plan, meaning members 
		can have borrow unlimited times, but have to return the bike to a dock after 30 minutes or 45 minutes, based on their plan. 
		However, after April 2023, Bikeshare Toronto changed the fee structure. Non-member bike users who does not purchase a short-term 
		or long-term plan will be charged by minute instead of renting the bike for a 30 minute period. Members and those who purchase 
		short-term plans can still use the bike for a 30 or 45-minute period, and will be charged by the minute if exceed the 30 or 
		45-minute period. This change in fee structure could have impact on average trip duration in the future. 
	</p>

	
	<h2> About the Data </h2>
	<p>
		The data for bikeshare usage is shared on <a href = "https://open.toronto.ca/dataset/bike-share-toronto-ridership-data/">City of 
		Toronto's Open Data Catalogue</a>. Data stretches from 2014 to 2023 March at the time of writing. However, data from 2014, 2015 and 2016 
		are incomplete. Data for 2014 is missing the first 9 months, 2015 misses the months starting October, and 2016 data misses Q1 and Q2 data. 
		This is the reason why this analysis only visualize bikeshare usages starting January 2017. 



	</p>

</body>
<style>
	body{
		
	}
	canvas {
		padding-left: 10%;
		padding-right: 10%;
		width: 80%;
		height: 100px;
		max-height: 400px;
		padding-bottom: 20px;
		padding-top: 20px;
	}

	:global(body) {
		margin: 0px;
		background-color: #f8f6f0;
	}

	main {
		text-align: center;
		padding: 0px;
		margin: 0px;
	}

	h1 {
		font-family: TradeGothicBold, sans-serif;
		font-size: 35px;
		font-weight: normal;
		color: #F1C500;
		padding-left: 30%;
		padding-right: 30%;
		
		
		
	}

	p {
		/* should pick a consistent font here probably */
		font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
			Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue",
			sans-serif;
		color: #404040;
		text-align: left;
		padding-left: 30%;
		padding-right: 30%;
		padding-bottom: 5px;
		padding-top: 5px;
		
	}

	h2 {
		text-align: center;
		font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
			Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue",
			sans-serif;
		color: "blue";
		color: green;
		padding-left: 30%;
		padding-right: 30%;
		padding-top: 50px;
	}
</style>
<script src="src/routes/chart.js"></script>


<script>

	function extractValues(data, variable) {
		const stationCounts = data.map((item) => item[variable]);
		return stationCounts;
	}

	var StationCount = extractValues(data, "StationCount")

	var Month = extractValues(data, "YearMonth")
	var TripCount = extractValues(data, "TripCount")
	var BikeCount = extractValues(data, "BikeCount")
	var AverageTripDuration = extractValues(data, "AverageTripDuration")
	var AverageBikeUsage = extractValues(data, "AverageBikeUsage")
	var AverageStationUsage = extractValues(data, "AverageStationUsage")
	console.log(AverageTripDuration)
	
	chartFunction('StationCount', Month, 'Station Count', StationCount, "#BFCCB5")
	chartFunction('AverageStationUsage', Month, 'Average Station Usage', AverageStationUsage, "#BFCCB5")

	chartFunction('TripCount', Month, 'Trip Count', TripCount)

	chartFunction('BikeCount', Month, 'Bike Count', BikeCount,'#F28500')
	chartFunction('AverageBikeUsage', Month, 'Average Bike Usage', AverageBikeUsage,'#F28500')

	chartFunction('AverageTripDuration', Month, 'Average Trip Duration', AverageTripDuration)
	
	
</script>


</html>