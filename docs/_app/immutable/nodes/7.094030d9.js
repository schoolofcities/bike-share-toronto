import{s as qe,n as ue,o as Xe,b as Yn,f as Kt,r as Di}from"../chunks/scheduler.9ccb0b1a.js";import{S as Ye,i as Ue,g as O,m as ie,s as V,y as Un,h as D,j as B,n as re,f as E,c as P,z as Wn,k as N,a as G,x,o as Gn,A as dn,r as xt,B as zi,C as tt,u as It,v as Tt,d as L,t as U,b as Mt,w as Ct,D as pn,e as ce,p as At}from"../chunks/index.d088b87a.js";import{i as bt,c as _n,a as mn,b as Li,I as vn,d as Jn,l as ae,e as Zt}from"../chunks/linear.d97c9073.js";/* empty css                              */const Ri=!0,ms=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ri},Symbol.toStringTag,{value:"Module"})),$i=""+new URL("../assets/top-logo-full-green.5561d31d.svg",import.meta.url).href;function ht(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Vi(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function Pi(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(r);++i<r;)a[i]=t+i*n;return a}function Hi(t){return t}var Ce=1,Ee=2,Oe=3,$t=4,gn=1e-6;function Bi(t){return"translate("+t+",0)"}function qi(t){return"translate(0,"+t+")"}function Xi(t){return e=>+t(e)}function Yi(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Ui(){return!this.__axis}function Kn(t,e){var n=[],i=null,r=null,a=6,o=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===Ce||t===$t?-1:1,d=t===$t||t===Ee?"x":"y",c=t===Ce||t===Oe?Bi:qi;function f(h){var p=i??(e.ticks?e.ticks.apply(e,n):e.domain()),v=r??(e.tickFormat?e.tickFormat.apply(e,n):Hi),T=Math.max(a,0)+l,w=e.range(),b=+w[0]+u,k=+w[w.length-1]+u,M=(e.bandwidth?Yi:Xi)(e.copy(),u),S=h.selection?h.selection():h,H=S.selectAll(".domain").data([null]),y=S.selectAll(".tick").data(p,e).order(),z=y.exit(),Y=y.enter().append("g").attr("class","tick"),Z=y.select("line"),J=y.select("text");H=H.merge(H.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),y=y.merge(Y),Z=Z.merge(Y.append("line").attr("stroke","currentColor").attr(d+"2",s*a)),J=J.merge(Y.append("text").attr("fill","currentColor").attr(d,s*T).attr("dy",t===Ce?"0em":t===Oe?"0.71em":"0.32em")),h!==S&&(H=H.transition(h),y=y.transition(h),Z=Z.transition(h),J=J.transition(h),z=z.transition(h).attr("opacity",gn).attr("transform",function(Q){return isFinite(Q=M(Q))?c(Q+u):this.getAttribute("transform")}),Y.attr("opacity",gn).attr("transform",function(Q){var it=this.parentNode.__axis;return c((it&&isFinite(it=it(Q))?it:M(Q))+u)})),z.remove(),H.attr("d",t===$t||t===Ee?o?"M"+s*o+","+b+"H"+u+"V"+k+"H"+s*o:"M"+u+","+b+"V"+k:o?"M"+b+","+s*o+"V"+u+"H"+k+"V"+s*o:"M"+b+","+u+"H"+k),y.attr("opacity",1).attr("transform",function(Q){return c(M(Q)+u)}),Z.attr(d+"2",s*a),J.attr(d,s*T).text(v),S.filter(Ui).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ee?"start":t===$t?"end":"middle"),S.each(function(){this.__axis=M})}return f.scale=function(h){return arguments.length?(e=h,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),f):n.slice()},f.tickValues=function(h){return arguments.length?(i=h==null?null:Array.from(h),f):i&&i.slice()},f.tickFormat=function(h){return arguments.length?(r=h,f):r},f.tickSize=function(h){return arguments.length?(a=o=+h,f):a},f.tickSizeInner=function(h){return arguments.length?(a=+h,f):a},f.tickSizeOuter=function(h){return arguments.length?(o=+h,f):o},f.tickPadding=function(h){return arguments.length?(l=+h,f):l},f.offset=function(h){return arguments.length?(u=+h,f):u},f}function Wi(t){return Kn(Oe,t)}function Gi(t){return Kn($t,t)}var Ji={value:()=>{}};function Zn(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new oe(n)}function oe(t){this._=t}function Ki(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}oe.prototype=Zn.prototype={constructor:oe,on:function(t,e){var n=this._,i=Ki(t+"",n),r,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((r=(t=i[a]).type)&&(r=Zi(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(r=(t=i[a]).type)n[r]=yn(n[r],t.name,e);else if(e==null)for(r in n)n[r]=yn(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new oe(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,r=a.length;i<r;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};function Zi(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function yn(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Ji,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var De="http://www.w3.org/1999/xhtml";const wn={svg:"http://www.w3.org/2000/svg",xhtml:De,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function me(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),wn.hasOwnProperty(e)?{space:wn[e],local:t}:t}function Qi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===De&&e.documentElement.namespaceURI===De?e.createElement(t):e.createElementNS(n,t)}}function ji(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qn(t){var e=me(t);return(e.local?ji:Qi)(e)}function tr(){}function We(t){return t==null?tr:function(){return this.querySelector(t)}}function er(t){typeof t!="function"&&(t=We(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,l=i[r]=new Array(o),u,s,d=0;d<o;++d)(u=a[d])&&(s=t.call(u,u.__data__,d,a))&&("__data__"in u&&(s.__data__=u.__data__),l[d]=s);return new j(i,this._parents)}function nr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ir(){return[]}function jn(t){return t==null?ir:function(){return this.querySelectorAll(t)}}function rr(t){return function(){return nr(t.apply(this,arguments))}}function ar(t){typeof t=="function"?t=rr(t):t=jn(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var o=e[a],l=o.length,u,s=0;s<l;++s)(u=o[s])&&(i.push(t.call(u,u.__data__,s,o)),r.push(u));return new j(i,r)}function ti(t){return function(){return this.matches(t)}}function ei(t){return function(e){return e.matches(t)}}var or=Array.prototype.find;function sr(t){return function(){return or.call(this.children,t)}}function lr(){return this.firstElementChild}function ur(t){return this.select(t==null?lr:sr(typeof t=="function"?t:ei(t)))}var cr=Array.prototype.filter;function fr(){return Array.from(this.children)}function hr(t){return function(){return cr.call(this.children,t)}}function dr(t){return this.selectAll(t==null?fr:hr(typeof t=="function"?t:ei(t)))}function pr(t){typeof t!="function"&&(t=ti(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,l=i[r]=[],u,s=0;s<o;++s)(u=a[s])&&t.call(u,u.__data__,s,a)&&l.push(u);return new j(i,this._parents)}function ni(t){return new Array(t.length)}function _r(){return new j(this._enter||this._groups.map(ni),this._parents)}function fe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}fe.prototype={constructor:fe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mr(t){return function(){return t}}function vr(t,e,n,i,r,a){for(var o=0,l,u=e.length,s=a.length;o<s;++o)(l=e[o])?(l.__data__=a[o],i[o]=l):n[o]=new fe(t,a[o]);for(;o<u;++o)(l=e[o])&&(r[o]=l)}function gr(t,e,n,i,r,a,o){var l,u,s=new Map,d=e.length,c=a.length,f=new Array(d),h;for(l=0;l<d;++l)(u=e[l])&&(f[l]=h=o.call(u,u.__data__,l,e)+"",s.has(h)?r[l]=u:s.set(h,u));for(l=0;l<c;++l)h=o.call(t,a[l],l,a)+"",(u=s.get(h))?(i[l]=u,u.__data__=a[l],s.delete(h)):n[l]=new fe(t,a[l]);for(l=0;l<d;++l)(u=e[l])&&s.get(f[l])===u&&(r[l]=u)}function yr(t){return t.__data__}function wr(t,e){if(!arguments.length)return Array.from(this,yr);var n=e?gr:vr,i=this._parents,r=this._groups;typeof t!="function"&&(t=mr(t));for(var a=r.length,o=new Array(a),l=new Array(a),u=new Array(a),s=0;s<a;++s){var d=i[s],c=r[s],f=c.length,h=br(t.call(d,d&&d.__data__,s,i)),p=h.length,v=l[s]=new Array(p),T=o[s]=new Array(p),w=u[s]=new Array(f);n(d,c,v,T,w,h,e);for(var b=0,k=0,M,S;b<p;++b)if(M=v[b]){for(b>=k&&(k=b+1);!(S=T[k])&&++k<p;);M._next=S||null}}return o=new j(o,i),o._enter=l,o._exit=u,o}function br(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kr(){return new j(this._exit||this._groups.map(ni),this._parents)}function xr(t,e,n){var i=this.enter(),r=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function Ir(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,a=i.length,o=Math.min(r,a),l=new Array(r),u=0;u<o;++u)for(var s=n[u],d=i[u],c=s.length,f=l[u]=new Array(c),h,p=0;p<c;++p)(h=s[p]||d[p])&&(f[p]=h);for(;u<r;++u)l[u]=n[u];return new j(l,this._parents)}function Tr(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,a=i[r],o;--r>=0;)(o=i[r])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Cr(t){t||(t=Er);function e(c,f){return c&&f?t(c.__data__,f.__data__):!c-!f}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o=n[a],l=o.length,u=r[a]=new Array(l),s,d=0;d<l;++d)(s=o[d])&&(u[d]=s);u.sort(e)}return new j(r,this._parents).order()}function Er(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Mr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ar(){return Array.from(this)}function Nr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null}function Sr(){let t=0;for(const e of this)++t;return t}function Fr(){return!this.node()}function Or(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],a=0,o=r.length,l;a<o;++a)(l=r[a])&&t.call(l,l.__data__,a,r);return this}function Dr(t){return function(){this.removeAttribute(t)}}function zr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lr(t,e){return function(){this.setAttribute(t,e)}}function Rr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $r(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Vr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Pr(t,e){var n=me(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?zr:Dr:typeof e=="function"?n.local?Vr:$r:n.local?Rr:Lr)(n,e))}function ii(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Hr(t){return function(){this.style.removeProperty(t)}}function Br(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qr(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Xr(t,e,n){return arguments.length>1?this.each((e==null?Hr:typeof e=="function"?qr:Br)(t,e,n??"")):St(this.node(),t)}function St(t,e){return t.style.getPropertyValue(e)||ii(t).getComputedStyle(t,null).getPropertyValue(e)}function Yr(t){return function(){delete this[t]}}function Ur(t,e){return function(){this[t]=e}}function Wr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Gr(t,e){return arguments.length>1?this.each((e==null?Yr:typeof e=="function"?Wr:Ur)(t,e)):this.node()[t]}function ri(t){return t.trim().split(/^|\s+/)}function Ge(t){return t.classList||new ai(t)}function ai(t){this._node=t,this._names=ri(t.getAttribute("class")||"")}ai.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function oi(t,e){for(var n=Ge(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function si(t,e){for(var n=Ge(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Jr(t){return function(){oi(this,t)}}function Kr(t){return function(){si(this,t)}}function Zr(t,e){return function(){(e.apply(this,arguments)?oi:si)(this,t)}}function Qr(t,e){var n=ri(t+"");if(arguments.length<2){for(var i=Ge(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?Zr:e?Jr:Kr)(n,e))}function jr(){this.textContent=""}function ta(t){return function(){this.textContent=t}}function ea(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function na(t){return arguments.length?this.each(t==null?jr:(typeof t=="function"?ea:ta)(t)):this.node().textContent}function ia(){this.innerHTML=""}function ra(t){return function(){this.innerHTML=t}}function aa(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function oa(t){return arguments.length?this.each(t==null?ia:(typeof t=="function"?aa:ra)(t)):this.node().innerHTML}function sa(){this.nextSibling&&this.parentNode.appendChild(this)}function la(){return this.each(sa)}function ua(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ca(){return this.each(ua)}function fa(t){var e=typeof t=="function"?t:Qn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ha(){return null}function da(t,e){var n=typeof t=="function"?t:Qn(t),i=e==null?ha:typeof e=="function"?e:We(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function pa(){var t=this.parentNode;t&&t.removeChild(this)}function _a(){return this.each(pa)}function ma(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function va(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ga(t){return this.select(t?va:ma)}function ya(t){return arguments.length?this.property("__data__",t):this.node().__data__}function wa(t){return function(e){t.call(this,e,this.__data__)}}function ba(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function ka(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,a;n<r;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function xa(t,e,n){return function(){var i=this.__on,r,a=wa(e);if(i){for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=e;return}}this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Ia(t,e,n){var i=ba(t+""),r,a=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,s=l.length,d;u<s;++u)for(r=0,d=l[u];r<a;++r)if((o=i[r]).type===d.type&&o.name===d.name)return d.value}return}for(l=e?xa:ka,r=0;r<a;++r)this.each(l(i[r],e,n));return this}function li(t,e,n){var i=ii(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Ta(t,e){return function(){return li(this,t,e)}}function Ca(t,e){return function(){return li(this,t,e.apply(this,arguments))}}function Ea(t,e){return this.each((typeof e=="function"?Ca:Ta)(t,e))}function*Ma(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length,o;r<a;++r)(o=i[r])&&(yield o)}var ui=[null];function j(t,e){this._groups=t,this._parents=e}function Yt(){return new j([[document.documentElement]],ui)}function Aa(){return this}j.prototype=Yt.prototype={constructor:j,select:er,selectAll:ar,selectChild:ur,selectChildren:dr,filter:pr,data:wr,enter:_r,exit:kr,join:xr,merge:Ir,selection:Aa,order:Tr,sort:Cr,call:Mr,nodes:Ar,node:Nr,size:Sr,empty:Fr,each:Or,attr:Pr,style:Xr,property:Gr,classed:Qr,text:na,html:oa,raise:la,lower:ca,append:fa,insert:da,remove:_a,clone:ga,datum:ya,on:Ia,dispatch:Ea,[Symbol.iterator]:Ma};function et(t){return typeof t=="string"?new j([[document.querySelector(t)]],[document.documentElement]):new j([[t]],ui)}var bn=180/Math.PI,ze={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ci(t,e,n,i,r,a){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,u/=l),t*i<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*bn,skewX:Math.atan(u)*bn,scaleX:o,scaleY:l}}var Qt;function Na(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ze:ci(e.a,e.b,e.c,e.d,e.e,e.f)}function Sa(t){return t==null||(Qt||(Qt=document.createElementNS("http://www.w3.org/2000/svg","g")),Qt.setAttribute("transform",t),!(t=Qt.transform.baseVal.consolidate()))?ze:(t=t.matrix,ci(t.a,t.b,t.c,t.d,t.e,t.f))}function fi(t,e,n,i){function r(s){return s.length?s.pop()+" ":""}function a(s,d,c,f,h,p){if(s!==c||d!==f){var v=h.push("translate(",null,e,null,n);p.push({i:v-4,x:bt(s,c)},{i:v-2,x:bt(d,f)})}else(c||f)&&h.push("translate("+c+e+f+n)}function o(s,d,c,f){s!==d?(s-d>180?d+=360:d-s>180&&(s+=360),f.push({i:c.push(r(c)+"rotate(",null,i)-2,x:bt(s,d)})):d&&c.push(r(c)+"rotate("+d+i)}function l(s,d,c,f){s!==d?f.push({i:c.push(r(c)+"skewX(",null,i)-2,x:bt(s,d)}):d&&c.push(r(c)+"skewX("+d+i)}function u(s,d,c,f,h,p){if(s!==c||d!==f){var v=h.push(r(h)+"scale(",null,",",null,")");p.push({i:v-4,x:bt(s,c)},{i:v-2,x:bt(d,f)})}else(c!==1||f!==1)&&h.push(r(h)+"scale("+c+","+f+")")}return function(s,d){var c=[],f=[];return s=t(s),d=t(d),a(s.translateX,s.translateY,d.translateX,d.translateY,c,f),o(s.rotate,d.rotate,c,f),l(s.skewX,d.skewX,c,f),u(s.scaleX,s.scaleY,d.scaleX,d.scaleY,c,f),s=d=null,function(h){for(var p=-1,v=f.length,T;++p<v;)c[(T=f[p]).i]=T.x(h);return c.join("")}}}var Fa=fi(Na,"px, ","px)","deg)"),Oa=fi(Sa,", ",")",")"),Ft=0,Vt=0,zt=0,hi=1e3,he,Pt,de=0,Et=0,ve=0,Xt=typeof performance=="object"&&performance.now?performance:Date,di=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Je(){return Et||(di(Da),Et=Xt.now()+ve)}function Da(){Et=0}function pe(){this._call=this._time=this._next=null}pe.prototype=pi.prototype={constructor:pe,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Je():+n)+(e==null?0:+e),!this._next&&Pt!==this&&(Pt?Pt._next=this:he=this,Pt=this),this._call=t,this._time=n,Le()},stop:function(){this._call&&(this._call=null,this._time=1/0,Le())}};function pi(t,e,n){var i=new pe;return i.restart(t,e,n),i}function za(){Je(),++Ft;for(var t=he,e;t;)(e=Et-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ft}function kn(){Et=(de=Xt.now())+ve,Ft=Vt=0;try{za()}finally{Ft=0,Ra(),Et=0}}function La(){var t=Xt.now(),e=t-de;e>hi&&(ve-=e,de=t)}function Ra(){for(var t,e=he,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:he=n);Pt=t,Le(i)}function Le(t){if(!Ft){Vt&&(Vt=clearTimeout(Vt));var e=t-Et;e>24?(t<1/0&&(Vt=setTimeout(kn,t-Xt.now()-ve)),zt&&(zt=clearInterval(zt))):(zt||(de=Xt.now(),zt=setInterval(La,hi)),Ft=1,di(kn))}}function xn(t,e,n){var i=new pe;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var $a=Zn("start","end","cancel","interrupt"),Va=[],_i=0,In=1,Re=2,se=3,Tn=4,$e=5,le=6;function ge(t,e,n,i,r,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Pa(t,n,{name:e,index:i,group:r,on:$a,tween:Va,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:_i})}function Ke(t,e){var n=nt(t,e);if(n.state>_i)throw new Error("too late; already scheduled");return n}function at(t,e){var n=nt(t,e);if(n.state>se)throw new Error("too late; already running");return n}function nt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Pa(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=pi(a,0,n.time);function a(s){n.state=In,n.timer.restart(o,n.delay,n.time),n.delay<=s&&o(s-n.delay)}function o(s){var d,c,f,h;if(n.state!==In)return u();for(d in i)if(h=i[d],h.name===n.name){if(h.state===se)return xn(o);h.state===Tn?(h.state=le,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[d]):+d<e&&(h.state=le,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[d])}if(xn(function(){n.state===se&&(n.state=Tn,n.timer.restart(l,n.delay,n.time),l(s))}),n.state=Re,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Re){for(n.state=se,r=new Array(f=n.tween.length),d=0,c=-1;d<f;++d)(h=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function l(s){for(var d=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(u),n.state=$e,1),c=-1,f=r.length;++c<f;)r[c].call(t,d);n.state===$e&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=le,n.timer.stop(),delete i[e];for(var s in i)return;delete t.__transition}}function Ha(t,e){var n=t.__transition,i,r,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((i=n[o]).name!==e){a=!1;continue}r=i.state>Re&&i.state<$e,i.state=le,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[o]}a&&delete t.__transition}}function Ba(t){return this.each(function(){Ha(this,t)})}function qa(t,e){var n,i;return function(){var r=at(this,t),a=r.tween;if(a!==n){i=n=a;for(var o=0,l=i.length;o<l;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function Xa(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=at(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var l={name:e,value:n},u=0,s=r.length;u<s;++u)if(r[u].name===e){r[u]=l;break}u===s&&r.push(l)}a.tween=r}}function Ya(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=nt(this.node(),n).tween,r=0,a=i.length,o;r<a;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((e==null?qa:Xa)(n,t,e))}function Ze(t,e,n){var i=t._id;return t.each(function(){var r=at(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return nt(r,i).value[e]}}function mi(t,e){var n;return(typeof e=="number"?bt:e instanceof _n?mn:(n=_n(e))?(e=n,mn):Li)(t,e)}function Ua(t){return function(){this.removeAttribute(t)}}function Wa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ga(t,e,n){var i,r=n+"",a;return function(){var o=this.getAttribute(t);return o===r?null:o===i?a:a=e(i=o,n)}}function Ja(t,e,n){var i,r=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?a:a=e(i=o,n)}}function Ka(t,e,n){var i,r,a;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===i&&u===r?a:(r=u,a=e(i=o,l)))}}function Za(t,e,n){var i,r,a;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===i&&u===r?a:(r=u,a=e(i=o,l)))}}function Qa(t,e){var n=me(t),i=n==="transform"?Oa:mi;return this.attrTween(t,typeof e=="function"?(n.local?Za:Ka)(n,i,Ze(this,"attr."+t,e)):e==null?(n.local?Wa:Ua)(n):(n.local?Ja:Ga)(n,i,e))}function ja(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function to(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function eo(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&to(t,a)),n}return r._value=e,r}function no(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&ja(t,a)),n}return r._value=e,r}function io(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=me(t);return this.tween(n,(i.local?eo:no)(i,e))}function ro(t,e){return function(){Ke(this,t).delay=+e.apply(this,arguments)}}function ao(t,e){return e=+e,function(){Ke(this,t).delay=e}}function oo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ro:ao)(e,t)):nt(this.node(),e).delay}function so(t,e){return function(){at(this,t).duration=+e.apply(this,arguments)}}function lo(t,e){return e=+e,function(){at(this,t).duration=e}}function uo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?so:lo)(e,t)):nt(this.node(),e).duration}function co(t,e){if(typeof e!="function")throw new Error;return function(){at(this,t).ease=e}}function fo(t){var e=this._id;return arguments.length?this.each(co(e,t)):nt(this.node(),e).ease}function ho(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,t).ease=n}}function po(t){if(typeof t!="function")throw new Error;return this.each(ho(this._id,t))}function _o(t){typeof t!="function"&&(t=ti(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,l=i[r]=[],u,s=0;s<o;++s)(u=a[s])&&t.call(u,u.__data__,s,a)&&l.push(u);return new lt(i,this._parents,this._name,this._id)}function mo(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),l=0;l<a;++l)for(var u=e[l],s=n[l],d=u.length,c=o[l]=new Array(d),f,h=0;h<d;++h)(f=u[h]||s[h])&&(c[h]=f);for(;l<i;++l)o[l]=e[l];return new lt(o,this._parents,this._name,this._id)}function vo(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function go(t,e,n){var i,r,a=vo(e)?Ke:at;return function(){var o=a(this,t),l=o.on;l!==i&&(r=(i=l).copy()).on(e,n),o.on=r}}function yo(t,e){var n=this._id;return arguments.length<2?nt(this.node(),n).on.on(t):this.each(go(n,t,e))}function wo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function bo(){return this.on("end.remove",wo(this._id))}function ko(t){var e=this._name,n=this._id;typeof t!="function"&&(t=We(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var l=i[o],u=l.length,s=a[o]=new Array(u),d,c,f=0;f<u;++f)(d=l[f])&&(c=t.call(d,d.__data__,f,l))&&("__data__"in d&&(c.__data__=d.__data__),s[f]=c,ge(s[f],e,n,f,s,nt(d,n)));return new lt(a,this._parents,e,n)}function xo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=jn(t));for(var i=this._groups,r=i.length,a=[],o=[],l=0;l<r;++l)for(var u=i[l],s=u.length,d,c=0;c<s;++c)if(d=u[c]){for(var f=t.call(d,d.__data__,c,u),h,p=nt(d,n),v=0,T=f.length;v<T;++v)(h=f[v])&&ge(h,e,n,v,f,p);a.push(f),o.push(d)}return new lt(a,o,e,n)}var Io=Yt.prototype.constructor;function To(){return new Io(this._groups,this._parents)}function Co(t,e){var n,i,r;return function(){var a=St(this,t),o=(this.style.removeProperty(t),St(this,t));return a===o?null:a===n&&o===i?r:r=e(n=a,i=o)}}function vi(t){return function(){this.style.removeProperty(t)}}function Eo(t,e,n){var i,r=n+"",a;return function(){var o=St(this,t);return o===r?null:o===i?a:a=e(i=o,n)}}function Mo(t,e,n){var i,r,a;return function(){var o=St(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),St(this,t))),o===u?null:o===i&&u===r?a:(r=u,a=e(i=o,l))}}function Ao(t,e){var n,i,r,a="style."+e,o="end."+a,l;return function(){var u=at(this,t),s=u.on,d=u.value[a]==null?l||(l=vi(e)):void 0;(s!==n||r!==d)&&(i=(n=s).copy()).on(o,r=d),u.on=i}}function No(t,e,n){var i=(t+="")=="transform"?Fa:mi;return e==null?this.styleTween(t,Co(t,i)).on("end.style."+t,vi(t)):typeof e=="function"?this.styleTween(t,Mo(t,i,Ze(this,"style."+t,e))).each(Ao(this._id,t)):this.styleTween(t,Eo(t,i,e),n).on("end.style."+t,null)}function So(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Fo(t,e,n){var i,r;function a(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&So(t,o,n)),i}return a._value=e,a}function Oo(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Fo(t,e,n??""))}function Do(t){return function(){this.textContent=t}}function zo(t){return function(){var e=t(this);this.textContent=e??""}}function Lo(t){return this.tween("text",typeof t=="function"?zo(Ze(this,"text",t)):Do(t==null?"":t+""))}function Ro(t){return function(e){this.textContent=t.call(this,e)}}function $o(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Ro(r)),e}return i._value=t,i}function Vo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,$o(t))}function Po(){for(var t=this._name,e=this._id,n=gi(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],l=o.length,u,s=0;s<l;++s)if(u=o[s]){var d=nt(u,e);ge(u,t,n,s,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new lt(i,this._parents,t,n)}function Ho(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(a,o){var l={value:o},u={value:function(){--r===0&&a()}};n.each(function(){var s=at(this,i),d=s.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),s.on=e}),r===0&&a()})}var Bo=0;function lt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function gi(){return++Bo}var st=Yt.prototype;lt.prototype={constructor:lt,select:ko,selectAll:xo,selectChild:st.selectChild,selectChildren:st.selectChildren,filter:_o,merge:mo,selection:To,transition:Po,call:st.call,nodes:st.nodes,node:st.node,size:st.size,empty:st.empty,each:st.each,on:yo,attr:Qa,attrTween:io,style:No,styleTween:Oo,text:Lo,textTween:Vo,remove:bo,tween:Ya,delay:oo,duration:uo,ease:fo,easeVarying:po,end:Ho,[Symbol.iterator]:st[Symbol.iterator]};const jt=t=>+t;function qo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Xo={time:null,delay:0,duration:250,ease:qo};function Yo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Uo(t){var e,n;t instanceof lt?(e=t._id,t=t._name):(e=gi(),(n=Xo).time=Je(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],l=o.length,u,s=0;s<l;++s)(u=o[s])&&ge(u,t,e,s,o,n||Yo(u,e));return new lt(i,this._parents,t,e)}Yt.prototype.interrupt=Ba;Yt.prototype.transition=Uo;const Ve=Math.PI,Pe=2*Ve,kt=1e-6,Wo=Pe-kt;function yi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Go(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yi;const n=10**e;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class Jo{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yi:Go(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,a,o){this._append`C${+e},${+n},${+i},${+r},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,i,r,a){if(e=+e,n=+n,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=i-e,s=r-n,d=o-e,c=l-n,f=d*d+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>kt)if(!(Math.abs(c*u-s*d)>kt)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=i-o,p=r-l,v=u*u+s*s,T=h*h+p*p,w=Math.sqrt(v),b=Math.sqrt(f),k=a*Math.tan((Ve-Math.acos((v+f-T)/(2*w*b)))/2),M=k/b,S=k/w;Math.abs(M-1)>kt&&this._append`L${e+M*d},${n+M*c}`,this._append`A${a},${a},0,0,${+(c*h>d*p)},${this._x1=e+S*u},${this._y1=n+S*s}`}}arc(e,n,i,r,a,o){if(e=+e,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(r),u=i*Math.sin(r),s=e+l,d=n+u,c=1^o,f=o?r-a:a-r;this._x1===null?this._append`M${s},${d}`:(Math.abs(this._x1-s)>kt||Math.abs(this._y1-d)>kt)&&this._append`L${s},${d}`,i&&(f<0&&(f=f%Pe+Pe),f>Wo?this._append`A${i},${i},0,1,${c},${e-l},${n-u}A${i},${i},0,1,${c},${this._x1=s},${this._y1=d}`:f>kt&&this._append`A${i},${i},0,${+(f>=Ve)},${c},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}var Cn={},Me={},Ae=34,Lt=10,Ne=13;function wi(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Ko(t,e){var n=wi(t);return function(i,r){return e(n(i),r,t)}}function En(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var r in i)r in e||n.push(e[r]=r)}),n}function K(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Zo(t){return t<0?"-"+K(-t,6):t>9999?"+"+K(t,6):K(t,4)}function Qo(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Zo(t.getUTCFullYear())+"-"+K(t.getUTCMonth()+1,2)+"-"+K(t.getUTCDate(),2)+(r?"T"+K(e,2)+":"+K(n,2)+":"+K(i,2)+"."+K(r,3)+"Z":i?"T"+K(e,2)+":"+K(n,2)+":"+K(i,2)+"Z":n||e?"T"+K(e,2)+":"+K(n,2)+"Z":"")}function jo(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function i(c,f){var h,p,v=r(c,function(T,w){if(h)return h(T,w-1);p=T,h=f?Ko(T,f):wi(T)});return v.columns=p||[],v}function r(c,f){var h=[],p=c.length,v=0,T=0,w,b=p<=0,k=!1;c.charCodeAt(p-1)===Lt&&--p,c.charCodeAt(p-1)===Ne&&--p;function M(){if(b)return Me;if(k)return k=!1,Cn;var H,y=v,z;if(c.charCodeAt(y)===Ae){for(;v++<p&&c.charCodeAt(v)!==Ae||c.charCodeAt(++v)===Ae;);return(H=v)>=p?b=!0:(z=c.charCodeAt(v++))===Lt?k=!0:z===Ne&&(k=!0,c.charCodeAt(v)===Lt&&++v),c.slice(y+1,H-1).replace(/""/g,'"')}for(;v<p;){if((z=c.charCodeAt(H=v++))===Lt)k=!0;else if(z===Ne)k=!0,c.charCodeAt(v)===Lt&&++v;else if(z!==n)continue;return c.slice(y,H)}return b=!0,c.slice(y,p)}for(;(w=M())!==Me;){for(var S=[];w!==Cn&&w!==Me;)S.push(w),w=M();f&&(S=f(S,T++))==null||h.push(S)}return h}function a(c,f){return c.map(function(h){return f.map(function(p){return d(h[p])}).join(t)})}function o(c,f){return f==null&&(f=En(c)),[f.map(d).join(t)].concat(a(c,f)).join(`
`)}function l(c,f){return f==null&&(f=En(c)),a(c,f).join(`
`)}function u(c){return c.map(s).join(`
`)}function s(c){return c.map(d).join(t)}function d(c){return c==null?"":c instanceof Date?Qo(c):e.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:i,parseRows:r,format:o,formatBody:l,formatRows:u,formatRow:s,formatValue:d}}var ts=jo(","),es=ts.parse;function ns(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function is(t,e){return fetch(t,e).then(ns)}function rs(t){return function(e,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),is(e,n).then(function(r){return t(r,i)})}}var He=rs(es);const Mn=Symbol("implicit");function bi(){var t=new vn,e=[],n=[],i=Mn;function r(a){let o=t.get(a);if(o===void 0){if(i!==Mn)return i;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new vn;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return bi(e,n).unknown(i)},Jn.apply(r,arguments),r}function Qe(){var t=bi().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,a,o,l=!1,u=0,s=0,d=.5;delete t.unknown;function c(){var f=e().length,h=r<i,p=h?r:i,v=h?i:r;a=(v-p)/Math.max(1,f-u+s*2),l&&(a=Math.floor(a)),p+=(v-p-a*(f-u))*d,o=a*(1-u),l&&(p=Math.round(p),o=Math.round(o));var T=Pi(f).map(function(w){return p+a*w});return n(h?T.reverse():T)}return t.domain=function(f){return arguments.length?(e(f),c()):e()},t.range=function(f){return arguments.length?([i,r]=f,i=+i,r=+r,c()):[i,r]},t.rangeRound=function(f){return[i,r]=f,i=+i,r=+r,l=!0,c()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(l=!!f,c()):l},t.padding=function(f){return arguments.length?(u=Math.min(1,s=+f),c()):u},t.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),c()):u},t.paddingOuter=function(f){return arguments.length?(s=+f,c()):s},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),c()):d},t.copy=function(){return Qe(e(),[i,r]).round(l).paddingInner(u).paddingOuter(s).align(d)},Jn.apply(c(),arguments)}function ki(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ki(e())},t}function te(){return ki(Qe.apply(null,arguments).paddingInner(1))}function W(t){return function(){return t}}function xi(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new Jo(e)}function Ii(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ti(t){this._context=t}Ti.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function je(t){return new Ti(t)}function Ci(t){return t[0]}function Ei(t){return t[1]}function Nt(t,e){var n=W(!0),i=null,r=je,a=null,o=xi(l);t=typeof t=="function"?t:t===void 0?Ci:W(t),e=typeof e=="function"?e:e===void 0?Ei:W(e);function l(u){var s,d=(u=Ii(u)).length,c,f=!1,h;for(i==null&&(a=r(h=o())),s=0;s<=d;++s)!(s<d&&n(c=u[s],s,u))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(c,s,u),+e(c,s,u));if(h)return a=null,h+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:W(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:W(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:W(!!u),l):n},l.curve=function(u){return arguments.length?(r=u,i!=null&&(a=r(i)),l):r},l.context=function(u){return arguments.length?(u==null?i=a=null:a=r(i=u),l):i},l}function Ht(t,e,n){var i=null,r=W(!0),a=null,o=je,l=null,u=xi(s);t=typeof t=="function"?t:t===void 0?Ci:W(+t),e=typeof e=="function"?e:W(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Ei:W(+n);function s(c){var f,h,p,v=(c=Ii(c)).length,T,w=!1,b,k=new Array(v),M=new Array(v);for(a==null&&(l=o(b=u())),f=0;f<=v;++f){if(!(f<v&&r(T=c[f],f,c))===w)if(w=!w)h=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=f-1;p>=h;--p)l.point(k[p],M[p]);l.lineEnd(),l.areaEnd()}w&&(k[f]=+t(T,f,c),M[f]=+e(T,f,c),l.point(i?+i(T,f,c):k[f],n?+n(T,f,c):M[f]))}if(b)return l=null,b+""||null}function d(){return Nt().defined(r).curve(o).context(a)}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:W(+c),i=null,s):t},s.x0=function(c){return arguments.length?(t=typeof c=="function"?c:W(+c),s):t},s.x1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:W(+c),s):i},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:W(+c),n=null,s):e},s.y0=function(c){return arguments.length?(e=typeof c=="function"?c:W(+c),s):e},s.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:W(+c),s):n},s.lineX0=s.lineY0=function(){return d().x(t).y(e)},s.lineY1=function(){return d().x(t).y(n)},s.lineX1=function(){return d().x(i).y(e)},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:W(!!c),s):r},s.curve=function(c){return arguments.length?(o=c,a!=null&&(l=o(a)),s):o},s.context=function(c){return arguments.length?(c==null?a=l=null:l=o(a=c),s):a},s}var Mi=tn(je);function Ai(t){this._curve=t}Ai.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function tn(t){function e(n){return new Ai(t(n))}return e._curve=t,e}function Bt(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(tn(n)):e()._curve},t}function An(){return Bt(Nt().curve(Mi))}function Nn(){var t=Ht().curve(Mi),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Bt(n())},delete t.lineX0,t.lineEndAngle=function(){return Bt(i())},delete t.lineX1,t.lineInnerRadius=function(){return Bt(r())},delete t.lineY0,t.lineOuterRadius=function(){return Bt(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(tn(o)):e()._curve},t}function Sn(){}function Be(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ni(t,e){this._context=t,this._k=(1-e)/6}Ni.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Be(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Be(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(i){return new Ni(i,e)}return n.tension=function(i){return t(+i)},n})(0);function Si(t,e){this._context=t,this._k=(1-e)/6}Si.prototype={areaStart:Sn,areaEnd:Sn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Be(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ee=function t(e){function n(i){return new Si(i,e)}return n.tension=function(i){return t(+i)},n}(0);function Fn(t){return t<0?-1:1}function On(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),l=(a*r+o*i)/(i+r);return(Fn(a)+Fn(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function Dn(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Se(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,l=(a-i)/3;t._context.bezierCurveTo(i+l,r+l*e,a-l,o-l*n,a,o)}function _e(t){this._context=t}_e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Se(this,this._t0,Dn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Se(this,Dn(this,n=On(this,t,e)),n);break;default:Se(this,this._t0,n=On(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(_e.prototype).point=function(t,e){_e.prototype.point.call(this,e,t)};function ct(t){return new _e(t)}function qt(t,e,n){this.k=t,this.x=e,this.y=n}qt.prototype={constructor:qt,scale:function(t){return t===1?this:new qt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};qt.prototype;function as(t){let e,n,i,r,a;return{c(){e=O("div"),n=O("p"),i=ie(t[0]),r=V(),a=Un("svg"),this.h()},l(o){e=D(o,"DIV",{class:!0});var l=B(e);n=D(l,"P",{class:!0});var u=B(n);i=re(u,t[0]),u.forEach(E),r=P(l),a=Wn(l,"svg",{}),B(a).forEach(E),l.forEach(E),this.h()},h(){N(n,"class","graph-title svelte-18x9z4j"),N(e,"class","radial svelte-18x9z4j")},m(o,l){G(o,e,l),x(e,n),x(n,i),x(e,r),x(e,a),t[3](a)},p(o,[l]){l&1&&Gn(i,o[0])},i:ue,o:ue,d(o){o&&E(e),t[3](null)}}}const ne=350,Rt=2e3;function os(t,e,n){let i,{data:r}=e,{title:a}=e;const o={top:50,right:0,bottom:0,left:0},l=ne,u=Math.min(ne,l)/2-Math.max(o.top,o.bottom);let s=!1;Xe(async()=>{const h=new IntersectionObserver(d,{threshold:.1});return h.observe(i),()=>h.disconnect()});function d(h){h[0].isIntersecting&&!s&&(s=!0,c())}function c(){const h=et(i).attr("width",ne).attr("height",l).append("g").attr("transform",`translate(${ne/2}, ${l/2})`),p=Qe().domain(r.map(y=>y.half_hour_intervals)).range([0,2*Math.PI]).padding(.1),v=ae().domain([0,ht(r,y=>Math.max(y.EFIT,y.ICONIC))+.004]).range([0,u]);h.selectAll(".x-axis").data(r).enter().append("line").attr("class","x-axis").attr("x1",0).attr("y1",0).attr("x2",(y,z)=>z%2===0?Math.cos(p(y.half_hour_intervals))*u:0).attr("y2",(y,z)=>z%2===0?Math.sin(p(y.half_hour_intervals))*u:0).attr("stroke","lightgray").attr("stroke-width",(y,z)=>z%3===0?"0.6":"0.3").attr("stroke-dasharray",(y,z)=>z%3===0?"0,0":"4,3"),h.append("circle").attr("class","circle-border").attr("cx",0).attr("cy",0).attr("r",u).attr("fill","none").attr("stroke","lightgray").attr("stroke-width",1);const T=An().angle(y=>p(y.half_hour_intervals)+p.bandwidth()/2+Math.PI).radius(y=>v(y.ICONIC)).curve(ee);h.append("path").datum(r).attr("class","area-iconic").attr("d",Nn().angle(y=>p(y.half_hour_intervals)+p.bandwidth()/2+Math.PI).innerRadius(0).outerRadius(y=>v(y.ICONIC)).curve(ee)(r)).attr("fill","var(--brandDarkGreen)").attr("opacity",0).transition().delay(1500).duration(Rt).ease(jt).attr("opacity",.03),h.append("path").datum(r).attr("class","area-efit").attr("d",Nn().angle(y=>p(y.half_hour_intervals)+p.bandwidth()/2+Math.PI).innerRadius(0).outerRadius(y=>v(y.EFIT)).curve(ee)(r)).attr("fill","#e6841a").attr("opacity",0).transition().delay(1500).duration(Rt).ease(jt).attr("opacity",.03);const w=h.append("path").datum(r).attr("class","curve-iconic").attr("fill","none").attr("stroke","var(--brandDarkGreen)").attr("stroke-width",1.5).attr("d",T),b=w.node().getTotalLength();w.attr("stroke-dasharray",b).attr("stroke-dashoffset",b).transition().ease(jt).duration(Rt).attr("stroke-dashoffset",0);const k=An().angle(y=>p(y.half_hour_intervals)+p.bandwidth()/2+Math.PI).radius(y=>v(y.EFIT)).curve(ee),M=h.append("path").datum(r).attr("class","curve-efit").attr("fill","none").attr("stroke","#e6841a").attr("stroke-width",1.5).attr("d",k),S=M.node().getTotalLength();M.attr("stroke-dasharray",S).attr("stroke-dashoffset",S).transition().duration(Rt).ease(jt).attr("stroke-dashoffset",0),s&&setTimeout(()=>{h.selectAll(".area-iconic, .area-efit").on("mouseover",function(){et(this).transition().duration(200).attr("opacity",.1)}).on("mouseout",function(){et(this).transition().duration(200).attr("opacity",.03)}),H()},Rt+100);function H(){const y=new MouseEvent("mouseover");document.querySelectorAll(".area-iconic, .area-efit").forEach(Y=>{Y.matches(":hover")&&Y.dispatchEvent(y)})}h.selectAll(".x-label").data(r).enter().append("text").attr("fill","rgba(0, 0, 0, 0.7)").attr("class","x-label").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("x",y=>Math.cos(p(y.half_hour_intervals)-Math.PI/2+Math.PI)*(u+20)).attr("y",y=>Math.sin(p(y.half_hour_intervals)-Math.PI/2+Math.PI)*(u+15)).style("font-size","10px").style("fill","grey").text((y,z)=>z%2===0?y.half_hour_intervals:""),h.append("g").attr("transform","translate(-60, 270)"),h.append("circle").attr("class","x-axis-circle").attr("cx",0).attr("cy",0).attr("r",0).attr("fill","white").attr("stroke","lightgray").attr("stroke-width",.5),h.append("text").attr("x",12).attr("y",-u+10).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","10px").style("fill","grey").text("PM"),h.append("text").attr("x",-12).attr("y",u-10).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","10px").style("fill","grey").text("AM")}function f(h){Yn[h?"unshift":"push"](()=>{i=h,n(1,i)})}return t.$$set=h=>{"data"in h&&n(2,r=h.data),"title"in h&&n(0,a=h.title)},[a,i,r,f]}class ye extends Ye{constructor(e){super(),Ue(this,e,os,as,qe,{data:2,title:0})}}function ss(t){let e,n,i,r,a,o,l,u,s,d,c,f,h,p,v,T;return{c(){e=O("p"),n=ie(t[0]),i=V(),r=O("div"),a=Un("svg"),o=V(),l=O("div"),u=O("button"),s=ie("Normalized by type of bike"),c=V(),f=O("button"),h=ie("Total number of trips"),this.h()},l(w){e=D(w,"P",{class:!0});var b=B(e);n=re(b,t[0]),b.forEach(E),i=P(w),r=D(w,"DIV",{class:!0});var k=B(r);a=Wn(k,"svg",{}),B(a).forEach(E),k.forEach(E),o=P(w),l=D(w,"DIV",{class:!0});var M=B(l);u=D(M,"BUTTON",{class:!0});var S=B(u);s=re(S,"Normalized by type of bike"),S.forEach(E),c=P(M),f=D(M,"BUTTON",{class:!0});var H=B(f);h=re(H,"Total number of trips"),H.forEach(E),M.forEach(E),this.h()},h(){N(e,"class","graph-title svelte-p68fwc"),N(r,"class","svg-container svelte-p68fwc"),N(u,"class",d=Kt(t[2]?"button button-on":"button button-off")+" svelte-p68fwc"),N(f,"class",p=Kt(t[2]?"button button-off":"button button-on")+" svelte-p68fwc"),N(l,"class","button-container svelte-p68fwc")},m(w,b){G(w,e,b),x(e,n),G(w,i,b),G(w,r,b),x(r,a),t[16](a),G(w,o,b),G(w,l,b),x(l,u),x(u,s),x(l,c),x(l,f),x(f,h),v||(T=[dn(u,"click",t[17]),dn(f,"click",t[18])],v=!0)},p(w,[b]){b&1&&Gn(n,w[0]),b&4&&d!==(d=Kt(w[2]?"button button-on":"button button-off")+" svelte-p68fwc")&&N(u,"class",d),b&4&&p!==(p=Kt(w[2]?"button button-off":"button button-on")+" svelte-p68fwc")&&N(f,"class",p)},i:ue,o:ue,d(w){w&&(E(e),E(i),E(r),E(o),E(l)),t[16](null),v=!1,Di(T)}}}const zn=650,ls=390,Ln=.5,ft=400;function us(t,e,n){let i,r=[];const a={top:20,right:40,bottom:50,left:55};let o=Math.min(window.innerWidth-a.left-a.right,zn),l=o*Ln,{csvData:u}=e,{title:s}=e,{xlabel:d}=e,{medianEFIT:c}=e,{medianICONIC:f}=e,{suffix:h}=e,{xdivider:p}=e,{xdecimal:v}=e,{xtickamount:T}=e,{xunit:w}=e,{medianadjust:b}=e,k=!0,M,S=!0;Xe(async()=>{r=await He(u,m=>({EFIT:+m.EFIT,EFIT_normalized:+m.EFIT_normalized,ICONIC:+m.ICONIC,ICONIC_normalized:+m.ICONIC_normalized,interval_start:+m.interval_start})),y(),window.addEventListener("resize",H)});function H(){o=Math.min(window.innerWidth-a.left-a.right,zn),o=Math.max(o,ls),l=o*Ln,y()}function y(){et(i).selectAll("*").remove();const m=ae().domain([Vi(r,I=>I.interval_start),ht(r,I=>I.interval_start)]).range([0,o]),C=ae().domain([0,ht(r,I=>k?Math.max(I.EFIT_normalized,I.ICONIC_normalized):Math.max(I.EFIT,I.ICONIC))]).range([l,0]),F=et(i).attr("width",o+a.left+a.right).attr("height",l+a.top+a.bottom).append("g").attr("transform",`translate(${a.left},${a.top})`);F.append("g").attr("transform",`translate(0,${l})`).call(Wi(m).ticks(T).tickSizeOuter(0).tickFormat(I=>`${(I/p).toFixed(v)}`)).selectAll(".domain, .tick line").attr("stroke","lightgrey").attr("stroke-width",1),F.selectAll("g.tick text").style("fill","grey"),M=F.append("g"),z(C);const Ot=Ht().x(I=>m(I.interval_start)).y0(C(0)).y1(I=>C(k?I.ICONIC_normalized:I.ICONIC)).curve(ct);F.append("path").datum(r).attr("class",`area-iconic-${h}`).attr("fill","var(--brandDarkGreen)").attr("opacity",.03).attr("d",Ot);const ot=Ht().x(I=>m(I.interval_start)).y0(C(0)).y1(I=>C(k?I.EFIT_normalized:I.EFIT)).curve(ct);F.append("path").datum(r).attr("class",`area-efit-${h}`).attr("fill","#e6841a").attr("opacity",.03).attr("d",ot),F.selectAll(`.area-iconic-${h}, .area-efit-${h}`).on("mouseover",function(){S&&et(this).transition().duration(ft-200).attr("opacity",.1)}).on("mouseout",function(){S&&et(this).transition().duration(ft-200).attr("opacity",.03)});const Ut=Nt().x(I=>m(I.interval_start)).y(I=>C(k?I.EFIT_normalized:I.EFIT)).curve(ct);F.append("path").datum(r).attr("class",`line-efit-${h}`).attr("fill","none").attr("stroke","#e6841a").attr("stroke-width",1.5).attr("d",Ut);const Dt=Nt().x(I=>m(I.interval_start)).y(I=>C(k?I.ICONIC_normalized:I.ICONIC)).curve(ct);F.append("path").datum(r).attr("class",`line-iconic-${h}`).attr("fill","none").attr("stroke","var(--brandDarkGreen)").attr("stroke-width",1.5).attr("d",Dt),F.append("line").attr("class",`median-line-iconic-${h}`).attr("x1",m(f)).attr("x2",m(f)).attr("y1",0).attr("y2",l).attr("stroke","var(--brandDarkGreen)").attr("stroke-width",1).attr("stroke-dasharray","4"),F.append("text").attr("class",`median-label-iconic-${h}`).attr("x",m(f)+5).attr("y",1/l+7).attr("fill","var(--brandDarkGreen)").style("font-size","12px").attr("text-anchor","start").append("tspan").text("ICONIC").attr("x",m(f)+5).attr("dy","0em").append("tspan").text("Median: "+(f/p).toFixed(1)+" "+w).attr("x",m(f)+5).attr("dy","1.2em"),F.append("line").attr("class",`median-line-efit-${h}`).attr("x1",m(c)).attr("x2",m(c)).attr("y1",(1-ht(r,I=>I.EFIT_normalized)/ht(r,I=>I.ICONIC_normalized))*l+b).attr("y2",l).attr("stroke","#e6841a").attr("stroke-width",1).attr("stroke-dasharray","4"),F.append("text").attr("class",`median-label-efit-${h}`).attr("x",m(c)+5).attr("y",(1-ht(r,I=>I.EFIT_normalized)/ht(r,I=>I.ICONIC_normalized))*l+b+7).attr("fill","#e6841a").style("font-size","12px").attr("text-anchor","start").append("tspan").text("EFIT").attr("x",m(c)+5).attr("dy","0em").append("tspan").text("Median: "+(c/p).toFixed(1)+" "+w).attr("x",m(c)+5).attr("dy","1.2em"),F.append("text").attr("text-anchor","middle").attr("x",o/2).attr("y",l+a.bottom-10).style("font-size","14px").style("font-family","RobotoBold").text(d)}function z(m){const C=Math.max(2,Math.floor(l/25));M.call(Gi(m).ticks(C)).selectAll(".tick text").attr("fill","grey"),M.selectAll(".domain, .tick line").attr("stroke","lightgrey")}function Y(){const m=ae().domain([0,ht(r,C=>k?Math.max(C.EFIT_normalized,C.ICONIC_normalized):Math.max(C.EFIT,C.ICONIC))]).range([l,0]);z(m),et(`.line-iconic-${h}`).transition().duration(ft).attr("d",Nt().x(C=>te().domain(r.map(F=>F.interval_start)).range([0,o])(C.interval_start)).y(C=>m(k?C.ICONIC_normalized:C.ICONIC)).curve(ct)),et(`.area-iconic-${h}`).transition().duration(ft).attr("d",Ht().x(C=>te().domain(r.map(F=>F.interval_start)).range([0,o])(C.interval_start)).y0(l).y1(C=>m(k?C.ICONIC_normalized:C.ICONIC)).curve(ct)),et(`.line-efit-${h}`).transition().duration(ft).attr("d",Nt().x(C=>te().domain(r.map(F=>F.interval_start)).range([0,o])(C.interval_start)).y(C=>m(k?C.EFIT_normalized:C.EFIT)).curve(ct)),et(`.area-efit-${h}`).transition().duration(ft).attr("d",Ht().x(C=>te().domain(r.map(F=>F.interval_start)).range([0,o])(C.interval_start)).y0(l).y1(C=>m(k?C.EFIT_normalized:C.EFIT)).curve(ct))}function Z(){const m=new MouseEvent("mouseover");i.querySelectorAll(`.area-iconic-${h}, .area-efit-${h}`).forEach(F=>{F.matches(":hover")&&F.dispatchEvent(m)})}function J(m){Yn[m?"unshift":"push"](()=>{i=m,n(1,i)})}const Q=()=>{n(2,k=!k),Y(),n(3,S=!1),setTimeout(()=>{n(3,S=!0),Z()},ft)},it=()=>{n(2,k=!k),Y(),n(3,S=!1),setTimeout(()=>{n(3,S=!0),Z()},ft)};return t.$$set=m=>{"csvData"in m&&n(6,u=m.csvData),"title"in m&&n(0,s=m.title),"xlabel"in m&&n(7,d=m.xlabel),"medianEFIT"in m&&n(8,c=m.medianEFIT),"medianICONIC"in m&&n(9,f=m.medianICONIC),"suffix"in m&&n(10,h=m.suffix),"xdivider"in m&&n(11,p=m.xdivider),"xdecimal"in m&&n(12,v=m.xdecimal),"xtickamount"in m&&n(13,T=m.xtickamount),"xunit"in m&&n(14,w=m.xunit),"medianadjust"in m&&n(15,b=m.medianadjust)},[s,i,k,S,Y,Z,u,d,c,f,h,p,v,T,w,b,J,Q,it]}class Fe extends Ye{constructor(e){super(),Ue(this,e,us,ss,qe,{csvData:6,title:0,xlabel:7,medianEFIT:8,medianICONIC:9,suffix:10,xdivider:11,xdecimal:12,xtickamount:13,xunit:14,medianadjust:15})}}function Rn(t,e,n){const i=t.slice();return i[6]=e[n][0],i[7]=e[n][1],i}function $n(t,e,n){const i=t.slice();return i[6]=e[n][0],i[7]=e[n][1],i}function Vn(t){let e,n;return e=new ye({props:{data:t[1],title:"Weekdays"}}),{c(){xt(e.$$.fragment)},l(i){It(e.$$.fragment,i)},m(i,r){Tt(e,i,r),n=!0},p(i,r){const a={};r&2&&(a.data=i[1]),e.$set(a)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){Ct(e,i)}}}function Pn(t){let e,n;return e=new ye({props:{data:t[2],title:"Weekends"}}),{c(){xt(e.$$.fragment)},l(i){It(e.$$.fragment,i)},m(i,r){Tt(e,i,r),n=!0},p(i,r){const a={};r&4&&(a.data=i[2]),e.$set(a)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){Ct(e,i)}}}function Hn(t){let e,n,i,r;return n=new ye({props:{data:t[7],title:t[6]}}),{c(){e=O("div"),xt(n.$$.fragment),i=V(),this.h()},l(a){e=D(a,"DIV",{class:!0});var o=B(e);It(n.$$.fragment,o),i=P(o),o.forEach(E),this.h()},h(){N(e,"class","weekday-item svelte-1b7oemr")},m(a,o){G(a,e,o),Tt(n,e,null),x(e,i),r=!0},p(a,o){const l={};o&1&&(l.data=a[7]),o&1&&(l.title=a[6]),n.$set(l)},i(a){r||(L(n.$$.fragment,a),r=!0)},o(a){U(n.$$.fragment,a),r=!1},d(a){a&&E(e),Ct(n)}}}function Bn(t){let e,n,i=t[7].length>0&&Hn(t);return{c(){i&&i.c(),e=ce()},l(r){i&&i.l(r),e=ce()},m(r,a){i&&i.m(r,a),G(r,e,a),n=!0},p(r,a){r[7].length>0?i?(i.p(r,a),a&1&&L(i,1)):(i=Hn(r),i.c(),L(i,1),i.m(e.parentNode,e)):i&&(At(),U(i,1,1,()=>{i=null}),Mt())},i(r){n||(L(i),n=!0)},o(r){U(i),n=!1},d(r){r&&E(e),i&&i.d(r)}}}function qn(t){let e,n,i,r;return n=new ye({props:{data:t[7],title:t[6]}}),{c(){e=O("div"),xt(n.$$.fragment),i=V(),this.h()},l(a){e=D(a,"DIV",{class:!0});var o=B(e);It(n.$$.fragment,o),i=P(o),o.forEach(E),this.h()},h(){N(e,"class","weekend-item svelte-1b7oemr")},m(a,o){G(a,e,o),Tt(n,e,null),x(e,i),r=!0},p(a,o){const l={};o&1&&(l.data=a[7]),o&1&&(l.title=a[6]),n.$set(l)},i(a){r||(L(n.$$.fragment,a),r=!0)},o(a){U(n.$$.fragment,a),r=!1},d(a){a&&E(e),Ct(n)}}}function Xn(t){let e,n,i=t[7].length>0&&qn(t);return{c(){i&&i.c(),e=ce()},l(r){i&&i.l(r),e=ce()},m(r,a){i&&i.m(r,a),G(r,e,a),n=!0},p(r,a){r[7].length>0?i?(i.p(r,a),a&1&&L(i,1)):(i=qn(r),i.c(),L(i,1),i.m(e.parentNode,e)):i&&(At(),U(i,1,1,()=>{i=null}),Mt())},i(r){n||(L(i),n=!0)},o(r){U(i),n=!1},d(r){r&&E(e),i&&i.d(r)}}}function cs(t){let e,n,i,r=`<div id="logo" class="svelte-1b7oemr"><a href="https://www.schoolofcities.utoronto.ca/" class="svelte-1b7oemr"><img src="${$i}" alt="School of Cities" class="svelte-1b7oemr"/></a></div>`,a,o,l='<img src="/bike-share-toronto/top-map-2.png" alt="map of bike lanes and bike-share stations in toronto with a white background"/>',u,s,d,c=`<h1>Exploring E-Bike Usage in Toronto’s Bike Share System</h1> <p><a href="https://www.linkedin.com/in/lanrickbennettjr" target="_blank">Lanrick Bennett Jr.</a>, <a href="https://www.linkedin.com/in/scott-christian-mccallum/" target="_blank">Scott McCallum</a>, <a href="https://jamaps.github.io/" target="_blank">Jeff Allen</a> <br/>
      December, 2024</p>`,f,h,p=`<p>As cycling becomes an increasingly popular mode of transportation in Toronto, one trend is gaining significant traction: the rise of electric bikes (e-bikes) within Toronto&#39;s Bike Share system. Ridership data shared by Bike Share Toronto from June 2024 has given us a detailed look at how these e-bikes, known as EFIT, compare to their classic non-electric counterparts, the ICONIC bikes.</p> <p>The introduction of e-bikes in Toronto is not just about offering a new mode of transportation –it’s about making cycling more accessible, efficient, and appealing to a wider range of people. Whether it’s older adults who may need extra assistance with pedaling, people with longer commutes, or those who want to avoid arriving at their destination sweaty, e-bikes have the potential to address many of the challenges that have historically limited bike usage in the city.</p> <img class="photo svelte-1b7oemr" src="img-two-bikes.png" alt="Photo of a Bike Share station in Kensington Market"/> <p class="caption svelte-1b7oemr"><i>Left:</i> Classic (ICONIC) bike. <i>Right:</i> E-bike (EFIT) with pedal assist.</p> <p>From a sustainability perspective, e-bikes provide a viable alternative to cars for longer trips and can help cut down on vehicle emissions, especially during peak traffic hours. As the city works toward its ambitious net-zero targets, the role of e-bikes in encouraging a shift from motorized transport to more sustainable, human-powered options cannot be understated.</p> <p>Overall, in June 2024, there were <a href="https://schoolofcities.github.io/bike-share-toronto/trips-062024" target="_blank">more than 762,000 Bike Share trips in Toronto</a>. 17.4% of these trips were by e-bike. Looking at the relative characteristics of these trips  reveals some intriguing patterns that could shape the future of urban mobility in Toronto.</p> <p>One of the most notable differences between e-bikes and classic bikes is the distance covered during trips. On average, e-bike users tend to ride
      further, capitalizing on the extra power that electric motors provide.
      These longer trips suggest that e-bikes are enabling riders to explore
      parts of the city that might have been less accessible via traditional
      pedal bikes. Whether it&#39;s covering more ground on commutes or leisurely
      rides, the data reflects how e-bikes are expanding the possibilities for
      cycling trips across Toronto.</p>`,v,T,w,b,k,M,S=`<p>Interestingly, despite these longer trips, there is little difference in
      the duration of e-bike trips compared to classic bikes. Riders are thus traveling faster on e-bikes on average, which makes sense given their
      assisted pedaling capabilities.   
      Higher speeds not only allow cyclists to
      reach destinations quicker but could also make cycling more attractive to
      those who may have previously found it too time-consuming or physically
      demanding. With e-bikes, the barriers to entry for cycling are lowered,
      making it a more practical and inclusive option for a broader demographic.</p>`,H,y,z,Y,Z,J,Q=`<p>Another key insight from the data is that e-bike trips tend to involve
      slightly more elevation gain. In a city like Toronto, where hills and
      slopes can make cycling more challenging, the extra boost from an e-bike&#39;s
      motor can make a big difference. For example, riders can now tackle
      steeper routes, such as those leading to neighbourhoods like Rosedale or
      the Scarborough Bluffs, with greater ease. This ability to flatten out the
      city’s topography opens up new opportunities for riders, making cycling a
      more attractive option in areas that were previously considered difficult
      to navigate on a bike.</p>`,it,m,C,F,Ot,ot,Ut=`<p>The data also shows some intriguing differences in the time of day when e-bikes are used. While we’re still investigating the reasons behind this
      trend, it could be related to the availability of bikes at different
      stations during peak and off-peak hours. E-bikes may also be more popular
      for commuters who are looking for a reliable and faster way to get to work
      or run errands during busy periods. Understanding these temporal patterns
      will be crucial as we explore how to optimize the distribution and
      availability of e-bikes throughout the day.</p>`,Dt,I,en="<h4>24-hour trip distributions</h4>",we,dt,nn='<div class="legend-item svelte-1b7oemr"><svg class="legend-circ svelte-1b7oemr"><circle cx="20" cy="15" r="8" fill="var(--brandDarkGreen)" fill-opacity="0.1" stroke="var(--brandDarkGreen)" stroke-width="1.5"></circle></svg> <p class="svelte-1b7oemr">ICONIC</p></div> <div class="legend-item svelte-1b7oemr"><svg class="legend-circ svelte-1b7oemr"><circle cx="20" cy="15" r="8" fill="darkorange" fill-opacity="0.1" stroke="darkorange" stroke-width="1.5"></circle></svg> <p class="svelte-1b7oemr">EFIT</p></div>',be,rt,Wt,ke,pt,xe,_t,Ie,mt,rn='<p>Whether it&#39;s covering more ground on commutes or leisurely rides, the data reflects how e-bikes are expanding the possibilities for cycling trips across Toronto.</p> <p>At the same time, recent developments in policy and urban mobility have brought new challenges and opportunities for cyclists. The Ontario government has officially passed Bill 212 – a controversial piece of legislation that gives the province sweeping control over municipal bike lanes. The fast-tracked bill, which passed at Queen&#39;s Park in late 2024, requires municipalities to seek provincial approval to install bike lanes when doing so would reduce lanes for vehicle traffic. This bill also permits the removal of three major bike lanes in Toronto, located on Bloor Street, Yonge Street, and University Avenue. However, provincial officials have yet to provide specific details on whether all or only sections of these lanes will be removed. Many cycling advocates have expressed concerns, staging protests to oppose the legislation&#39;s potential impact on active transportation.</p> <p>In addition to Bill 212, a significant update on e-bike policies has emerged from the Toronto Transit Commission (TTC). Effective November 15, 2024, lithium-ion-powered e-scooters and e-bikes are prohibited on TTC vehicles and inside stations through April 15, following a board decision aimed at mitigating fire risks. This decision follows a December 31, 2023, incident when an e-bike’s lithium-ion battery caught fire onboard a subway train at Sheppard-Yonge Station.</p> <p>“I’ve tried to do the best to strike a balance between safety and equity,” <a href="https://toronto.ctvnews.ca/ttc-board-approves-winter-ban-on-e-bikes-and-e-scooters-1.7132393" target="_blank">TTC Board Chair Jamaal Myers stated</a>. Although the board considered alternative safety measures, such as requiring batteries to meet specific standards, staff concluded that a seasonal ban was the safest course of action. To address the needs of riders impacted by the ban, Myers has proposed collaboration between the TTC, food delivery companies, and labour unions to explore secure e-bike storage and charging solutions near transit stations, with a policy expected by March 2025.</p> <p>The ban does not apply to electric wheelchairs or other mobility devices used by individuals with disabilities, which remain permitted on TTC vehicles under specific conditions.</p> <p>While the TTC’s racial equity office acknowledged the ban&#39;s disproportionate impact on low-income and gig workers, the board determined that the perceived safety risks outweighed these concerns. Efforts to mitigate this impact, such as improving access to secure storage and charging, aim to support e-bike users while prioritizing safety.</p> <p>These developments illustrate the complexities of managing urban mobility in a way that supports accessibility, safety, and sustainability. As e-bikes continue to reshape how Torontonians navigate the city, ongoing discussions around infrastructure, equity, and policy will play a crucial role in determining the future of cycling in Toronto.</p>',Te,vt,an='<br/> <img class="photo svelte-1b7oemr" src="img-bike-share-kensington.jpg" alt="Photo of a Bike Share station in Kensington Market"/> <br/> <h3>Data and methodology</h3> <p>Bike Share Toronto shared data with us  on all Bike Share trips in June 2024, which included for each trip thestart station, end station, duration, and type of bike (EFIT or ICONIC). We additionally computed the network distance and elevation gain of each trip via Graphhopper, a network analysis software (<a href="https://schoolofcities.github.io/bike-share-toronto/trips-062024" target="_blank">as described in this post</a>).</p> <p>All the charts shown on this page were created by analyzing data in Python and visualizing with D3. All medians and distributions shown for each category are significantly different from each other via Mann-Whitney U (for testing difference in medians) and Kolmogorov-Smirnov (for testing difference in distributions) tests.</p> <p>Code and data for this page are on <a href="https://github.com/schoolofcities/bike-share-toronto" target="_blank">GitHub</a></p> <br/> <br/> <br/>',Gt;b=new Fe({props:{title:"Distribution of trips by distance",suffix:"distance",csvData:"distance_counts.csv",medianEFIT:2806.437,medianICONIC:2303.089,xlabel:"Trip distance (kilometers)",xdivider:1e3,xdecimal:0,xtickamount:10,xunit:"km",medianadjust:0}}),Y=new Fe({props:{title:"Distribution of trips by duration",suffix:"duration",csvData:"duration_counts.csv",medianEFIT:747,medianICONIC:720,xlabel:"Trip duration (minutes)",xdivider:60,xdecimal:0,xtickamount:20,xunit:"minutes",medianadjust:30}}),F=new Fe({props:{title:"Distribution of trips by elevation gain",suffix:"elevation",csvData:"elevation_counts.csv",medianEFIT:0,medianICONIC:-.5,xlabel:"Elevation gain or loss (metres)",xdivider:1,xdecimal:0,xtickamount:20,xunit:"m",medianadjust:0}});let q=t[1].length>0&&Vn(t),X=t[2].length>0&&Pn(t),gt=Zt(Object.entries(t[0]).slice(0,4)),R=[];for(let g=0;g<gt.length;g+=1)R[g]=Bn($n(t,gt,g));const Fi=g=>U(R[g],1,1,()=>{R[g]=null});let yt=Zt(Object.entries(t[0]).slice(4,7)),$=[];for(let g=0;g<yt.length;g+=1)$[g]=Xn(Rn(t,yt,g));const Oi=g=>U($[g],1,1,()=>{$[g]=null});return{c(){e=O("meta"),n=V(),i=O("div"),i.innerHTML=r,a=V(),o=O("div"),o.innerHTML=l,u=V(),s=O("main"),d=O("div"),d.innerHTML=c,f=V(),h=O("div"),h.innerHTML=p,v=V(),T=O("div"),w=O("div"),xt(b.$$.fragment),k=V(),M=O("div"),M.innerHTML=S,H=V(),y=O("div"),z=O("div"),xt(Y.$$.fragment),Z=V(),J=O("div"),J.innerHTML=Q,it=V(),m=O("div"),C=O("div"),xt(F.$$.fragment),Ot=V(),ot=O("div"),ot.innerHTML=Ut,Dt=V(),I=O("div"),I.innerHTML=en,we=V(),dt=O("div"),dt.innerHTML=nn,be=V(),rt=O("div"),q&&q.c(),Wt=V(),X&&X.c(),ke=V(),pt=O("div");for(let g=0;g<R.length;g+=1)R[g].c();xe=V(),_t=O("div");for(let g=0;g<$.length;g+=1)$[g].c();Ie=V(),mt=O("div"),mt.innerHTML=rn,Te=V(),vt=O("div"),vt.innerHTML=an,this.h()},l(g){const A=zi("svelte-1vxikoh",document.head);e=D(A,"META",{name:!0,content:!0}),A.forEach(E),n=P(g),i=D(g,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),tt(i)!=="svelte-wi4a2b"&&(i.innerHTML=r),a=P(g),o=D(g,"DIV",{class:!0,"data-svelte-h":!0}),tt(o)!=="svelte-c5wyuf"&&(o.innerHTML=l),u=P(g),s=D(g,"MAIN",{});var _=B(s);d=D(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(d)!=="svelte-qwvhih"&&(d.innerHTML=c),f=P(_),h=D(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(h)!=="svelte-gjxorn"&&(h.innerHTML=p),v=P(_),T=D(_,"DIV",{class:!0});var ut=B(T);w=D(ut,"DIV",{class:!0});var on=B(w);It(b.$$.fragment,on),on.forEach(E),ut.forEach(E),k=P(_),M=D(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(M)!=="svelte-auh9hp"&&(M.innerHTML=S),H=P(_),y=D(_,"DIV",{class:!0});var sn=B(y);z=D(sn,"DIV",{class:!0});var ln=B(z);It(Y.$$.fragment,ln),ln.forEach(E),sn.forEach(E),Z=P(_),J=D(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(J)!=="svelte-1bfl61h"&&(J.innerHTML=Q),it=P(_),m=D(_,"DIV",{class:!0});var un=B(m);C=D(un,"DIV",{class:!0});var cn=B(C);It(F.$$.fragment,cn),cn.forEach(E),un.forEach(E),Ot=P(_),ot=D(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(ot)!=="svelte-1jg8t22"&&(ot.innerHTML=Ut),Dt=P(_),I=D(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(I)!=="svelte-1k7a1ql"&&(I.innerHTML=en),we=P(_),dt=D(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(dt)!=="svelte-vx08ot"&&(dt.innerHTML=nn),be=P(_),rt=D(_,"DIV",{class:!0});var Jt=B(rt);q&&q.l(Jt),Wt=P(Jt),X&&X.l(Jt),Jt.forEach(E),ke=P(_),pt=D(_,"DIV",{class:!0});var fn=B(pt);for(let wt=0;wt<R.length;wt+=1)R[wt].l(fn);fn.forEach(E),xe=P(_),_t=D(_,"DIV",{class:!0});var hn=B(_t);for(let wt=0;wt<$.length;wt+=1)$[wt].l(hn);hn.forEach(E),Ie=P(_),mt=D(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(mt)!=="svelte-tjxgq0"&&(mt.innerHTML=rn),Te=P(_),vt=D(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(vt)!=="svelte-1ekdiqw"&&(vt.innerHTML=an),_.forEach(E),this.h()},h(){document.title="Bike Share Toronto E-Bike Analysis | School of Cities",N(e,"name","description"),N(e,"content","Exploring e-bike usage in Toronto’s Bike Share system via charts and data"),N(i,"id","bar"),N(i,"class","svelte-1b7oemr"),N(o,"class","topImg"),N(d,"class","title"),N(h,"class","text"),N(w,"class","line-chart"),N(T,"class","chart-container svelte-1b7oemr"),N(M,"class","text"),N(z,"class","line-chart"),N(y,"class","chart-container svelte-1b7oemr"),N(J,"class","text"),N(C,"class","line-chart"),N(m,"class","chart-container svelte-1b7oemr"),N(ot,"class","text"),N(I,"class","radial-title svelte-1b7oemr"),N(dt,"class","radial-legend svelte-1b7oemr"),N(rt,"class","radial-container svelte-1b7oemr"),N(pt,"class","flex-container-weekday svelte-1b7oemr"),N(_t,"class","flex-container-weekend svelte-1b7oemr"),N(mt,"class","text"),N(vt,"class","text")},m(g,A){x(document.head,e),G(g,n,A),G(g,i,A),G(g,a,A),G(g,o,A),G(g,u,A),G(g,s,A),x(s,d),x(s,f),x(s,h),x(s,v),x(s,T),x(T,w),Tt(b,w,null),x(s,k),x(s,M),x(s,H),x(s,y),x(y,z),Tt(Y,z,null),x(s,Z),x(s,J),x(s,it),x(s,m),x(m,C),Tt(F,C,null),x(s,Ot),x(s,ot),x(s,Dt),x(s,I),x(s,we),x(s,dt),x(s,be),x(s,rt),q&&q.m(rt,null),x(rt,Wt),X&&X.m(rt,null),x(s,ke),x(s,pt);for(let _=0;_<R.length;_+=1)R[_]&&R[_].m(pt,null);x(s,xe),x(s,_t);for(let _=0;_<$.length;_+=1)$[_]&&$[_].m(_t,null);x(s,Ie),x(s,mt),x(s,Te),x(s,vt),Gt=!0},p(g,[A]){if(g[1].length>0?q?(q.p(g,A),A&2&&L(q,1)):(q=Vn(g),q.c(),L(q,1),q.m(rt,Wt)):q&&(At(),U(q,1,1,()=>{q=null}),Mt()),g[2].length>0?X?(X.p(g,A),A&4&&L(X,1)):(X=Pn(g),X.c(),L(X,1),X.m(rt,null)):X&&(At(),U(X,1,1,()=>{X=null}),Mt()),A&1){gt=Zt(Object.entries(g[0]).slice(0,4));let _;for(_=0;_<gt.length;_+=1){const ut=$n(g,gt,_);R[_]?(R[_].p(ut,A),L(R[_],1)):(R[_]=Bn(ut),R[_].c(),L(R[_],1),R[_].m(pt,null))}for(At(),_=gt.length;_<R.length;_+=1)Fi(_);Mt()}if(A&1){yt=Zt(Object.entries(g[0]).slice(4,7));let _;for(_=0;_<yt.length;_+=1){const ut=Rn(g,yt,_);$[_]?($[_].p(ut,A),L($[_],1)):($[_]=Xn(ut),$[_].c(),L($[_],1),$[_].m(_t,null))}for(At(),_=yt.length;_<$.length;_+=1)Oi(_);Mt()}},i(g){if(!Gt){L(b.$$.fragment,g),L(Y.$$.fragment,g),L(F.$$.fragment,g),L(q),L(X);for(let A=0;A<gt.length;A+=1)L(R[A]);for(let A=0;A<yt.length;A+=1)L($[A]);Gt=!0}},o(g){U(b.$$.fragment,g),U(Y.$$.fragment,g),U(F.$$.fragment,g),U(q),U(X),R=R.filter(Boolean);for(let A=0;A<R.length;A+=1)U(R[A]);$=$.filter(Boolean);for(let A=0;A<$.length;A+=1)U($[A]);Gt=!1},d(g){g&&(E(n),E(i),E(a),E(o),E(u),E(s)),E(e),Ct(b),Ct(Y),Ct(F),q&&q.d(),X&&X.d(),pn(R,g),pn($,g)}}}function fs(t,e,n){let i=[],r=[],a={Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[],Sunday:[]},o=[],l=[];async function u(){i=await He("freq_counts_by_day.csv",s=>({half_hour_intervals:s.half_hour_intervals,EFIT:+s.EFIT_normalized,ICONIC:+s.ICONIC_normalized,day_of_week:s.day_of_week}));for(let s in a)n(0,a[s]=i.filter(d=>d.day_of_week===s),a);r=await He("freq_counts_by_day_category.csv",s=>({half_hour_intervals:s.half_hour_intervals,EFIT:+s.EFIT_normalized,ICONIC:+s.ICONIC_normalized,day:s.day_category})),n(1,o=r.filter(s=>s.day==="Weekday")),n(2,l=r.filter(s=>s.day==="Weekend"))}return Xe(()=>{u()}),[a,o,l]}class vs extends Ye{constructor(e){super(),Ue(this,e,fs,cs,qe,{})}}export{vs as component,ms as universal};
