<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="./favicon.svg" />
	<meta name="viewport" content="width=device-width" />
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	
	
		<link href="./_app/immutable/assets/10.a8c9c0b1.css" rel="stylesheet">
		<link href="./_app/immutable/assets/global-styles.071aba25.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/entry/start.784cce2b.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/scheduler.9ccb0b1a.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/singletons.0f2223e7.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.0a033c62.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index.d088b87a.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/0.ddbdbecb.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/layout.57dd2e8f.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/5.66f19943.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/10.33e539de.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/top-logo-full.85e1d8e3.js"><title>Mapping Bike Share Trips In Toronto | School of Cities</title><!-- HEAD_svelte-1yqa571_START --><meta name="description" content="Estimating and visualizing routes for every Bike Share trip in Toronto in 06/2024"><meta name="author" content="Jeff Allen"><meta property="og:title" content="Mapping Bike Share Trips In Toronto"><meta property="og:description" content="Estimating and visualizing routes for every Bike Share trip in Toronto in 06/2024"><meta property="og:type" content="website"><meta property="og:url" content="https://schoolofcities.github.io/bike-share-toronto/trips-062024/"><meta property="og:image" content="https://schoolofcities.github.io/bike-share-toronto/web-card-trips.png"><meta property="og:locale" content="en_CA"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="https://schoolofcities.github.io/bike-share-toronto/trips-062024/"><meta name="twitter:creator" content="@UofTCities"><meta name="twitter:title" content="Mapping Bike Share Trips In Toronto"><meta name="twitter:description" content="Estimating and visualizing routes for every Bike Share trip in Toronto in 06/2024"><meta name="twitter:image" content="https://schoolofcities.github.io/bike-share-toronto/web-card-trips.png"><!-- HEAD_svelte-1yqa571_END -->

</head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XB09CWTEWB"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-XB09CWTEWB');
</script>
<body>
	<div style="display: contents">   <div id="bar" class="svelte-vg44cj" data-svelte-h="svelte-oykebp"><div id="logo" class="svelte-vg44cj"><a href="https://www.schoolofcities.utoronto.ca/" class="svelte-vg44cj"><img src="/bike-share-toronto/_app/immutable/assets/top-logo-full.769ffd6d.svg" alt="School of Cities" class="svelte-vg44cj"></a></div> </div> <main class="svelte-vg44cj" data-svelte-h="svelte-1c37umq"><div class="title svelte-vg44cj"><h1 class="svelte-vg44cj">Mapping Bike Share Trips In Toronto</h1> <p class="svelte-vg44cj">Here we estimate and map routes for every Bike Share trip in Toronto in June 2024 based on origin-destination ridership data and a cycling network graph. There were 762,760 trips in total!</p> <p class="svelte-vg44cj">Click on the map to view it at a higher resolution.</p> <p class="svelte-vg44cj"><a href="http://jamaps.github.io" target="_blank" class="svelte-vg44cj">Jeff Allen</a> / <a href="https://www.schoolofcities.utoronto.ca/" target="_blank" class="svelte-vg44cj">School of Cities</a></p></div> <div class="big-map svelte-vg44cj"><a href="/bike-share-toronto/bike-share-trip-map-june2024-3600x2300.png" class="svelte-vg44cj"><img src="/bike-share-toronto/bike-share-trip-map-june2024-3600x2300.png" class="svelte-vg44cj"></a></div> <div class="text svelte-vg44cj"><h2 class="svelte-vg44cj">Why &amp; How</h2> <p class="svelte-vg44cj">There has been substantial <a href="./growth" class="svelte-vg44cj">growth</a> in Bike Share ridership in Toronto over the past few years. Recently, we recently wanted to a) improve our understanding of where people use Bike Share and b) estimate the characteristics of these trips (network distance, speed, elevation gain/loss, etc.) to use in future analyses on how people cycle in the city.</p> <p class="svelte-vg44cj">We graciously received a dataset from Bike Share Toronto which included a record for every trip in June 2024. There were 764,177 records in total, 762,760 of which represented normal trips (i.e. not terminated shortly after a bike was unlocked and returned to the same station).</p> <p class="svelte-vg44cj">Each record in the dataset includes the date and the time of the trip, and which station each trip started and ended at. Here&#39;s a map of every station in June 2024.</p></div> <div class="small-map svelte-vg44cj"><img src="/bike-share-toronto/trips-june2024-stations.png" class="svelte-vg44cj"></div> <div class="text svelte-vg44cj"><p class="svelte-vg44cj">Each record in this dataset also included attributes such as the type of bike (electric or classic) and type of user (annual member or pay-per-ride). But we didn&#39;t know the route taken, the distance of the trip along this route, or the elevation gain or loss. These are key for understanding the nuances of where, how, and why people ride. So we set out to estimate this additional information with the help of open data and software.</p> <p class="svelte-vg44cj">To do this, we needed a <a href="https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)" target="_blank" class="svelte-vg44cj">graph</a> representing the cycling network in the City of Toronto. We created this using data from <a href="https://www.openstreetmap.org/#map=14/43.6586/-79.3833" target="_blank" class="svelte-vg44cj">OpenStreetMap</a> and <a href="https://www.openstreetmap.org/#map=14/43.6586/-79.3833" target="_blank" class="svelte-vg44cj">GraphHopper</a>, an open source network analysis software, to build a network graph that works off a local computer. From this we could make queries, similar to Google Maps, where we input the start location and end location and asked the graph to return us the most likely route taken, alongside information on trip duration, distance, and change in elevation. This route query takes into account a variety of attributes. For example, designated cycling trails away from cars, like the Waterfront Trail, have greater priority while busy car-centric roads without cycling infrastructure have less priority.</p> <p class="svelte-vg44cj">Here&#39;s an example output for a short trip.</p> <img src="/bike-share-toronto/single-trip.png" class="svelte-vg44cj"> <p class="svelte-vg44cj">Because we have this data and software stored locally we can do calculations at scale, i.e. estimate thousands of routes in just a few seconds.</p> <p class="svelte-vg44cj">One tricky consideration was what to do for trips that begin and end at the same docking station. If we input the same start and end location into the network graph, it will return a trip of length = 0. But in reality, these are trips during which the cyclist likely rode somewhere and then cycled back to where they started, often for leisure purposes. Since we don&#39;t know where they actually traveled to, we used a random number generator to estimate a location within a 5km radius of the starting Bike Share station. This is a bit arbitrary, but was based on our best guess of how far most people would bike from/to a single location for leisure purposes. We made a couple of exceptions to this for the stations with the most of these out-and-back leisure trips, which were along the waterfront and the base of the Leslie Spit. For these, we constrained this random number generator to locations on the Leslie Spit, the Waterfront, and Toronto Island, depending on the location of the docking station.</p> <p class="svelte-vg44cj">The output of this data-crunching allowed us to create the visualization at the top of this page, created by overlaying all 762,760 routes onto a single map. We used a couple of visual tricks here to improve the visualization:we added some noise to the path geometry (i.e. randomly jittered coordinates a bit) and then visualized each trip as an extremely thin line. The goal here was to help highlight segments of greater travel flow when there are many trips along a corridor. Here&#39;s a hyper-zoomed-in view of a bundle of trips on Danforth Ave. near Pape Ave.</p> <img src="/bike-share-toronto/many-trips.png" class="svelte-vg44cj"> <p class="svelte-vg44cj">The map at the top of this page was prepared in <a href="https://qgis.org/" target="_blank" class="svelte-vg44cj">QGIS</a> and then tinkered with in <a href="https://www.gimp.org/" target="_blank" class="svelte-vg44cj">GIMP</a>, using a combination of colour and filter settings. A mean curvature blur and a bloom filter were used to highlight the more well-traveled paths. GIMP is a bit of a rabbit hole – one can tinker with colours and effects for hours! Below are a couple of interesting outputs: pixelate and cartoon filters to create a gridded heat map, and a mean curvature blur with many more iterations, to create a watercolour effect.</p> <p class="svelte-vg44cj">And that’s it! Thanks for your interest in our maps and in cycling in Toronto. Next up, we&#39;ll be doing some analysis on how riders use EV bikes compared to classic bikes. Do they take longer trips? Are they more likely to travel uphill? We’re excited to find out, and to share our findings sometime in the fall.</p></div> <div class="small-map svelte-vg44cj"><img src="/bike-share-toronto/trips-june2024-grid.png" class="svelte-vg44cj"> <br> <br> <br> <br> <br> <br> <img src="/bike-share-toronto/trips-june2024-watercolour.png" class="svelte-vg44cj"></div> <br> <br> <br> <br> <br> <br> <br> <br> </main> 
			
			<script>
				{
					__sveltekit_3h51p2 = {
						assets: "/bike-share-toronto",
						base: new URL(".", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null];

					Promise.all([
						import("./_app/immutable/entry/start.784cce2b.js"),
						import("./_app/immutable/entry/app.0a033c62.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5, 10],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
</body>

</html>