import{s as tn,n as me,o as en,b as ri,f as ie,r as Wi}from"../chunks/scheduler.9ccb0b1a.js";import{S as nn,i as rn,g as N,m as ce,s as P,y as ai,h as S,j as H,n as he,f as I,c as B,z as oi,k as w,a as G,x as k,o as si,A as Cn,r as Mt,B as Gi,C as tt,u as Nt,v as St,d as R,t as Y,b as Lt,w as zt,D as En,e as ve,p as Rt}from"../chunks/index.d088b87a.js";import{i as Et,c as An,a as Mn,b as Ji,I as Nn,d as li,l as fe,e as re}from"../chunks/linear.d97c9073.js";/* empty css                              */const Ki=!0,Ms=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ki},Symbol.toStringTag,{value:"Module"})),Zi=""+new URL("../assets/top-logo-full-green.5561d31d.svg",import.meta.url).href;function dt(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Qi(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function ji(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(r);++i<r;)a[i]=t+i*n;return a}function tr(t){return t}var Re=1,$e=2,Xe=3,Yt=4,Sn=1e-6;function er(t){return"translate("+t+",0)"}function nr(t){return"translate(0,"+t+")"}function ir(t){return e=>+t(e)}function rr(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ar(){return!this.__axis}function ui(t,e){var n=[],i=null,r=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Re||t===Yt?-1:1,d=t===Yt||t===$e?"x":"y",c=t===Re||t===Xe?er:nr;function h(f){var p=i??(e.ticks?e.ticks.apply(e,n):e.domain()),v=r??(e.tickFormat?e.tickFormat.apply(e,n):tr),C=Math.max(a,0)+s,T=e.range(),E=+T[0]+l,b=+T[T.length-1]+l,O=(e.bandwidth?rr:ir)(e.copy(),l),F=f.selection?f.selection():f,x=F.selectAll(".domain").data([null]),g=F.selectAll(".tick").data(p,e).order(),L=g.exit(),J=g.enter().append("g").attr("class","tick"),W=g.select("line"),it=g.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),g=g.merge(J),W=W.merge(J.append("line").attr("stroke","currentColor").attr(d+"2",u*a)),it=it.merge(J.append("text").attr("fill","currentColor").attr(d,u*C).attr("dy",t===Re?"0em":t===Xe?"0.71em":"0.32em")),f!==F&&(x=x.transition(f),g=g.transition(f),W=W.transition(f),it=it.transition(f),L=L.transition(f).attr("opacity",Sn).attr("transform",function(K){return isFinite(K=O(K))?c(K+l):this.getAttribute("transform")}),J.attr("opacity",Sn).attr("transform",function(K){var Q=this.parentNode.__axis;return c((Q&&isFinite(Q=Q(K))?Q:O(K))+l)})),L.remove(),x.attr("d",t===Yt||t===$e?o?"M"+u*o+","+E+"H"+l+"V"+b+"H"+u*o:"M"+l+","+E+"V"+b:o?"M"+E+","+u*o+"V"+l+"H"+b+"V"+u*o:"M"+E+","+l+"H"+b),g.attr("opacity",1).attr("transform",function(K){return c(O(K)+l)}),W.attr(d+"2",u*a),it.attr(d,u*C).text(v),F.filter(ar).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===$e?"start":t===Yt?"end":"middle"),F.each(function(){this.__axis=O})}return h.scale=function(f){return arguments.length?(e=f,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(f){return arguments.length?(n=f==null?[]:Array.from(f),h):n.slice()},h.tickValues=function(f){return arguments.length?(i=f==null?null:Array.from(f),h):i&&i.slice()},h.tickFormat=function(f){return arguments.length?(r=f,h):r},h.tickSize=function(f){return arguments.length?(a=o=+f,h):a},h.tickSizeInner=function(f){return arguments.length?(a=+f,h):a},h.tickSizeOuter=function(f){return arguments.length?(o=+f,h):o},h.tickPadding=function(f){return arguments.length?(s=+f,h):s},h.offset=function(f){return arguments.length?(l=+f,h):l},h}function or(t){return ui(Xe,t)}function sr(t){return ui(Yt,t)}var lr={value:()=>{}};function ci(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new de(n)}function de(t){this._=t}function ur(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}de.prototype=ci.prototype={constructor:de,on:function(t,e){var n=this._,i=ur(t+"",n),r,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((r=(t=i[a]).type)&&(r=cr(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(r=(t=i[a]).type)n[r]=zn(n[r],t.name,e);else if(e==null)for(r in n)n[r]=zn(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new de(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,r=a.length;i<r;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};function cr(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function zn(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=lr,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ye="http://www.w3.org/1999/xhtml";const Fn={svg:"http://www.w3.org/2000/svg",xhtml:Ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xe(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Fn.hasOwnProperty(e)?{space:Fn[e],local:t}:t}function hr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ye&&e.documentElement.namespaceURI===Ye?e.createElement(t):e.createElementNS(n,t)}}function fr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function hi(t){var e=xe(t);return(e.local?fr:hr)(e)}function dr(){}function an(t){return t==null?dr:function(){return this.querySelector(t)}}function pr(t){typeof t!="function"&&(t=an(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,s=i[r]=new Array(o),l,u,d=0;d<o;++d)(l=a[d])&&(u=t.call(l,l.__data__,d,a))&&("__data__"in l&&(u.__data__=l.__data__),s[d]=u);return new j(i,this._parents)}function _r(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function mr(){return[]}function fi(t){return t==null?mr:function(){return this.querySelectorAll(t)}}function vr(t){return function(){return _r(t.apply(this,arguments))}}function gr(t){typeof t=="function"?t=vr(t):t=fi(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(i.push(t.call(l,l.__data__,u,o)),r.push(l));return new j(i,r)}function di(t){return function(){return this.matches(t)}}function pi(t){return function(e){return e.matches(t)}}var yr=Array.prototype.find;function wr(t){return function(){return yr.call(this.children,t)}}function kr(){return this.firstElementChild}function br(t){return this.select(t==null?kr:wr(typeof t=="function"?t:pi(t)))}var xr=Array.prototype.filter;function Tr(){return Array.from(this.children)}function Ir(t){return function(){return xr.call(this.children,t)}}function Cr(t){return this.selectAll(t==null?Tr:Ir(typeof t=="function"?t:pi(t)))}function Er(t){typeof t!="function"&&(t=di(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,s=i[r]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new j(i,this._parents)}function _i(t){return new Array(t.length)}function Ar(){return new j(this._enter||this._groups.map(_i),this._parents)}function ge(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ge.prototype={constructor:ge,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Mr(t){return function(){return t}}function Nr(t,e,n,i,r,a){for(var o=0,s,l=e.length,u=a.length;o<u;++o)(s=e[o])?(s.__data__=a[o],i[o]=s):n[o]=new ge(t,a[o]);for(;o<l;++o)(s=e[o])&&(r[o]=s)}function Sr(t,e,n,i,r,a,o){var s,l,u=new Map,d=e.length,c=a.length,h=new Array(d),f;for(s=0;s<d;++s)(l=e[s])&&(h[s]=f=o.call(l,l.__data__,s,e)+"",u.has(f)?r[s]=l:u.set(f,l));for(s=0;s<c;++s)f=o.call(t,a[s],s,a)+"",(l=u.get(f))?(i[s]=l,l.__data__=a[s],u.delete(f)):n[s]=new ge(t,a[s]);for(s=0;s<d;++s)(l=e[s])&&u.get(h[s])===l&&(r[s]=l)}function zr(t){return t.__data__}function Fr(t,e){if(!arguments.length)return Array.from(this,zr);var n=e?Sr:Nr,i=this._parents,r=this._groups;typeof t!="function"&&(t=Mr(t));for(var a=r.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var d=i[u],c=r[u],h=c.length,f=Or(t.call(d,d&&d.__data__,u,i)),p=f.length,v=s[u]=new Array(p),C=o[u]=new Array(p),T=l[u]=new Array(h);n(d,c,v,C,T,f,e);for(var E=0,b=0,O,F;E<p;++E)if(O=v[E]){for(E>=b&&(b=E+1);!(F=C[b])&&++b<p;);O._next=F||null}}return o=new j(o,i),o._enter=s,o._exit=l,o}function Or(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Dr(){return new j(this._exit||this._groups.map(_i),this._parents)}function Lr(t,e,n){var i=this.enter(),r=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function Rr(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,a=i.length,o=Math.min(r,a),s=new Array(r),l=0;l<o;++l)for(var u=n[l],d=i[l],c=u.length,h=s[l]=new Array(c),f,p=0;p<c;++p)(f=u[p]||d[p])&&(h[p]=f);for(;l<r;++l)s[l]=n[l];return new j(s,this._parents)}function $r(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,a=i[r],o;--r>=0;)(o=i[r])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Vr(t){t||(t=Pr);function e(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o=n[a],s=o.length,l=r[a]=new Array(s),u,d=0;d<s;++d)(u=o[d])&&(l[d]=u);l.sort(e)}return new j(r,this._parents).order()}function Pr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Br(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Hr(){return Array.from(this)}function qr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null}function Xr(){let t=0;for(const e of this)++t;return t}function Yr(){return!this.node()}function Ur(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],a=0,o=r.length,s;a<o;++a)(s=r[a])&&t.call(s,s.__data__,a,r);return this}function Wr(t){return function(){this.removeAttribute(t)}}function Gr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jr(t,e){return function(){this.setAttribute(t,e)}}function Kr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Zr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Qr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function jr(t,e){var n=xe(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Gr:Wr:typeof e=="function"?n.local?Qr:Zr:n.local?Kr:Jr)(n,e))}function mi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ta(t){return function(){this.style.removeProperty(t)}}function ea(t,e,n){return function(){this.style.setProperty(t,e,n)}}function na(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ia(t,e,n){return arguments.length>1?this.each((e==null?ta:typeof e=="function"?na:ea)(t,e,n??"")):Vt(this.node(),t)}function Vt(t,e){return t.style.getPropertyValue(e)||mi(t).getComputedStyle(t,null).getPropertyValue(e)}function ra(t){return function(){delete this[t]}}function aa(t,e){return function(){this[t]=e}}function oa(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function sa(t,e){return arguments.length>1?this.each((e==null?ra:typeof e=="function"?oa:aa)(t,e)):this.node()[t]}function vi(t){return t.trim().split(/^|\s+/)}function on(t){return t.classList||new gi(t)}function gi(t){this._node=t,this._names=vi(t.getAttribute("class")||"")}gi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function yi(t,e){for(var n=on(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function wi(t,e){for(var n=on(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function la(t){return function(){yi(this,t)}}function ua(t){return function(){wi(this,t)}}function ca(t,e){return function(){(e.apply(this,arguments)?yi:wi)(this,t)}}function ha(t,e){var n=vi(t+"");if(arguments.length<2){for(var i=on(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?ca:e?la:ua)(n,e))}function fa(){this.textContent=""}function da(t){return function(){this.textContent=t}}function pa(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function _a(t){return arguments.length?this.each(t==null?fa:(typeof t=="function"?pa:da)(t)):this.node().textContent}function ma(){this.innerHTML=""}function va(t){return function(){this.innerHTML=t}}function ga(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ya(t){return arguments.length?this.each(t==null?ma:(typeof t=="function"?ga:va)(t)):this.node().innerHTML}function wa(){this.nextSibling&&this.parentNode.appendChild(this)}function ka(){return this.each(wa)}function ba(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xa(){return this.each(ba)}function Ta(t){var e=typeof t=="function"?t:hi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ia(){return null}function Ca(t,e){var n=typeof t=="function"?t:hi(t),i=e==null?Ia:typeof e=="function"?e:an(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ea(){var t=this.parentNode;t&&t.removeChild(this)}function Aa(){return this.each(Ea)}function Ma(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Na(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Sa(t){return this.select(t?Na:Ma)}function za(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Fa(t){return function(e){t.call(this,e,this.__data__)}}function Oa(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Da(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,a;n<r;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function La(t,e,n){return function(){var i=this.__on,r,a=Fa(e);if(i){for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=e;return}}this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Ra(t,e,n){var i=Oa(t+""),r,a=i.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,d;l<u;++l)for(r=0,d=s[l];r<a;++r)if((o=i[r]).type===d.type&&o.name===d.name)return d.value}return}for(s=e?La:Da,r=0;r<a;++r)this.each(s(i[r],e,n));return this}function ki(t,e,n){var i=mi(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function $a(t,e){return function(){return ki(this,t,e)}}function Va(t,e){return function(){return ki(this,t,e.apply(this,arguments))}}function Pa(t,e){return this.each((typeof e=="function"?Va:$a)(t,e))}function*Ba(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length,o;r<a;++r)(o=i[r])&&(yield o)}var bi=[null];function j(t,e){this._groups=t,this._parents=e}function Qt(){return new j([[document.documentElement]],bi)}function Ha(){return this}j.prototype=Qt.prototype={constructor:j,select:pr,selectAll:gr,selectChild:br,selectChildren:Cr,filter:Er,data:Fr,enter:Ar,exit:Dr,join:Lr,merge:Rr,selection:Ha,order:$r,sort:Vr,call:Br,nodes:Hr,node:qr,size:Xr,empty:Yr,each:Ur,attr:jr,style:ia,property:sa,classed:ha,text:_a,html:ya,raise:ka,lower:xa,append:Ta,insert:Ca,remove:Aa,clone:Sa,datum:za,on:Ra,dispatch:Pa,[Symbol.iterator]:Ba};function et(t){return typeof t=="string"?new j([[document.querySelector(t)]],[document.documentElement]):new j([[t]],bi)}var On=180/Math.PI,Ue={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xi(t,e,n,i,r,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*On,skewX:Math.atan(l)*On,scaleX:o,scaleY:s}}var ae;function qa(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ue:xi(e.a,e.b,e.c,e.d,e.e,e.f)}function Xa(t){return t==null||(ae||(ae=document.createElementNS("http://www.w3.org/2000/svg","g")),ae.setAttribute("transform",t),!(t=ae.transform.baseVal.consolidate()))?Ue:(t=t.matrix,xi(t.a,t.b,t.c,t.d,t.e,t.f))}function Ti(t,e,n,i){function r(u){return u.length?u.pop()+" ":""}function a(u,d,c,h,f,p){if(u!==c||d!==h){var v=f.push("translate(",null,e,null,n);p.push({i:v-4,x:Et(u,c)},{i:v-2,x:Et(d,h)})}else(c||h)&&f.push("translate("+c+e+h+n)}function o(u,d,c,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:c.push(r(c)+"rotate(",null,i)-2,x:Et(u,d)})):d&&c.push(r(c)+"rotate("+d+i)}function s(u,d,c,h){u!==d?h.push({i:c.push(r(c)+"skewX(",null,i)-2,x:Et(u,d)}):d&&c.push(r(c)+"skewX("+d+i)}function l(u,d,c,h,f,p){if(u!==c||d!==h){var v=f.push(r(f)+"scale(",null,",",null,")");p.push({i:v-4,x:Et(u,c)},{i:v-2,x:Et(d,h)})}else(c!==1||h!==1)&&f.push(r(f)+"scale("+c+","+h+")")}return function(u,d){var c=[],h=[];return u=t(u),d=t(d),a(u.translateX,u.translateY,d.translateX,d.translateY,c,h),o(u.rotate,d.rotate,c,h),s(u.skewX,d.skewX,c,h),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,c,h),u=d=null,function(f){for(var p=-1,v=h.length,C;++p<v;)c[(C=h[p]).i]=C.x(f);return c.join("")}}}var Ya=Ti(qa,"px, ","px)","deg)"),Ua=Ti(Xa,", ",")",")"),Pt=0,Ut=0,Ht=0,Ii=1e3,ye,Wt,we=0,Ft=0,Te=0,Zt=typeof performance=="object"&&performance.now?performance:Date,Ci=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function sn(){return Ft||(Ci(Wa),Ft=Zt.now()+Te)}function Wa(){Ft=0}function ke(){this._call=this._time=this._next=null}ke.prototype=Ei.prototype={constructor:ke,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?sn():+n)+(e==null?0:+e),!this._next&&Wt!==this&&(Wt?Wt._next=this:ye=this,Wt=this),this._call=t,this._time=n,We()},stop:function(){this._call&&(this._call=null,this._time=1/0,We())}};function Ei(t,e,n){var i=new ke;return i.restart(t,e,n),i}function Ga(){sn(),++Pt;for(var t=ye,e;t;)(e=Ft-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pt}function Dn(){Ft=(we=Zt.now())+Te,Pt=Ut=0;try{Ga()}finally{Pt=0,Ka(),Ft=0}}function Ja(){var t=Zt.now(),e=t-we;e>Ii&&(Te-=e,we=t)}function Ka(){for(var t,e=ye,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ye=n);Wt=t,We(i)}function We(t){if(!Pt){Ut&&(Ut=clearTimeout(Ut));var e=t-Ft;e>24?(t<1/0&&(Ut=setTimeout(Dn,t-Zt.now()-Te)),Ht&&(Ht=clearInterval(Ht))):(Ht||(we=Zt.now(),Ht=setInterval(Ja,Ii)),Pt=1,Ci(Dn))}}function Ln(t,e,n){var i=new ke;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var Za=ci("start","end","cancel","interrupt"),Qa=[],Ai=0,Rn=1,Ge=2,pe=3,$n=4,Je=5,_e=6;function Ie(t,e,n,i,r,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;ja(t,n,{name:e,index:i,group:r,on:Za,tween:Qa,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ai})}function ln(t,e){var n=nt(t,e);if(n.state>Ai)throw new Error("too late; already scheduled");return n}function at(t,e){var n=nt(t,e);if(n.state>pe)throw new Error("too late; already running");return n}function nt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ja(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=Ei(a,0,n.time);function a(u){n.state=Rn,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,c,h,f;if(n.state!==Rn)return l();for(d in i)if(f=i[d],f.name===n.name){if(f.state===pe)return Ln(o);f.state===$n?(f.state=_e,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[d]):+d<e&&(f.state=_e,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[d])}if(Ln(function(){n.state===pe&&(n.state=$n,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Ge,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ge){for(n.state=pe,r=new Array(h=n.tween.length),d=0,c=-1;d<h;++d)(f=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Je,1),c=-1,h=r.length;++c<h;)r[c].call(t,d);n.state===Je&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=_e,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function to(t,e){var n=t.__transition,i,r,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((i=n[o]).name!==e){a=!1;continue}r=i.state>Ge&&i.state<Je,i.state=_e,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[o]}a&&delete t.__transition}}function eo(t){return this.each(function(){to(this,t)})}function no(t,e){var n,i;return function(){var r=at(this,t),a=r.tween;if(a!==n){i=n=a;for(var o=0,s=i.length;o<s;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function io(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=at(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=s;break}l===u&&r.push(s)}a.tween=r}}function ro(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=nt(this.node(),n).tween,r=0,a=i.length,o;r<a;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((e==null?no:io)(n,t,e))}function un(t,e,n){var i=t._id;return t.each(function(){var r=at(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return nt(r,i).value[e]}}function Mi(t,e){var n;return(typeof e=="number"?Et:e instanceof An?Mn:(n=An(e))?(e=n,Mn):Ji)(t,e)}function ao(t){return function(){this.removeAttribute(t)}}function oo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function so(t,e,n){var i,r=n+"",a;return function(){var o=this.getAttribute(t);return o===r?null:o===i?a:a=e(i=o,n)}}function lo(t,e,n){var i,r=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?a:a=e(i=o,n)}}function uo(t,e,n){var i,r,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===i&&l===r?a:(r=l,a=e(i=o,s)))}}function co(t,e,n){var i,r,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===i&&l===r?a:(r=l,a=e(i=o,s)))}}function ho(t,e){var n=xe(t),i=n==="transform"?Ua:Mi;return this.attrTween(t,typeof e=="function"?(n.local?co:uo)(n,i,un(this,"attr."+t,e)):e==null?(n.local?oo:ao)(n):(n.local?lo:so)(n,i,e))}function fo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function po(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function _o(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&po(t,a)),n}return r._value=e,r}function mo(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&fo(t,a)),n}return r._value=e,r}function vo(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=xe(t);return this.tween(n,(i.local?_o:mo)(i,e))}function go(t,e){return function(){ln(this,t).delay=+e.apply(this,arguments)}}function yo(t,e){return e=+e,function(){ln(this,t).delay=e}}function wo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?go:yo)(e,t)):nt(this.node(),e).delay}function ko(t,e){return function(){at(this,t).duration=+e.apply(this,arguments)}}function bo(t,e){return e=+e,function(){at(this,t).duration=e}}function xo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ko:bo)(e,t)):nt(this.node(),e).duration}function To(t,e){if(typeof e!="function")throw new Error;return function(){at(this,t).ease=e}}function Io(t){var e=this._id;return arguments.length?this.each(To(e,t)):nt(this.node(),e).ease}function Co(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,t).ease=n}}function Eo(t){if(typeof t!="function")throw new Error;return this.each(Co(this._id,t))}function Ao(t){typeof t!="function"&&(t=di(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,s=i[r]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new lt(i,this._parents,this._name,this._id)}function Mo(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var l=e[s],u=n[s],d=l.length,c=o[s]=new Array(d),h,f=0;f<d;++f)(h=l[f]||u[f])&&(c[f]=h);for(;s<i;++s)o[s]=e[s];return new lt(o,this._parents,this._name,this._id)}function No(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function So(t,e,n){var i,r,a=No(e)?ln:at;return function(){var o=a(this,t),s=o.on;s!==i&&(r=(i=s).copy()).on(e,n),o.on=r}}function zo(t,e){var n=this._id;return arguments.length<2?nt(this.node(),n).on.on(t):this.each(So(n,t,e))}function Fo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Oo(){return this.on("end.remove",Fo(this._id))}function Do(t){var e=this._name,n=this._id;typeof t!="function"&&(t=an(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s=i[o],l=s.length,u=a[o]=new Array(l),d,c,h=0;h<l;++h)(d=s[h])&&(c=t.call(d,d.__data__,h,s))&&("__data__"in d&&(c.__data__=d.__data__),u[h]=c,Ie(u[h],e,n,h,u,nt(d,n)));return new lt(a,this._parents,e,n)}function Lo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fi(t));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var l=i[s],u=l.length,d,c=0;c<u;++c)if(d=l[c]){for(var h=t.call(d,d.__data__,c,l),f,p=nt(d,n),v=0,C=h.length;v<C;++v)(f=h[v])&&Ie(f,e,n,v,h,p);a.push(h),o.push(d)}return new lt(a,o,e,n)}var Ro=Qt.prototype.constructor;function $o(){return new Ro(this._groups,this._parents)}function Vo(t,e){var n,i,r;return function(){var a=Vt(this,t),o=(this.style.removeProperty(t),Vt(this,t));return a===o?null:a===n&&o===i?r:r=e(n=a,i=o)}}function Ni(t){return function(){this.style.removeProperty(t)}}function Po(t,e,n){var i,r=n+"",a;return function(){var o=Vt(this,t);return o===r?null:o===i?a:a=e(i=o,n)}}function Bo(t,e,n){var i,r,a;return function(){var o=Vt(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Vt(this,t))),o===l?null:o===i&&l===r?a:(r=l,a=e(i=o,s))}}function Ho(t,e){var n,i,r,a="style."+e,o="end."+a,s;return function(){var l=at(this,t),u=l.on,d=l.value[a]==null?s||(s=Ni(e)):void 0;(u!==n||r!==d)&&(i=(n=u).copy()).on(o,r=d),l.on=i}}function qo(t,e,n){var i=(t+="")=="transform"?Ya:Mi;return e==null?this.styleTween(t,Vo(t,i)).on("end.style."+t,Ni(t)):typeof e=="function"?this.styleTween(t,Bo(t,i,un(this,"style."+t,e))).each(Ho(this._id,t)):this.styleTween(t,Po(t,i,e),n).on("end.style."+t,null)}function Xo(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Yo(t,e,n){var i,r;function a(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&Xo(t,o,n)),i}return a._value=e,a}function Uo(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Yo(t,e,n??""))}function Wo(t){return function(){this.textContent=t}}function Go(t){return function(){var e=t(this);this.textContent=e??""}}function Jo(t){return this.tween("text",typeof t=="function"?Go(un(this,"text",t)):Wo(t==null?"":t+""))}function Ko(t){return function(e){this.textContent=t.call(this,e)}}function Zo(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Ko(r)),e}return i._value=t,i}function Qo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Zo(t))}function jo(){for(var t=this._name,e=this._id,n=Si(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var d=nt(l,e);Ie(l,t,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new lt(i,this._parents,t,n)}function ts(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--r===0&&a()}};n.each(function(){var u=at(this,i),d=u.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),r===0&&a()})}var es=0;function lt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Si(){return++es}var st=Qt.prototype;lt.prototype={constructor:lt,select:Do,selectAll:Lo,selectChild:st.selectChild,selectChildren:st.selectChildren,filter:Ao,merge:Mo,selection:$o,transition:jo,call:st.call,nodes:st.nodes,node:st.node,size:st.size,empty:st.empty,each:st.each,on:zo,attr:ho,attrTween:vo,style:qo,styleTween:Uo,text:Jo,textTween:Qo,remove:Oo,tween:ro,delay:wo,duration:xo,ease:Io,easeVarying:Eo,end:ts,[Symbol.iterator]:st[Symbol.iterator]};const oe=t=>+t;function ns(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var is={time:null,delay:0,duration:250,ease:ns};function rs(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function as(t){var e,n;t instanceof lt?(e=t._id,t=t._name):(e=Si(),(n=is).time=sn(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&Ie(l,t,e,u,o,n||rs(l,e));return new lt(i,this._parents,t,e)}Qt.prototype.interrupt=eo;Qt.prototype.transition=as;const Ke=Math.PI,Ze=2*Ke,At=1e-6,os=Ze-At;function zi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ss(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zi;const n=10**e;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class ls{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?zi:ss(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,a,o){this._append`C${+e},${+n},${+i},${+r},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,i,r,a){if(e=+e,n=+n,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=i-e,u=r-n,d=o-e,c=s-n,h=d*d+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>At)if(!(Math.abs(c*l-u*d)>At)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let f=i-o,p=r-s,v=l*l+u*u,C=f*f+p*p,T=Math.sqrt(v),E=Math.sqrt(h),b=a*Math.tan((Ke-Math.acos((v+h-C)/(2*T*E)))/2),O=b/E,F=b/T;Math.abs(O-1)>At&&this._append`L${e+O*d},${n+O*c}`,this._append`A${a},${a},0,0,${+(c*f>d*p)},${this._x1=e+F*l},${this._y1=n+F*u}`}}arc(e,n,i,r,a,o){if(e=+e,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let s=i*Math.cos(r),l=i*Math.sin(r),u=e+s,d=n+l,c=1^o,h=o?r-a:a-r;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>At||Math.abs(this._y1-d)>At)&&this._append`L${u},${d}`,i&&(h<0&&(h=h%Ze+Ze),h>os?this._append`A${i},${i},0,1,${c},${e-s},${n-l}A${i},${i},0,1,${c},${this._x1=u},${this._y1=d}`:h>At&&this._append`A${i},${i},0,${+(h>=Ke)},${c},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}var Vn={},Ve={},Pe=34,qt=10,Be=13;function Fi(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function us(t,e){var n=Fi(t);return function(i,r){return e(n(i),r,t)}}function Pn(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var r in i)r in e||n.push(e[r]=r)}),n}function Z(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function cs(t){return t<0?"-"+Z(-t,6):t>9999?"+"+Z(t,6):Z(t,4)}function hs(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":cs(t.getUTCFullYear())+"-"+Z(t.getUTCMonth()+1,2)+"-"+Z(t.getUTCDate(),2)+(r?"T"+Z(e,2)+":"+Z(n,2)+":"+Z(i,2)+"."+Z(r,3)+"Z":i?"T"+Z(e,2)+":"+Z(n,2)+":"+Z(i,2)+"Z":n||e?"T"+Z(e,2)+":"+Z(n,2)+"Z":"")}function fs(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function i(c,h){var f,p,v=r(c,function(C,T){if(f)return f(C,T-1);p=C,f=h?us(C,h):Fi(C)});return v.columns=p||[],v}function r(c,h){var f=[],p=c.length,v=0,C=0,T,E=p<=0,b=!1;c.charCodeAt(p-1)===qt&&--p,c.charCodeAt(p-1)===Be&&--p;function O(){if(E)return Ve;if(b)return b=!1,Vn;var x,g=v,L;if(c.charCodeAt(g)===Pe){for(;v++<p&&c.charCodeAt(v)!==Pe||c.charCodeAt(++v)===Pe;);return(x=v)>=p?E=!0:(L=c.charCodeAt(v++))===qt?b=!0:L===Be&&(b=!0,c.charCodeAt(v)===qt&&++v),c.slice(g+1,x-1).replace(/""/g,'"')}for(;v<p;){if((L=c.charCodeAt(x=v++))===qt)b=!0;else if(L===Be)b=!0,c.charCodeAt(v)===qt&&++v;else if(L!==n)continue;return c.slice(g,x)}return E=!0,c.slice(g,p)}for(;(T=O())!==Ve;){for(var F=[];T!==Vn&&T!==Ve;)F.push(T),T=O();h&&(F=h(F,C++))==null||f.push(F)}return f}function a(c,h){return c.map(function(f){return h.map(function(p){return d(f[p])}).join(t)})}function o(c,h){return h==null&&(h=Pn(c)),[h.map(d).join(t)].concat(a(c,h)).join(`
`)}function s(c,h){return h==null&&(h=Pn(c)),a(c,h).join(`
`)}function l(c){return c.map(u).join(`
`)}function u(c){return c.map(d).join(t)}function d(c){return c==null?"":c instanceof Date?hs(c):e.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:i,parseRows:r,format:o,formatBody:s,formatRows:l,formatRow:u,formatValue:d}}var ds=fs(","),ps=ds.parse;function _s(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ms(t,e){return fetch(t,e).then(_s)}function vs(t){return function(e,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),ms(e,n).then(function(r){return t(r,i)})}}var Qe=vs(ps);const Bn=Symbol("implicit");function Oi(){var t=new Nn,e=[],n=[],i=Bn;function r(a){let o=t.get(a);if(o===void 0){if(i!==Bn)return i;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Nn;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return Oi(e,n).unknown(i)},li.apply(r,arguments),r}function cn(){var t=Oi().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,a,o,s=!1,l=0,u=0,d=.5;delete t.unknown;function c(){var h=e().length,f=r<i,p=f?r:i,v=f?i:r;a=(v-p)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),p+=(v-p-a*(h-l))*d,o=a*(1-l),s&&(p=Math.round(p),o=Math.round(o));var C=ji(h).map(function(T){return p+a*T});return n(f?C.reverse():C)}return t.domain=function(h){return arguments.length?(e(h),c()):e()},t.range=function(h){return arguments.length?([i,r]=h,i=+i,r=+r,c()):[i,r]},t.rangeRound=function(h){return[i,r]=h,i=+i,r=+r,s=!0,c()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,c()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),c()):d},t.copy=function(){return cn(e(),[i,r]).round(s).paddingInner(l).paddingOuter(u).align(d)},li.apply(c(),arguments)}function Di(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Di(e())},t}function se(){return Di(cn.apply(null,arguments).paddingInner(1))}function U(t){return function(){return t}}function Li(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new ls(e)}function Ri(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $i(t){this._context=t}$i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hn(t){return new $i(t)}function Vi(t){return t[0]}function Pi(t){return t[1]}function $t(t,e){var n=U(!0),i=null,r=hn,a=null,o=Li(s);t=typeof t=="function"?t:t===void 0?Vi:U(t),e=typeof e=="function"?e:e===void 0?Pi:U(e);function s(l){var u,d=(l=Ri(l)).length,c,h=!1,f;for(i==null&&(a=r(f=o())),u=0;u<=d;++u)!(u<d&&n(c=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(c,u,l),+e(c,u,l));if(f)return a=null,f+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:U(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:U(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:U(!!l),s):n},s.curve=function(l){return arguments.length?(r=l,i!=null&&(a=r(i)),s):r},s.context=function(l){return arguments.length?(l==null?i=a=null:a=r(i=l),s):i},s}function Gt(t,e,n){var i=null,r=U(!0),a=null,o=hn,s=null,l=Li(u);t=typeof t=="function"?t:t===void 0?Vi:U(+t),e=typeof e=="function"?e:U(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Pi:U(+n);function u(c){var h,f,p,v=(c=Ri(c)).length,C,T=!1,E,b=new Array(v),O=new Array(v);for(a==null&&(s=o(E=l())),h=0;h<=v;++h){if(!(h<v&&r(C=c[h],h,c))===T)if(T=!T)f=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=h-1;p>=f;--p)s.point(b[p],O[p]);s.lineEnd(),s.areaEnd()}T&&(b[h]=+t(C,h,c),O[h]=+e(C,h,c),s.point(i?+i(C,h,c):b[h],n?+n(C,h,c):O[h]))}if(E)return s=null,E+""||null}function d(){return $t().defined(r).curve(o).context(a)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:U(+c),i=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:U(+c),u):t},u.x1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:U(+c),u):i},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:U(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:U(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:U(+c),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:U(!!c),u):r},u.curve=function(c){return arguments.length?(o=c,a!=null&&(s=o(a)),u):o},u.context=function(c){return arguments.length?(c==null?a=s=null:s=o(a=c),u):a},u}var Bi=fn(hn);function Hi(t){this._curve=t}Hi.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function fn(t){function e(n){return new Hi(t(n))}return e._curve=t,e}function Jt(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(fn(n)):e()._curve},t}function Hn(){return Jt($t().curve(Bi))}function qn(){var t=Gt().curve(Bi),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Jt(n())},delete t.lineX0,t.lineEndAngle=function(){return Jt(i())},delete t.lineX1,t.lineInnerRadius=function(){return Jt(r())},delete t.lineY0,t.lineOuterRadius=function(){return Jt(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(fn(o)):e()._curve},t}function Xn(){}function je(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function qi(t,e){this._context=t,this._k=(1-e)/6}qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:je(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:je(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(i){return new qi(i,e)}return n.tension=function(i){return t(+i)},n})(0);function Xi(t,e){this._context=t,this._k=(1-e)/6}Xi.prototype={areaStart:Xn,areaEnd:Xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:je(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const le=function t(e){function n(i){return new Xi(i,e)}return n.tension=function(i){return t(+i)},n}(0);function Yn(t){return t<0?-1:1}function Un(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(Yn(a)+Yn(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Wn(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function He(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function be(t){this._context=t}be.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:He(this,this._t0,Wn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,He(this,Wn(this,n=Un(this,t,e)),n);break;default:He(this,this._t0,n=Un(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(be.prototype).point=function(t,e){be.prototype.point.call(this,e,t)};function ht(t){return new be(t)}function Kt(t,e,n){this.k=t,this.x=e,this.y=n}Kt.prototype={constructor:Kt,scale:function(t){return t===1?this:new Kt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Kt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Kt.prototype;function gs(t){let e,n,i,r,a;return{c(){e=N("div"),n=N("p"),i=ce(t[0]),r=P(),a=ai("svg"),this.h()},l(o){e=S(o,"DIV",{class:!0});var s=H(e);n=S(s,"P",{class:!0});var l=H(n);i=he(l,t[0]),l.forEach(I),r=B(s),a=oi(s,"svg",{}),H(a).forEach(I),s.forEach(I),this.h()},h(){w(n,"class","graph-title svelte-18x9z4j"),w(e,"class","radial svelte-18x9z4j")},m(o,s){G(o,e,s),k(e,n),k(n,i),k(e,r),k(e,a),t[3](a)},p(o,[s]){s&1&&si(i,o[0])},i:me,o:me,d(o){o&&I(e),t[3](null)}}}const ue=350,Xt=2e3;function ys(t,e,n){let i,{data:r}=e,{title:a}=e;const o={top:50,right:0,bottom:0,left:0},s=ue,l=Math.min(ue,s)/2-Math.max(o.top,o.bottom);let u=!1;en(async()=>{const f=new IntersectionObserver(d,{threshold:.1});return f.observe(i),()=>f.disconnect()});function d(f){f[0].isIntersecting&&!u&&(u=!0,c())}function c(){const f=et(i).attr("width",ue).attr("height",s).append("g").attr("transform",`translate(${ue/2}, ${s/2})`),p=cn().domain(r.map(g=>g.half_hour_intervals)).range([0,2*Math.PI]).padding(.1),v=fe().domain([0,dt(r,g=>Math.max(g.EFIT,g.ICONIC))+.004]).range([0,l]);f.selectAll(".x-axis").data(r).enter().append("line").attr("class","x-axis").attr("x1",0).attr("y1",0).attr("x2",(g,L)=>L%2===0?Math.cos(p(g.half_hour_intervals))*l:0).attr("y2",(g,L)=>L%2===0?Math.sin(p(g.half_hour_intervals))*l:0).attr("stroke","lightgray").attr("stroke-width",(g,L)=>L%3===0?"0.6":"0.3").attr("stroke-dasharray",(g,L)=>L%3===0?"0,0":"4,3"),f.append("circle").attr("class","circle-border").attr("cx",0).attr("cy",0).attr("r",l).attr("fill","none").attr("stroke","lightgray").attr("stroke-width",1);const C=Hn().angle(g=>p(g.half_hour_intervals)+p.bandwidth()/2+Math.PI).radius(g=>v(g.ICONIC)).curve(le);f.append("path").datum(r).attr("class","area-iconic").attr("d",qn().angle(g=>p(g.half_hour_intervals)+p.bandwidth()/2+Math.PI).innerRadius(0).outerRadius(g=>v(g.ICONIC)).curve(le)(r)).attr("fill","var(--brandDarkGreen)").attr("opacity",0).transition().delay(1500).duration(Xt).ease(oe).attr("opacity",.03),f.append("path").datum(r).attr("class","area-efit").attr("d",qn().angle(g=>p(g.half_hour_intervals)+p.bandwidth()/2+Math.PI).innerRadius(0).outerRadius(g=>v(g.EFIT)).curve(le)(r)).attr("fill","#e6841a").attr("opacity",0).transition().delay(1500).duration(Xt).ease(oe).attr("opacity",.03);const T=f.append("path").datum(r).attr("class","curve-iconic").attr("fill","none").attr("stroke","var(--brandDarkGreen)").attr("stroke-width",1.5).attr("d",C),E=T.node().getTotalLength();T.attr("stroke-dasharray",E).attr("stroke-dashoffset",E).transition().ease(oe).duration(Xt).attr("stroke-dashoffset",0);const b=Hn().angle(g=>p(g.half_hour_intervals)+p.bandwidth()/2+Math.PI).radius(g=>v(g.EFIT)).curve(le),O=f.append("path").datum(r).attr("class","curve-efit").attr("fill","none").attr("stroke","#e6841a").attr("stroke-width",1.5).attr("d",b),F=O.node().getTotalLength();O.attr("stroke-dasharray",F).attr("stroke-dashoffset",F).transition().duration(Xt).ease(oe).attr("stroke-dashoffset",0),u&&setTimeout(()=>{f.selectAll(".area-iconic, .area-efit").on("mouseover",function(){et(this).transition().duration(200).attr("opacity",.1)}).on("mouseout",function(){et(this).transition().duration(200).attr("opacity",.03)}),x()},Xt+100);function x(){const g=new MouseEvent("mouseover");document.querySelectorAll(".area-iconic, .area-efit").forEach(J=>{J.matches(":hover")&&J.dispatchEvent(g)})}f.selectAll(".x-label").data(r).enter().append("text").attr("fill","rgba(0, 0, 0, 0.7)").attr("class","x-label").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("x",g=>Math.cos(p(g.half_hour_intervals)-Math.PI/2+Math.PI)*(l+20)).attr("y",g=>Math.sin(p(g.half_hour_intervals)-Math.PI/2+Math.PI)*(l+15)).style("font-size","10px").style("fill","grey").text((g,L)=>L%2===0?g.half_hour_intervals:""),f.append("g").attr("transform","translate(-60, 270)"),f.append("circle").attr("class","x-axis-circle").attr("cx",0).attr("cy",0).attr("r",0).attr("fill","white").attr("stroke","lightgray").attr("stroke-width",.5),f.append("text").attr("x",12).attr("y",-l+10).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","10px").style("fill","grey").text("PM"),f.append("text").attr("x",-12).attr("y",l-10).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","10px").style("fill","grey").text("AM")}function h(f){ri[f?"unshift":"push"](()=>{i=f,n(1,i)})}return t.$$set=f=>{"data"in f&&n(2,r=f.data),"title"in f&&n(0,a=f.title)},[a,i,r,h]}class Ce extends nn{constructor(e){super(),rn(this,e,ys,gs,tn,{data:2,title:0})}}function ws(t){let e,n,i,r,a,o,s,l,u,d,c,h,f,p,v,C;return{c(){e=N("p"),n=ce(t[0]),i=P(),r=N("div"),a=ai("svg"),o=P(),s=N("div"),l=N("button"),u=ce("Normalized by type of bike"),c=P(),h=N("button"),f=ce("Total number of trips"),this.h()},l(T){e=S(T,"P",{class:!0});var E=H(e);n=he(E,t[0]),E.forEach(I),i=B(T),r=S(T,"DIV",{class:!0});var b=H(r);a=oi(b,"svg",{}),H(a).forEach(I),b.forEach(I),o=B(T),s=S(T,"DIV",{class:!0});var O=H(s);l=S(O,"BUTTON",{class:!0});var F=H(l);u=he(F,"Normalized by type of bike"),F.forEach(I),c=B(O),h=S(O,"BUTTON",{class:!0});var x=H(h);f=he(x,"Total number of trips"),x.forEach(I),O.forEach(I),this.h()},h(){w(e,"class","graph-title svelte-x329w9"),w(r,"class","svg-container svelte-x329w9"),w(l,"class",d=ie(t[2]?"button button-on":"button button-off")+" svelte-x329w9"),w(h,"class",p=ie(t[2]?"button button-off":"button button-on")+" svelte-x329w9"),w(s,"class","button-container svelte-x329w9")},m(T,E){G(T,e,E),k(e,n),G(T,i,E),G(T,r,E),k(r,a),t[16](a),G(T,o,E),G(T,s,E),k(s,l),k(l,u),k(s,c),k(s,h),k(h,f),v||(C=[Cn(l,"click",t[17]),Cn(h,"click",t[18])],v=!0)},p(T,[E]){E&1&&si(n,T[0]),E&4&&d!==(d=ie(T[2]?"button button-on":"button button-off")+" svelte-x329w9")&&w(l,"class",d),E&4&&p!==(p=ie(T[2]?"button button-off":"button button-on")+" svelte-x329w9")&&w(h,"class",p)},i:me,o:me,d(T){T&&(I(e),I(i),I(r),I(o),I(s)),t[16](null),v=!1,Wi(C)}}}const Gn=650,ks=390,Jn=.5,ft=400;function bs(t,e,n){let i,r=[];const a={top:20,right:40,bottom:50,left:55};let o=Math.min(window.innerWidth-a.left-a.right,Gn),s=o*Jn,{csvData:l}=e,{title:u}=e,{xlabel:d}=e,{medianEFIT:c}=e,{medianICONIC:h}=e,{suffix:f}=e,{xdivider:p}=e,{xdecimal:v}=e,{xtickamount:C}=e,{xunit:T}=e,{medianadjust:E}=e,b=!0,O,F=!0;en(async()=>{r=await Qe(l,m=>({EFIT:+m.EFIT,EFIT_normalized:+m.EFIT_normalized,ICONIC:+m.ICONIC,ICONIC_normalized:+m.ICONIC_normalized,interval_start:+m.interval_start})),g(),window.addEventListener("resize",x)});function x(){o=Math.min(window.innerWidth-a.left-a.right,Gn),o=Math.max(o,ks),s=o*Jn,g()}function g(){et(i).selectAll("*").remove();const m=fe().domain([Qi(r,M=>M.interval_start),dt(r,M=>M.interval_start)]).range([0,o]),z=fe().domain([0,dt(r,M=>b?Math.max(M.EFIT_normalized,M.ICONIC_normalized):Math.max(M.EFIT,M.ICONIC))]).range([s,0]),D=et(i).attr("width",o+a.left+a.right).attr("height",s+a.top+a.bottom).append("g").attr("transform",`translate(${a.left},${a.top})`);D.append("g").attr("transform",`translate(0,${s})`).call(or(m).ticks(C).tickSizeOuter(0).tickFormat(M=>`${(M/p).toFixed(v)}`)).selectAll(".domain, .tick line").attr("stroke","lightgrey").attr("stroke-width",1),D.selectAll("g.tick text").style("fill","grey"),O=D.append("g"),L(z);const ot=Gt().x(M=>m(M.interval_start)).y0(z(0)).y1(M=>z(b?M.ICONIC_normalized:M.ICONIC)).curve(ht);D.append("path").datum(r).attr("class",`area-iconic-${f}`).attr("fill","var(--brandDarkGreen)").attr("opacity",.03).attr("d",ot);const jt=Gt().x(M=>m(M.interval_start)).y0(z(0)).y1(M=>z(b?M.EFIT_normalized:M.EFIT)).curve(ht);D.append("path").datum(r).attr("class",`area-efit-${f}`).attr("fill","#e6841a").attr("opacity",.03).attr("d",jt),D.selectAll(`.area-iconic-${f}, .area-efit-${f}`).on("mouseover",function(){F&&et(this).transition().duration(ft-200).attr("opacity",.1)}).on("mouseout",function(){F&&et(this).transition().duration(ft-200).attr("opacity",.03)});const Bt=$t().x(M=>m(M.interval_start)).y(M=>z(b?M.EFIT_normalized:M.EFIT)).curve(ht);D.append("path").datum(r).attr("class",`line-efit-${f}`).attr("fill","none").attr("stroke","#e6841a").attr("stroke-width",1.5).attr("d",Bt);const ut=$t().x(M=>m(M.interval_start)).y(M=>z(b?M.ICONIC_normalized:M.ICONIC)).curve(ht);D.append("path").datum(r).attr("class",`line-iconic-${f}`).attr("fill","none").attr("stroke","var(--brandDarkGreen)").attr("stroke-width",1.5).attr("d",ut),D.append("line").attr("class",`median-line-iconic-${f}`).attr("x1",m(h)).attr("x2",m(h)).attr("y1",0).attr("y2",s).attr("stroke","var(--brandDarkGreen)").attr("stroke-width",1).attr("stroke-dasharray","4"),D.append("text").attr("class",`median-label-iconic-${f}`).attr("x",m(h)+5).attr("y",1/s+7).attr("fill","var(--brandDarkGreen)").style("font-size","12px").attr("text-anchor","start").append("tspan").text("ICONIC").attr("x",m(h)+5).attr("dy","0em").append("tspan").text("Median: "+(h/p).toFixed(1)+" "+T).attr("x",m(h)+5).attr("dy","1.2em"),D.append("line").attr("class",`median-line-efit-${f}`).attr("x1",m(c)).attr("x2",m(c)).attr("y1",(1-dt(r,M=>M.EFIT_normalized)/dt(r,M=>M.ICONIC_normalized))*s+E).attr("y2",s).attr("stroke","#e6841a").attr("stroke-width",1).attr("stroke-dasharray","4"),D.append("text").attr("class",`median-label-efit-${f}`).attr("x",m(c)+5).attr("y",(1-dt(r,M=>M.EFIT_normalized)/dt(r,M=>M.ICONIC_normalized))*s+E+7).attr("fill","#e6841a").style("font-size","12px").attr("text-anchor","start").append("tspan").text("EFIT").attr("x",m(c)+5).attr("dy","0em").append("tspan").text("Median: "+(c/p).toFixed(1)+" "+T).attr("x",m(c)+5).attr("dy","1.2em"),D.append("text").attr("text-anchor","middle").attr("x",o/2).attr("y",s+a.bottom-10).style("font-size","14px").style("font-family","RobotoBold").text(d)}function L(m){const z=Math.max(2,Math.floor(s/25));O.call(sr(m).ticks(z)).selectAll(".tick text").attr("fill","grey"),O.selectAll(".domain, .tick line").attr("stroke","lightgrey")}function J(){const m=fe().domain([0,dt(r,z=>b?Math.max(z.EFIT_normalized,z.ICONIC_normalized):Math.max(z.EFIT,z.ICONIC))]).range([s,0]);L(m),et(`.line-iconic-${f}`).transition().duration(ft).attr("d",$t().x(z=>se().domain(r.map(D=>D.interval_start)).range([0,o])(z.interval_start)).y(z=>m(b?z.ICONIC_normalized:z.ICONIC)).curve(ht)),et(`.area-iconic-${f}`).transition().duration(ft).attr("d",Gt().x(z=>se().domain(r.map(D=>D.interval_start)).range([0,o])(z.interval_start)).y0(s).y1(z=>m(b?z.ICONIC_normalized:z.ICONIC)).curve(ht)),et(`.line-efit-${f}`).transition().duration(ft).attr("d",$t().x(z=>se().domain(r.map(D=>D.interval_start)).range([0,o])(z.interval_start)).y(z=>m(b?z.EFIT_normalized:z.EFIT)).curve(ht)),et(`.area-efit-${f}`).transition().duration(ft).attr("d",Gt().x(z=>se().domain(r.map(D=>D.interval_start)).range([0,o])(z.interval_start)).y0(s).y1(z=>m(b?z.EFIT_normalized:z.EFIT)).curve(ht))}function W(){const m=new MouseEvent("mouseover");i.querySelectorAll(`.area-iconic-${f}, .area-efit-${f}`).forEach(D=>{D.matches(":hover")&&D.dispatchEvent(m)})}function it(m){ri[m?"unshift":"push"](()=>{i=m,n(1,i)})}const K=()=>{n(2,b=!b),J(),n(3,F=!1),setTimeout(()=>{n(3,F=!0),W()},ft)},Q=()=>{n(2,b=!b),J(),n(3,F=!1),setTimeout(()=>{n(3,F=!0),W()},ft)};return t.$$set=m=>{"csvData"in m&&n(6,l=m.csvData),"title"in m&&n(0,u=m.title),"xlabel"in m&&n(7,d=m.xlabel),"medianEFIT"in m&&n(8,c=m.medianEFIT),"medianICONIC"in m&&n(9,h=m.medianICONIC),"suffix"in m&&n(10,f=m.suffix),"xdivider"in m&&n(11,p=m.xdivider),"xdecimal"in m&&n(12,v=m.xdecimal),"xtickamount"in m&&n(13,C=m.xtickamount),"xunit"in m&&n(14,T=m.xunit),"medianadjust"in m&&n(15,E=m.medianadjust)},[u,i,b,F,J,W,l,d,c,h,f,p,v,C,T,E,it,K,Q]}class qe extends nn{constructor(e){super(),rn(this,e,bs,ws,tn,{csvData:6,title:0,xlabel:7,medianEFIT:8,medianICONIC:9,suffix:10,xdivider:11,xdecimal:12,xtickamount:13,xunit:14,medianadjust:15})}}function Kn(t,e,n){const i=t.slice();return i[6]=e[n][0],i[7]=e[n][1],i}function Zn(t,e,n){const i=t.slice();return i[6]=e[n][0],i[7]=e[n][1],i}function Qn(t){let e,n;return e=new Ce({props:{data:t[1],title:"Weekdays"}}),{c(){Mt(e.$$.fragment)},l(i){Nt(e.$$.fragment,i)},m(i,r){St(e,i,r),n=!0},p(i,r){const a={};r&2&&(a.data=i[1]),e.$set(a)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){zt(e,i)}}}function jn(t){let e,n;return e=new Ce({props:{data:t[2],title:"Weekends"}}),{c(){Mt(e.$$.fragment)},l(i){Nt(e.$$.fragment,i)},m(i,r){St(e,i,r),n=!0},p(i,r){const a={};r&4&&(a.data=i[2]),e.$set(a)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){zt(e,i)}}}function ti(t){let e,n,i,r;return n=new Ce({props:{data:t[7],title:t[6]}}),{c(){e=N("div"),Mt(n.$$.fragment),i=P(),this.h()},l(a){e=S(a,"DIV",{class:!0});var o=H(e);Nt(n.$$.fragment,o),i=B(o),o.forEach(I),this.h()},h(){w(e,"class","weekday-item svelte-15vghzv")},m(a,o){G(a,e,o),St(n,e,null),k(e,i),r=!0},p(a,o){const s={};o&1&&(s.data=a[7]),o&1&&(s.title=a[6]),n.$set(s)},i(a){r||(R(n.$$.fragment,a),r=!0)},o(a){Y(n.$$.fragment,a),r=!1},d(a){a&&I(e),zt(n)}}}function ei(t){let e,n,i=t[7].length>0&&ti(t);return{c(){i&&i.c(),e=ve()},l(r){i&&i.l(r),e=ve()},m(r,a){i&&i.m(r,a),G(r,e,a),n=!0},p(r,a){r[7].length>0?i?(i.p(r,a),a&1&&R(i,1)):(i=ti(r),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(Rt(),Y(i,1,1,()=>{i=null}),Lt())},i(r){n||(R(i),n=!0)},o(r){Y(i),n=!1},d(r){r&&I(e),i&&i.d(r)}}}function ni(t){let e,n,i,r;return n=new Ce({props:{data:t[7],title:t[6]}}),{c(){e=N("div"),Mt(n.$$.fragment),i=P(),this.h()},l(a){e=S(a,"DIV",{class:!0});var o=H(e);Nt(n.$$.fragment,o),i=B(o),o.forEach(I),this.h()},h(){w(e,"class","weekend-item svelte-15vghzv")},m(a,o){G(a,e,o),St(n,e,null),k(e,i),r=!0},p(a,o){const s={};o&1&&(s.data=a[7]),o&1&&(s.title=a[6]),n.$set(s)},i(a){r||(R(n.$$.fragment,a),r=!0)},o(a){Y(n.$$.fragment,a),r=!1},d(a){a&&I(e),zt(n)}}}function ii(t){let e,n,i=t[7].length>0&&ni(t);return{c(){i&&i.c(),e=ve()},l(r){i&&i.l(r),e=ve()},m(r,a){i&&i.m(r,a),G(r,e,a),n=!0},p(r,a){r[7].length>0?i?(i.p(r,a),a&1&&R(i,1)):(i=ni(r),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(Rt(),Y(i,1,1,()=>{i=null}),Lt())},i(r){n||(R(i),n=!0)},o(r){Y(i),n=!1},d(r){r&&I(e),i&&i.d(r)}}}function xs(t){let e,n,i,r,a,o,s,l,u,d,c,h,f,p,v,C,T=`<div id="logo" class="svelte-15vghzv"><a href="https://www.schoolofcities.utoronto.ca/" class="svelte-15vghzv"><img src="${Zi}" alt="School of Cities" class="svelte-15vghzv"/></a></div>`,E,b,O='<img src="/bike-share-toronto/top-map-2.png" alt="map of bike lanes and bike-share stations in toronto with a white background"/>',F,x,g,L=`<h1>Exploring E-Bike Usage in Torontos Bike Share System</h1> <p><a href="https://www.linkedin.com/in/lanrickbennettjr" target="_blank">Lanrick Bennett Jr.</a>, <a href="https://www.linkedin.com/in/scott-christian-mccallum/" target="_blank">Scott McCallum</a>, <a href="https://jamaps.github.io/" target="_blank">Jeff Allen</a> <br/>
      December, 2024</p>`,J,W,it=`<p>As cycling becomes an increasingly popular mode of transportation in Toronto, one trend is gaining significant traction: the rise of electric bikes (e-bikes) within Toronto&#39;s Bike Share system. Ridership data shared by Bike Share Toronto from June 2024 has given us a detailed look at how these e-bikes, known as EFIT, compare to their classic non-electric counterparts, the ICONIC bikes.</p> <p>The introduction of e-bikes in Toronto is not just about offering a new mode of transportation its about making cycling more accessible, efficient, and appealing to a wider range of people. Whether its older adults who may need extra assistance with pedaling, people with longer commutes, or those who want to avoid arriving at their destination sweaty, e-bikes have the potential to address many of the challenges that have historically limited bike usage in the city.</p> <img class="photo svelte-15vghzv" src="img-two-bikes.png" alt="Photo of a Bike Share station in Kensington Market"/> <p class="caption svelte-15vghzv"><i>Left:</i> Classic (ICONIC) bike. <i>Right:</i> E-bike (EFIT) with pedal assist.</p> <p>From a sustainability perspective, e-bikes provide a viable alternative to cars for longer trips and can help cut down on vehicle emissions, especially during peak traffic hours. As the city works toward its ambitious net-zero targets, the role of e-bikes in encouraging a shift from motorized transport to more sustainable, human-powered options cannot be understated.</p> <p>Overall, in June 2024, there were <a href="https://schoolofcities.github.io/bike-share-toronto/trips-062024" target="_blank">more than 762,000 Bike Share trips in Toronto</a>. 17.4% of these trips were by e-bike. Looking at the relative characteristics of these trips  reveals some intriguing patterns that could shape the future of urban mobility in Toronto.</p> <p>One of the most notable differences between e-bikes and classic bikes is the distance covered during trips. On average, e-bike users tend to ride
      further, capitalizing on the extra power that electric motors provide.
      These longer trips suggest that e-bikes are enabling riders to explore
      parts of the city that might have been less accessible via traditional
      pedal bikes. Whether it&#39;s covering more ground on commutes or leisurely
      rides, the data reflects how e-bikes are expanding the possibilities for
      cycling trips across Toronto.</p>`,K,Q,m,z,D,ot,jt=`<p>Interestingly, despite these longer trips, there is little difference in
      the duration of e-bike trips compared to classic bikes. Riders are thus traveling faster on e-bikes on average, which makes sense given their
      assisted pedaling capabilities.   
      Higher speeds not only allow cyclists to
      reach destinations quicker but could also make cycling more attractive to
      those who may have previously found it too time-consuming or physically
      demanding. With e-bikes, the barriers to entry for cycling are lowered,
      making it a more practical and inclusive option for a broader demographic.</p>`,Bt,ut,M,pt,Ee,_t,dn=`<p>Another key insight from the data is that e-bike trips tend to involve
      slightly more elevation gain. In a city like Toronto, where hills and
      slopes can make cycling more challenging, the extra boost from an e-bike&#39;s
      motor can make a big difference. For example, riders can now tackle
      steeper routes, such as those leading to neighbourhoods like Rosedale or
      the Scarborough Bluffs, with greater ease. This ability to flatten out the
      citys topography opens up new opportunities for riders, making cycling a
      more attractive option in areas that were previously considered difficult
      to navigate on a bike.</p>`,Ae,Ot,Dt,mt,Me,vt,pn=`<p>The data also shows some intriguing differences in the time of day when e-bikes are used. While were still investigating the reasons behind this
      trend, it could be related to the availability of bikes at different
      stations during peak and off-peak hours. E-bikes may also be more popular
      for commuters who are looking for a reliable and faster way to get to work
      or run errands during busy periods. Understanding these temporal patterns
      will be crucial as we explore how to optimize the distribution and
      availability of e-bikes throughout the day.</p>`,Ne,gt,_n="<h4>24-hour trip distributions</h4>",Se,yt,mn='<div class="legend-item svelte-15vghzv"><svg class="legend-circ svelte-15vghzv"><circle cx="20" cy="15" r="8" fill="var(--brandDarkGreen)" fill-opacity="0.1" stroke="var(--brandDarkGreen)" stroke-width="1.5"></circle></svg> <p class="svelte-15vghzv">ICONIC</p></div> <div class="legend-item svelte-15vghzv"><svg class="legend-circ svelte-15vghzv"><circle cx="20" cy="15" r="8" fill="darkorange" fill-opacity="0.1" stroke="darkorange" stroke-width="1.5"></circle></svg> <p class="svelte-15vghzv">EFIT</p></div>',ze,rt,te,Fe,wt,Oe,kt,De,bt,vn='<p>Whether it&#39;s covering more ground on commutes or leisurely rides, the data reflects how e-bikes are expanding the possibilities for cycling trips across Toronto.</p> <p>At the same time, recent developments in policy and urban mobility have brought new challenges and opportunities for cyclists. The Ontario government has officially passed Bill 212  a controversial piece of legislation that gives the province sweeping control over municipal bike lanes. The fast-tracked bill, which passed at Queen&#39;s Park in late 2024, requires municipalities to seek provincial approval to install bike lanes when doing so would reduce lanes for vehicle traffic. This bill also permits the removal of three major bike lanes in Toronto, located on Bloor Street, Yonge Street, and University Avenue. However, provincial officials have yet to provide specific details on whether all or only sections of these lanes will be removed. Many cycling advocates have expressed concerns, staging protests to oppose the legislation&#39;s potential impact on active transportation.</p> <p>In addition to Bill 212, a significant update on e-bike policies has emerged from the Toronto Transit Commission (TTC). Effective November 15, 2024, lithium-ion-powered e-scooters and e-bikes are prohibited on TTC vehicles and inside stations through April 15, following a board decision aimed at mitigating fire risks. This decision follows a December 31, 2023, incident when an e-bikes lithium-ion battery caught fire onboard a subway train at Sheppard-Yonge Station.</p> <p>Ive tried to do the best to strike a balance between safety and equity, <a href="https://toronto.ctvnews.ca/ttc-board-approves-winter-ban-on-e-bikes-and-e-scooters-1.7132393" target="_blank">TTC Board Chair Jamaal Myers stated</a>. Although the board considered alternative safety measures, such as requiring batteries to meet specific standards, staff concluded that a seasonal ban was the safest course of action. To address the needs of riders impacted by the ban, Myers has proposed collaboration between the TTC, food delivery companies, and labour unions to explore secure e-bike storage and charging solutions near transit stations, with a policy expected by March 2025.</p> <p>The ban does not apply to electric wheelchairs or other mobility devices used by individuals with disabilities, which remain permitted on TTC vehicles under specific conditions.</p> <p>While the TTCs racial equity office acknowledged the ban&#39;s disproportionate impact on low-income and gig workers, the board determined that the perceived safety risks outweighed these concerns. Efforts to mitigate this impact, such as improving access to secure storage and charging, aim to support e-bike users while prioritizing safety.</p> <p>These developments illustrate the complexities of managing urban mobility in a way that supports accessibility, safety, and sustainability. As e-bikes continue to reshape how Torontonians navigate the city, ongoing discussions around infrastructure, equity, and policy will play a crucial role in determining the future of cycling in Toronto.</p>',Le,xt,gn='<br/> <img class="photo svelte-15vghzv" src="img-bike-share-kensington.jpg" alt="Photo of a Bike Share station in Kensington Market"/> <br/> <h3>Data and methodology</h3> <p>Bike Share Toronto shared data with us  on all Bike Share trips in June 2024, which included for each trip thestart station, end station, duration, and type of bike (EFIT or ICONIC). We additionally computed the network distance and elevation gain of each trip via Graphhopper, a network analysis software (<a href="https://schoolofcities.github.io/bike-share-toronto/trips-062024" target="_blank">as described in this post</a>).</p> <p>All the charts shown on this page were created by analyzing data in Python and visualizing with D3. All medians and distributions shown for each category are significantly different from each other via Mann-Whitney U (for testing difference in medians) and Kolmogorov-Smirnov (for testing difference in distributions) tests.</p> <p>Code and data for this page are on <a href="https://github.com/schoolofcities/bike-share-toronto" target="_blank">GitHub</a></p> <br/> <br/> <br/>',ee;z=new qe({props:{title:"Distribution of trips by distance",suffix:"distance",csvData:"distance_counts.csv",medianEFIT:2806.437,medianICONIC:2303.089,xlabel:"Trip distance (kilometers)",xdivider:1e3,xdecimal:0,xtickamount:10,xunit:"km",medianadjust:0}}),pt=new qe({props:{title:"Distribution of trips by duration",suffix:"duration",csvData:"duration_counts.csv",medianEFIT:747,medianICONIC:720,xlabel:"Trip duration (minutes)",xdivider:60,xdecimal:0,xtickamount:6,xunit:"minutes",medianadjust:30}}),mt=new qe({props:{title:"Distribution of trips by elevation gain",suffix:"elevation",csvData:"elevation_counts.csv",medianEFIT:0,medianICONIC:-.5,xlabel:"Elevation gain or loss (metres)",xdivider:1,xdecimal:0,xtickamount:10,xunit:"m",medianadjust:0}});let q=t[1].length>0&&Qn(t),X=t[2].length>0&&jn(t),Tt=re(Object.entries(t[0]).slice(0,4)),$=[];for(let y=0;y<Tt.length;y+=1)$[y]=ei(Zn(t,Tt,y));const Yi=y=>Y($[y],1,1,()=>{$[y]=null});let It=re(Object.entries(t[0]).slice(4,7)),V=[];for(let y=0;y<It.length;y+=1)V[y]=ii(Kn(t,It,y));const Ui=y=>Y(V[y],1,1,()=>{V[y]=null});return{c(){e=N("meta"),n=N("meta"),i=N("meta"),r=N("meta"),a=N("meta"),o=N("meta"),s=N("meta"),l=N("meta"),u=N("meta"),d=N("meta"),c=N("meta"),h=N("meta"),f=N("meta"),p=N("meta"),v=P(),C=N("div"),C.innerHTML=T,E=P(),b=N("div"),b.innerHTML=O,F=P(),x=N("main"),g=N("div"),g.innerHTML=L,J=P(),W=N("div"),W.innerHTML=it,K=P(),Q=N("div"),m=N("div"),Mt(z.$$.fragment),D=P(),ot=N("div"),ot.innerHTML=jt,Bt=P(),ut=N("div"),M=N("div"),Mt(pt.$$.fragment),Ee=P(),_t=N("div"),_t.innerHTML=dn,Ae=P(),Ot=N("div"),Dt=N("div"),Mt(mt.$$.fragment),Me=P(),vt=N("div"),vt.innerHTML=pn,Ne=P(),gt=N("div"),gt.innerHTML=_n,Se=P(),yt=N("div"),yt.innerHTML=mn,ze=P(),rt=N("div"),q&&q.c(),te=P(),X&&X.c(),Fe=P(),wt=N("div");for(let y=0;y<$.length;y+=1)$[y].c();Oe=P(),kt=N("div");for(let y=0;y<V.length;y+=1)V[y].c();De=P(),bt=N("div"),bt.innerHTML=vn,Le=P(),xt=N("div"),xt.innerHTML=gn,this.h()},l(y){const A=Gi("svelte-1q9wn20",document.head);e=S(A,"META",{name:!0,content:!0}),n=S(A,"META",{name:!0,content:!0}),i=S(A,"META",{property:!0,content:!0}),r=S(A,"META",{property:!0,content:!0}),a=S(A,"META",{property:!0,content:!0}),o=S(A,"META",{property:!0,content:!0}),s=S(A,"META",{property:!0,content:!0}),l=S(A,"META",{property:!0,content:!0}),u=S(A,"META",{name:!0,content:!0}),d=S(A,"META",{name:!0,content:!0}),c=S(A,"META",{name:!0,content:!0}),h=S(A,"META",{name:!0,content:!0}),f=S(A,"META",{name:!0,content:!0}),p=S(A,"META",{name:!0,content:!0}),A.forEach(I),v=B(y),C=S(y,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),tt(C)!=="svelte-wi4a2b"&&(C.innerHTML=T),E=B(y),b=S(y,"DIV",{class:!0,"data-svelte-h":!0}),tt(b)!=="svelte-c5wyuf"&&(b.innerHTML=O),F=B(y),x=S(y,"MAIN",{});var _=H(x);g=S(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(g)!=="svelte-qwvhih"&&(g.innerHTML=L),J=B(_),W=S(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(W)!=="svelte-gjxorn"&&(W.innerHTML=it),K=B(_),Q=S(_,"DIV",{class:!0});var ct=H(Q);m=S(ct,"DIV",{class:!0});var yn=H(m);Nt(z.$$.fragment,yn),yn.forEach(I),ct.forEach(I),D=B(_),ot=S(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(ot)!=="svelte-auh9hp"&&(ot.innerHTML=jt),Bt=B(_),ut=S(_,"DIV",{class:!0});var wn=H(ut);M=S(wn,"DIV",{class:!0});var kn=H(M);Nt(pt.$$.fragment,kn),kn.forEach(I),wn.forEach(I),Ee=B(_),_t=S(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(_t)!=="svelte-1bfl61h"&&(_t.innerHTML=dn),Ae=B(_),Ot=S(_,"DIV",{class:!0});var bn=H(Ot);Dt=S(bn,"DIV",{class:!0});var xn=H(Dt);Nt(mt.$$.fragment,xn),xn.forEach(I),bn.forEach(I),Me=B(_),vt=S(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(vt)!=="svelte-1jg8t22"&&(vt.innerHTML=pn),Ne=B(_),gt=S(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(gt)!=="svelte-1k7a1ql"&&(gt.innerHTML=_n),Se=B(_),yt=S(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(yt)!=="svelte-vx08ot"&&(yt.innerHTML=mn),ze=B(_),rt=S(_,"DIV",{class:!0});var ne=H(rt);q&&q.l(ne),te=B(ne),X&&X.l(ne),ne.forEach(I),Fe=B(_),wt=S(_,"DIV",{class:!0});var Tn=H(wt);for(let Ct=0;Ct<$.length;Ct+=1)$[Ct].l(Tn);Tn.forEach(I),Oe=B(_),kt=S(_,"DIV",{class:!0});var In=H(kt);for(let Ct=0;Ct<V.length;Ct+=1)V[Ct].l(In);In.forEach(I),De=B(_),bt=S(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(bt)!=="svelte-tjxgq0"&&(bt.innerHTML=vn),Le=B(_),xt=S(_,"DIV",{class:!0,"data-svelte-h":!0}),tt(xt)!=="svelte-1ekdiqw"&&(xt.innerHTML=gn),_.forEach(I),this.h()},h(){document.title="Bike Share Toronto E-Bike Analysis | School of Cities",w(e,"name","description"),w(e,"content","Exploring e-bike usage in Torontos Bike Share system via charts and data"),w(n,"name","author"),w(n,"content","Jeff Allen"),w(i,"property","og:title"),w(i,"content","Bike Share Toronto E-Bike Analysis"),w(r,"property","og:description"),w(r,"content","Exploring e-bike usage in Torontos Bike Share system via charts and data"),w(a,"property","og:type"),w(a,"content","website"),w(o,"property","og:url"),w(o,"content","https://schoolofcities.github.io/bike-share-toronto/efit-analysis/"),w(s,"property","og:image"),w(s,"content","https://schoolofcities.github.io/bike-share-toronto/web-card-ebikes.png"),w(l,"property","og:locale"),w(l,"content","en_CA"),w(u,"name","twitter:card"),w(u,"content","summary_large_image"),w(d,"name","twitter:site"),w(d,"content","https://schoolofcities.github.io/bike-share-toronto/efit-analysis/"),w(c,"name","twitter:creator"),w(c,"content","@UofTCities"),w(h,"name","twitter:title"),w(h,"content","Bike Share Toronto E-Bike Analysis"),w(f,"name","twitter:description"),w(f,"content","Exploring e-bike usage in Torontos Bike Share system via charts and data"),w(p,"name","twitter:image"),w(p,"content","https://schoolofcities.github.io/bike-share-toronto/web-card-ebikes.png"),w(C,"id","bar"),w(C,"class","svelte-15vghzv"),w(b,"class","topImg"),w(g,"class","title"),w(W,"class","text"),w(m,"class","line-chart"),w(Q,"class","chart-container svelte-15vghzv"),w(ot,"class","text"),w(M,"class","line-chart"),w(ut,"class","chart-container svelte-15vghzv"),w(_t,"class","text"),w(Dt,"class","line-chart"),w(Ot,"class","chart-container svelte-15vghzv"),w(vt,"class","text"),w(gt,"class","radial-title svelte-15vghzv"),w(yt,"class","radial-legend svelte-15vghzv"),w(rt,"class","radial-container svelte-15vghzv"),w(wt,"class","flex-container-weekday svelte-15vghzv"),w(kt,"class","flex-container-weekend svelte-15vghzv"),w(bt,"class","text"),w(xt,"class","text")},m(y,A){k(document.head,e),k(document.head,n),k(document.head,i),k(document.head,r),k(document.head,a),k(document.head,o),k(document.head,s),k(document.head,l),k(document.head,u),k(document.head,d),k(document.head,c),k(document.head,h),k(document.head,f),k(document.head,p),G(y,v,A),G(y,C,A),G(y,E,A),G(y,b,A),G(y,F,A),G(y,x,A),k(x,g),k(x,J),k(x,W),k(x,K),k(x,Q),k(Q,m),St(z,m,null),k(x,D),k(x,ot),k(x,Bt),k(x,ut),k(ut,M),St(pt,M,null),k(x,Ee),k(x,_t),k(x,Ae),k(x,Ot),k(Ot,Dt),St(mt,Dt,null),k(x,Me),k(x,vt),k(x,Ne),k(x,gt),k(x,Se),k(x,yt),k(x,ze),k(x,rt),q&&q.m(rt,null),k(rt,te),X&&X.m(rt,null),k(x,Fe),k(x,wt);for(let _=0;_<$.length;_+=1)$[_]&&$[_].m(wt,null);k(x,Oe),k(x,kt);for(let _=0;_<V.length;_+=1)V[_]&&V[_].m(kt,null);k(x,De),k(x,bt),k(x,Le),k(x,xt),ee=!0},p(y,[A]){if(y[1].length>0?q?(q.p(y,A),A&2&&R(q,1)):(q=Qn(y),q.c(),R(q,1),q.m(rt,te)):q&&(Rt(),Y(q,1,1,()=>{q=null}),Lt()),y[2].length>0?X?(X.p(y,A),A&4&&R(X,1)):(X=jn(y),X.c(),R(X,1),X.m(rt,null)):X&&(Rt(),Y(X,1,1,()=>{X=null}),Lt()),A&1){Tt=re(Object.entries(y[0]).slice(0,4));let _;for(_=0;_<Tt.length;_+=1){const ct=Zn(y,Tt,_);$[_]?($[_].p(ct,A),R($[_],1)):($[_]=ei(ct),$[_].c(),R($[_],1),$[_].m(wt,null))}for(Rt(),_=Tt.length;_<$.length;_+=1)Yi(_);Lt()}if(A&1){It=re(Object.entries(y[0]).slice(4,7));let _;for(_=0;_<It.length;_+=1){const ct=Kn(y,It,_);V[_]?(V[_].p(ct,A),R(V[_],1)):(V[_]=ii(ct),V[_].c(),R(V[_],1),V[_].m(kt,null))}for(Rt(),_=It.length;_<V.length;_+=1)Ui(_);Lt()}},i(y){if(!ee){R(z.$$.fragment,y),R(pt.$$.fragment,y),R(mt.$$.fragment,y),R(q),R(X);for(let A=0;A<Tt.length;A+=1)R($[A]);for(let A=0;A<It.length;A+=1)R(V[A]);ee=!0}},o(y){Y(z.$$.fragment,y),Y(pt.$$.fragment,y),Y(mt.$$.fragment,y),Y(q),Y(X),$=$.filter(Boolean);for(let A=0;A<$.length;A+=1)Y($[A]);V=V.filter(Boolean);for(let A=0;A<V.length;A+=1)Y(V[A]);ee=!1},d(y){y&&(I(v),I(C),I(E),I(b),I(F),I(x)),I(e),I(n),I(i),I(r),I(a),I(o),I(s),I(l),I(u),I(d),I(c),I(h),I(f),I(p),zt(z),zt(pt),zt(mt),q&&q.d(),X&&X.d(),En($,y),En(V,y)}}}function Ts(t,e,n){let i=[],r=[],a={Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[],Sunday:[]},o=[],s=[];async function l(){i=await Qe("freq_counts_by_day.csv",u=>({half_hour_intervals:u.half_hour_intervals,EFIT:+u.EFIT_normalized,ICONIC:+u.ICONIC_normalized,day_of_week:u.day_of_week}));for(let u in a)n(0,a[u]=i.filter(d=>d.day_of_week===u),a);r=await Qe("freq_counts_by_day_category.csv",u=>({half_hour_intervals:u.half_hour_intervals,EFIT:+u.EFIT_normalized,ICONIC:+u.ICONIC_normalized,day:u.day_category})),n(1,o=r.filter(u=>u.day==="Weekday")),n(2,s=r.filter(u=>u.day==="Weekend"))}return en(()=>{l()}),[a,o,s]}class Ns extends nn{constructor(e){super(),rn(this,e,Ts,xs,tn,{})}}export{Ns as component,Ms as universal};
