import{s as tn,n as me,o as en,b as ri,f as ie,r as Wi}from"../chunks/scheduler.9ccb0b1a.js";import{S as nn,i as rn,g as N,m as ce,s as P,y as ai,h as S,j as B,n as he,f as T,c as H,z as oi,k as w,a as G,x as k,o as si,A as Cn,r as At,B as Gi,C as tt,u as Nt,v as St,d as R,t as Y,b as Lt,w as Ft,D as En,e as ge,p as Rt}from"../chunks/index.d088b87a.js";import{i as Ct,c as Mn,a as An,b as Ji,I as Nn,d as li,l as fe,e as re}from"../chunks/linear.d97c9073.js";/* empty css                              */const Zi=!0,Ms=Object.freeze(Object.defineProperty({__proto__:null,prerender:Zi},Symbol.toStringTag,{value:"Module"})),Ki=""+new URL("../assets/top-logo-full-green.5561d31d.svg",import.meta.url).href;function Et(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Qi(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function ji(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(r);++i<r;)a[i]=t+i*n;return a}function tr(t){return t}var Re=1,$e=2,qe=3,Yt=4,Sn=1e-6;function er(t){return"translate("+t+",0)"}function nr(t){return"translate(0,"+t+")"}function ir(t){return e=>+t(e)}function rr(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ar(){return!this.__axis}function ui(t,e){var n=[],i=null,r=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Re||t===Yt?-1:1,d=t===Yt||t===$e?"x":"y",c=t===Re||t===qe?er:nr;function h(f){var _=i??(e.ticks?e.ticks.apply(e,n):e.domain()),g=r??(e.tickFormat?e.tickFormat.apply(e,n):tr),C=Math.max(a,0)+s,I=e.range(),E=+I[0]+l,x=+I[I.length-1]+l,D=(e.bandwidth?rr:ir)(e.copy(),l),O=f.selection?f.selection():f,b=O.selectAll(".domain").data([null]),v=O.selectAll(".tick").data(_,e).order(),L=v.exit(),J=v.enter().append("g").attr("class","tick"),W=v.select("line"),it=v.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),v=v.merge(J),W=W.merge(J.append("line").attr("stroke","currentColor").attr(d+"2",u*a)),it=it.merge(J.append("text").attr("fill","currentColor").attr(d,u*C).attr("dy",t===Re?"0em":t===qe?"0.71em":"0.32em")),f!==O&&(b=b.transition(f),v=v.transition(f),W=W.transition(f),it=it.transition(f),L=L.transition(f).attr("opacity",Sn).attr("transform",function(Z){return isFinite(Z=D(Z))?c(Z+l):this.getAttribute("transform")}),J.attr("opacity",Sn).attr("transform",function(Z){var Q=this.parentNode.__axis;return c((Q&&isFinite(Q=Q(Z))?Q:D(Z))+l)})),L.remove(),b.attr("d",t===Yt||t===$e?o?"M"+u*o+","+E+"H"+l+"V"+x+"H"+u*o:"M"+l+","+E+"V"+x:o?"M"+E+","+u*o+"V"+l+"H"+x+"V"+u*o:"M"+E+","+l+"H"+x),v.attr("opacity",1).attr("transform",function(Z){return c(D(Z)+l)}),W.attr(d+"2",u*a),it.attr(d,u*C).text(g),O.filter(ar).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===$e?"start":t===Yt?"end":"middle"),O.each(function(){this.__axis=D})}return h.scale=function(f){return arguments.length?(e=f,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(f){return arguments.length?(n=f==null?[]:Array.from(f),h):n.slice()},h.tickValues=function(f){return arguments.length?(i=f==null?null:Array.from(f),h):i&&i.slice()},h.tickFormat=function(f){return arguments.length?(r=f,h):r},h.tickSize=function(f){return arguments.length?(a=o=+f,h):a},h.tickSizeInner=function(f){return arguments.length?(a=+f,h):a},h.tickSizeOuter=function(f){return arguments.length?(o=+f,h):o},h.tickPadding=function(f){return arguments.length?(s=+f,h):s},h.offset=function(f){return arguments.length?(l=+f,h):l},h}function or(t){return ui(qe,t)}function sr(t){return ui(Yt,t)}var lr={value:()=>{}};function ci(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new de(n)}function de(t){this._=t}function ur(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}de.prototype=ci.prototype={constructor:de,on:function(t,e){var n=this._,i=ur(t+"",n),r,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((r=(t=i[a]).type)&&(r=cr(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(r=(t=i[a]).type)n[r]=Fn(n[r],t.name,e);else if(e==null)for(r in n)n[r]=Fn(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new de(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,r=a.length;i<r;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};function cr(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function Fn(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=lr,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ye="http://www.w3.org/1999/xhtml";const On={svg:"http://www.w3.org/2000/svg",xhtml:Ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function be(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),On.hasOwnProperty(e)?{space:On[e],local:t}:t}function hr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ye&&e.documentElement.namespaceURI===Ye?e.createElement(t):e.createElementNS(n,t)}}function fr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function hi(t){var e=be(t);return(e.local?fr:hr)(e)}function dr(){}function an(t){return t==null?dr:function(){return this.querySelector(t)}}function _r(t){typeof t!="function"&&(t=an(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,s=i[r]=new Array(o),l,u,d=0;d<o;++d)(l=a[d])&&(u=t.call(l,l.__data__,d,a))&&("__data__"in l&&(u.__data__=l.__data__),s[d]=u);return new j(i,this._parents)}function pr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function mr(){return[]}function fi(t){return t==null?mr:function(){return this.querySelectorAll(t)}}function gr(t){return function(){return pr(t.apply(this,arguments))}}function vr(t){typeof t=="function"?t=gr(t):t=fi(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(i.push(t.call(l,l.__data__,u,o)),r.push(l));return new j(i,r)}function di(t){return function(){return this.matches(t)}}function _i(t){return function(e){return e.matches(t)}}var yr=Array.prototype.find;function wr(t){return function(){return yr.call(this.children,t)}}function kr(){return this.firstElementChild}function xr(t){return this.select(t==null?kr:wr(typeof t=="function"?t:_i(t)))}var br=Array.prototype.filter;function Ir(){return Array.from(this.children)}function Tr(t){return function(){return br.call(this.children,t)}}function Cr(t){return this.selectAll(t==null?Ir:Tr(typeof t=="function"?t:_i(t)))}function Er(t){typeof t!="function"&&(t=di(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,s=i[r]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new j(i,this._parents)}function pi(t){return new Array(t.length)}function Mr(){return new j(this._enter||this._groups.map(pi),this._parents)}function ve(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ve.prototype={constructor:ve,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ar(t){return function(){return t}}function Nr(t,e,n,i,r,a){for(var o=0,s,l=e.length,u=a.length;o<u;++o)(s=e[o])?(s.__data__=a[o],i[o]=s):n[o]=new ve(t,a[o]);for(;o<l;++o)(s=e[o])&&(r[o]=s)}function Sr(t,e,n,i,r,a,o){var s,l,u=new Map,d=e.length,c=a.length,h=new Array(d),f;for(s=0;s<d;++s)(l=e[s])&&(h[s]=f=o.call(l,l.__data__,s,e)+"",u.has(f)?r[s]=l:u.set(f,l));for(s=0;s<c;++s)f=o.call(t,a[s],s,a)+"",(l=u.get(f))?(i[s]=l,l.__data__=a[s],u.delete(f)):n[s]=new ve(t,a[s]);for(s=0;s<d;++s)(l=e[s])&&u.get(h[s])===l&&(r[s]=l)}function Fr(t){return t.__data__}function Or(t,e){if(!arguments.length)return Array.from(this,Fr);var n=e?Sr:Nr,i=this._parents,r=this._groups;typeof t!="function"&&(t=Ar(t));for(var a=r.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var d=i[u],c=r[u],h=c.length,f=Dr(t.call(d,d&&d.__data__,u,i)),_=f.length,g=s[u]=new Array(_),C=o[u]=new Array(_),I=l[u]=new Array(h);n(d,c,g,C,I,f,e);for(var E=0,x=0,D,O;E<_;++E)if(D=g[E]){for(E>=x&&(x=E+1);!(O=C[x])&&++x<_;);D._next=O||null}}return o=new j(o,i),o._enter=s,o._exit=l,o}function Dr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zr(){return new j(this._exit||this._groups.map(pi),this._parents)}function Lr(t,e,n){var i=this.enter(),r=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function Rr(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,a=i.length,o=Math.min(r,a),s=new Array(r),l=0;l<o;++l)for(var u=n[l],d=i[l],c=u.length,h=s[l]=new Array(c),f,_=0;_<c;++_)(f=u[_]||d[_])&&(h[_]=f);for(;l<r;++l)s[l]=n[l];return new j(s,this._parents)}function $r(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,a=i[r],o;--r>=0;)(o=i[r])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Vr(t){t||(t=Pr);function e(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o=n[a],s=o.length,l=r[a]=new Array(s),u,d=0;d<s;++d)(u=o[d])&&(l[d]=u);l.sort(e)}return new j(r,this._parents).order()}function Pr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Hr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Br(){return Array.from(this)}function Xr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null}function qr(){let t=0;for(const e of this)++t;return t}function Yr(){return!this.node()}function Ur(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],a=0,o=r.length,s;a<o;++a)(s=r[a])&&t.call(s,s.__data__,a,r);return this}function Wr(t){return function(){this.removeAttribute(t)}}function Gr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jr(t,e){return function(){this.setAttribute(t,e)}}function Zr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Kr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Qr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function jr(t,e){var n=be(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Gr:Wr:typeof e=="function"?n.local?Qr:Kr:n.local?Zr:Jr)(n,e))}function mi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ta(t){return function(){this.style.removeProperty(t)}}function ea(t,e,n){return function(){this.style.setProperty(t,e,n)}}function na(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ia(t,e,n){return arguments.length>1?this.each((e==null?ta:typeof e=="function"?na:ea)(t,e,n??"")):Vt(this.node(),t)}function Vt(t,e){return t.style.getPropertyValue(e)||mi(t).getComputedStyle(t,null).getPropertyValue(e)}function ra(t){return function(){delete this[t]}}function aa(t,e){return function(){this[t]=e}}function oa(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function sa(t,e){return arguments.length>1?this.each((e==null?ra:typeof e=="function"?oa:aa)(t,e)):this.node()[t]}function gi(t){return t.trim().split(/^|\s+/)}function on(t){return t.classList||new vi(t)}function vi(t){this._node=t,this._names=gi(t.getAttribute("class")||"")}vi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function yi(t,e){for(var n=on(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function wi(t,e){for(var n=on(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function la(t){return function(){yi(this,t)}}function ua(t){return function(){wi(this,t)}}function ca(t,e){return function(){(e.apply(this,arguments)?yi:wi)(this,t)}}function ha(t,e){var n=gi(t+"");if(arguments.length<2){for(var i=on(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?ca:e?la:ua)(n,e))}function fa(){this.textContent=""}function da(t){return function(){this.textContent=t}}function _a(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function pa(t){return arguments.length?this.each(t==null?fa:(typeof t=="function"?_a:da)(t)):this.node().textContent}function ma(){this.innerHTML=""}function ga(t){return function(){this.innerHTML=t}}function va(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ya(t){return arguments.length?this.each(t==null?ma:(typeof t=="function"?va:ga)(t)):this.node().innerHTML}function wa(){this.nextSibling&&this.parentNode.appendChild(this)}function ka(){return this.each(wa)}function xa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ba(){return this.each(xa)}function Ia(t){var e=typeof t=="function"?t:hi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ta(){return null}function Ca(t,e){var n=typeof t=="function"?t:hi(t),i=e==null?Ta:typeof e=="function"?e:an(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ea(){var t=this.parentNode;t&&t.removeChild(this)}function Ma(){return this.each(Ea)}function Aa(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Na(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Sa(t){return this.select(t?Na:Aa)}function Fa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Oa(t){return function(e){t.call(this,e,this.__data__)}}function Da(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function za(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,a;n<r;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function La(t,e,n){return function(){var i=this.__on,r,a=Oa(e);if(i){for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=e;return}}this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Ra(t,e,n){var i=Da(t+""),r,a=i.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,d;l<u;++l)for(r=0,d=s[l];r<a;++r)if((o=i[r]).type===d.type&&o.name===d.name)return d.value}return}for(s=e?La:za,r=0;r<a;++r)this.each(s(i[r],e,n));return this}function ki(t,e,n){var i=mi(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function $a(t,e){return function(){return ki(this,t,e)}}function Va(t,e){return function(){return ki(this,t,e.apply(this,arguments))}}function Pa(t,e){return this.each((typeof e=="function"?Va:$a)(t,e))}function*Ha(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length,o;r<a;++r)(o=i[r])&&(yield o)}var xi=[null];function j(t,e){this._groups=t,this._parents=e}function Qt(){return new j([[document.documentElement]],xi)}function Ba(){return this}j.prototype=Qt.prototype={constructor:j,select:_r,selectAll:vr,selectChild:xr,selectChildren:Cr,filter:Er,data:Or,enter:Mr,exit:zr,join:Lr,merge:Rr,selection:Ba,order:$r,sort:Vr,call:Hr,nodes:Br,node:Xr,size:qr,empty:Yr,each:Ur,attr:jr,style:ia,property:sa,classed:ha,text:pa,html:ya,raise:ka,lower:ba,append:Ia,insert:Ca,remove:Ma,clone:Sa,datum:Fa,on:Ra,dispatch:Pa,[Symbol.iterator]:Ha};function et(t){return typeof t=="string"?new j([[document.querySelector(t)]],[document.documentElement]):new j([[t]],xi)}var Dn=180/Math.PI,Ue={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bi(t,e,n,i,r,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*Dn,skewX:Math.atan(l)*Dn,scaleX:o,scaleY:s}}var ae;function Xa(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ue:bi(e.a,e.b,e.c,e.d,e.e,e.f)}function qa(t){return t==null||(ae||(ae=document.createElementNS("http://www.w3.org/2000/svg","g")),ae.setAttribute("transform",t),!(t=ae.transform.baseVal.consolidate()))?Ue:(t=t.matrix,bi(t.a,t.b,t.c,t.d,t.e,t.f))}function Ii(t,e,n,i){function r(u){return u.length?u.pop()+" ":""}function a(u,d,c,h,f,_){if(u!==c||d!==h){var g=f.push("translate(",null,e,null,n);_.push({i:g-4,x:Ct(u,c)},{i:g-2,x:Ct(d,h)})}else(c||h)&&f.push("translate("+c+e+h+n)}function o(u,d,c,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:c.push(r(c)+"rotate(",null,i)-2,x:Ct(u,d)})):d&&c.push(r(c)+"rotate("+d+i)}function s(u,d,c,h){u!==d?h.push({i:c.push(r(c)+"skewX(",null,i)-2,x:Ct(u,d)}):d&&c.push(r(c)+"skewX("+d+i)}function l(u,d,c,h,f,_){if(u!==c||d!==h){var g=f.push(r(f)+"scale(",null,",",null,")");_.push({i:g-4,x:Ct(u,c)},{i:g-2,x:Ct(d,h)})}else(c!==1||h!==1)&&f.push(r(f)+"scale("+c+","+h+")")}return function(u,d){var c=[],h=[];return u=t(u),d=t(d),a(u.translateX,u.translateY,d.translateX,d.translateY,c,h),o(u.rotate,d.rotate,c,h),s(u.skewX,d.skewX,c,h),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,c,h),u=d=null,function(f){for(var _=-1,g=h.length,C;++_<g;)c[(C=h[_]).i]=C.x(f);return c.join("")}}}var Ya=Ii(Xa,"px, ","px)","deg)"),Ua=Ii(qa,", ",")",")"),Pt=0,Ut=0,Bt=0,Ti=1e3,ye,Wt,we=0,Ot=0,Ie=0,Kt=typeof performance=="object"&&performance.now?performance:Date,Ci=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function sn(){return Ot||(Ci(Wa),Ot=Kt.now()+Ie)}function Wa(){Ot=0}function ke(){this._call=this._time=this._next=null}ke.prototype=Ei.prototype={constructor:ke,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?sn():+n)+(e==null?0:+e),!this._next&&Wt!==this&&(Wt?Wt._next=this:ye=this,Wt=this),this._call=t,this._time=n,We()},stop:function(){this._call&&(this._call=null,this._time=1/0,We())}};function Ei(t,e,n){var i=new ke;return i.restart(t,e,n),i}function Ga(){sn(),++Pt;for(var t=ye,e;t;)(e=Ot-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pt}function zn(){Ot=(we=Kt.now())+Ie,Pt=Ut=0;try{Ga()}finally{Pt=0,Za(),Ot=0}}function Ja(){var t=Kt.now(),e=t-we;e>Ti&&(Ie-=e,we=t)}function Za(){for(var t,e=ye,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ye=n);Wt=t,We(i)}function We(t){if(!Pt){Ut&&(Ut=clearTimeout(Ut));var e=t-Ot;e>24?(t<1/0&&(Ut=setTimeout(zn,t-Kt.now()-Ie)),Bt&&(Bt=clearInterval(Bt))):(Bt||(we=Kt.now(),Bt=setInterval(Ja,Ti)),Pt=1,Ci(zn))}}function Ln(t,e,n){var i=new ke;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var Ka=ci("start","end","cancel","interrupt"),Qa=[],Mi=0,Rn=1,Ge=2,_e=3,$n=4,Je=5,pe=6;function Te(t,e,n,i,r,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;ja(t,n,{name:e,index:i,group:r,on:Ka,tween:Qa,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Mi})}function ln(t,e){var n=nt(t,e);if(n.state>Mi)throw new Error("too late; already scheduled");return n}function at(t,e){var n=nt(t,e);if(n.state>_e)throw new Error("too late; already running");return n}function nt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ja(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=Ei(a,0,n.time);function a(u){n.state=Rn,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,c,h,f;if(n.state!==Rn)return l();for(d in i)if(f=i[d],f.name===n.name){if(f.state===_e)return Ln(o);f.state===$n?(f.state=pe,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[d]):+d<e&&(f.state=pe,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[d])}if(Ln(function(){n.state===_e&&(n.state=$n,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Ge,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ge){for(n.state=_e,r=new Array(h=n.tween.length),d=0,c=-1;d<h;++d)(f=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Je,1),c=-1,h=r.length;++c<h;)r[c].call(t,d);n.state===Je&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=pe,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function to(t,e){var n=t.__transition,i,r,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((i=n[o]).name!==e){a=!1;continue}r=i.state>Ge&&i.state<Je,i.state=pe,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[o]}a&&delete t.__transition}}function eo(t){return this.each(function(){to(this,t)})}function no(t,e){var n,i;return function(){var r=at(this,t),a=r.tween;if(a!==n){i=n=a;for(var o=0,s=i.length;o<s;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function io(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=at(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=s;break}l===u&&r.push(s)}a.tween=r}}function ro(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=nt(this.node(),n).tween,r=0,a=i.length,o;r<a;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((e==null?no:io)(n,t,e))}function un(t,e,n){var i=t._id;return t.each(function(){var r=at(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return nt(r,i).value[e]}}function Ai(t,e){var n;return(typeof e=="number"?Ct:e instanceof Mn?An:(n=Mn(e))?(e=n,An):Ji)(t,e)}function ao(t){return function(){this.removeAttribute(t)}}function oo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function so(t,e,n){var i,r=n+"",a;return function(){var o=this.getAttribute(t);return o===r?null:o===i?a:a=e(i=o,n)}}function lo(t,e,n){var i,r=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?a:a=e(i=o,n)}}function uo(t,e,n){var i,r,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===i&&l===r?a:(r=l,a=e(i=o,s)))}}function co(t,e,n){var i,r,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===i&&l===r?a:(r=l,a=e(i=o,s)))}}function ho(t,e){var n=be(t),i=n==="transform"?Ua:Ai;return this.attrTween(t,typeof e=="function"?(n.local?co:uo)(n,i,un(this,"attr."+t,e)):e==null?(n.local?oo:ao)(n):(n.local?lo:so)(n,i,e))}function fo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function _o(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function po(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&_o(t,a)),n}return r._value=e,r}function mo(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&fo(t,a)),n}return r._value=e,r}function go(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=be(t);return this.tween(n,(i.local?po:mo)(i,e))}function vo(t,e){return function(){ln(this,t).delay=+e.apply(this,arguments)}}function yo(t,e){return e=+e,function(){ln(this,t).delay=e}}function wo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vo:yo)(e,t)):nt(this.node(),e).delay}function ko(t,e){return function(){at(this,t).duration=+e.apply(this,arguments)}}function xo(t,e){return e=+e,function(){at(this,t).duration=e}}function bo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ko:xo)(e,t)):nt(this.node(),e).duration}function Io(t,e){if(typeof e!="function")throw new Error;return function(){at(this,t).ease=e}}function To(t){var e=this._id;return arguments.length?this.each(Io(e,t)):nt(this.node(),e).ease}function Co(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,t).ease=n}}function Eo(t){if(typeof t!="function")throw new Error;return this.each(Co(this._id,t))}function Mo(t){typeof t!="function"&&(t=di(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,s=i[r]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new lt(i,this._parents,this._name,this._id)}function Ao(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var l=e[s],u=n[s],d=l.length,c=o[s]=new Array(d),h,f=0;f<d;++f)(h=l[f]||u[f])&&(c[f]=h);for(;s<i;++s)o[s]=e[s];return new lt(o,this._parents,this._name,this._id)}function No(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function So(t,e,n){var i,r,a=No(e)?ln:at;return function(){var o=a(this,t),s=o.on;s!==i&&(r=(i=s).copy()).on(e,n),o.on=r}}function Fo(t,e){var n=this._id;return arguments.length<2?nt(this.node(),n).on.on(t):this.each(So(n,t,e))}function Oo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Do(){return this.on("end.remove",Oo(this._id))}function zo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=an(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s=i[o],l=s.length,u=a[o]=new Array(l),d,c,h=0;h<l;++h)(d=s[h])&&(c=t.call(d,d.__data__,h,s))&&("__data__"in d&&(c.__data__=d.__data__),u[h]=c,Te(u[h],e,n,h,u,nt(d,n)));return new lt(a,this._parents,e,n)}function Lo(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fi(t));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var l=i[s],u=l.length,d,c=0;c<u;++c)if(d=l[c]){for(var h=t.call(d,d.__data__,c,l),f,_=nt(d,n),g=0,C=h.length;g<C;++g)(f=h[g])&&Te(f,e,n,g,h,_);a.push(h),o.push(d)}return new lt(a,o,e,n)}var Ro=Qt.prototype.constructor;function $o(){return new Ro(this._groups,this._parents)}function Vo(t,e){var n,i,r;return function(){var a=Vt(this,t),o=(this.style.removeProperty(t),Vt(this,t));return a===o?null:a===n&&o===i?r:r=e(n=a,i=o)}}function Ni(t){return function(){this.style.removeProperty(t)}}function Po(t,e,n){var i,r=n+"",a;return function(){var o=Vt(this,t);return o===r?null:o===i?a:a=e(i=o,n)}}function Ho(t,e,n){var i,r,a;return function(){var o=Vt(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Vt(this,t))),o===l?null:o===i&&l===r?a:(r=l,a=e(i=o,s))}}function Bo(t,e){var n,i,r,a="style."+e,o="end."+a,s;return function(){var l=at(this,t),u=l.on,d=l.value[a]==null?s||(s=Ni(e)):void 0;(u!==n||r!==d)&&(i=(n=u).copy()).on(o,r=d),l.on=i}}function Xo(t,e,n){var i=(t+="")=="transform"?Ya:Ai;return e==null?this.styleTween(t,Vo(t,i)).on("end.style."+t,Ni(t)):typeof e=="function"?this.styleTween(t,Ho(t,i,un(this,"style."+t,e))).each(Bo(this._id,t)):this.styleTween(t,Po(t,i,e),n).on("end.style."+t,null)}function qo(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Yo(t,e,n){var i,r;function a(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&qo(t,o,n)),i}return a._value=e,a}function Uo(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Yo(t,e,n??""))}function Wo(t){return function(){this.textContent=t}}function Go(t){return function(){var e=t(this);this.textContent=e??""}}function Jo(t){return this.tween("text",typeof t=="function"?Go(un(this,"text",t)):Wo(t==null?"":t+""))}function Zo(t){return function(e){this.textContent=t.call(this,e)}}function Ko(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Zo(r)),e}return i._value=t,i}function Qo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ko(t))}function jo(){for(var t=this._name,e=this._id,n=Si(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var d=nt(l,e);Te(l,t,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new lt(i,this._parents,t,n)}function ts(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--r===0&&a()}};n.each(function(){var u=at(this,i),d=u.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),r===0&&a()})}var es=0;function lt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Si(){return++es}var st=Qt.prototype;lt.prototype={constructor:lt,select:zo,selectAll:Lo,selectChild:st.selectChild,selectChildren:st.selectChildren,filter:Mo,merge:Ao,selection:$o,transition:jo,call:st.call,nodes:st.nodes,node:st.node,size:st.size,empty:st.empty,each:st.each,on:Fo,attr:ho,attrTween:go,style:Xo,styleTween:Uo,text:Jo,textTween:Qo,remove:Do,tween:ro,delay:wo,duration:bo,ease:To,easeVarying:Eo,end:ts,[Symbol.iterator]:st[Symbol.iterator]};const oe=t=>+t;function ns(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var is={time:null,delay:0,duration:250,ease:ns};function rs(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function as(t){var e,n;t instanceof lt?(e=t._id,t=t._name):(e=Si(),(n=is).time=sn(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&Te(l,t,e,u,o,n||rs(l,e));return new lt(i,this._parents,t,e)}Qt.prototype.interrupt=eo;Qt.prototype.transition=as;const Ze=Math.PI,Ke=2*Ze,Mt=1e-6,os=Ke-Mt;function Fi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ss(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Fi;const n=10**e;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class ls{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Fi:ss(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,a,o){this._append`C${+e},${+n},${+i},${+r},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,i,r,a){if(e=+e,n=+n,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=i-e,u=r-n,d=o-e,c=s-n,h=d*d+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Mt)if(!(Math.abs(c*l-u*d)>Mt)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let f=i-o,_=r-s,g=l*l+u*u,C=f*f+_*_,I=Math.sqrt(g),E=Math.sqrt(h),x=a*Math.tan((Ze-Math.acos((g+h-C)/(2*I*E)))/2),D=x/E,O=x/I;Math.abs(D-1)>Mt&&this._append`L${e+D*d},${n+D*c}`,this._append`A${a},${a},0,0,${+(c*f>d*_)},${this._x1=e+O*l},${this._y1=n+O*u}`}}arc(e,n,i,r,a,o){if(e=+e,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let s=i*Math.cos(r),l=i*Math.sin(r),u=e+s,d=n+l,c=1^o,h=o?r-a:a-r;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Mt||Math.abs(this._y1-d)>Mt)&&this._append`L${u},${d}`,i&&(h<0&&(h=h%Ke+Ke),h>os?this._append`A${i},${i},0,1,${c},${e-s},${n-l}A${i},${i},0,1,${c},${this._x1=u},${this._y1=d}`:h>Mt&&this._append`A${i},${i},0,${+(h>=Ze)},${c},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}var Vn={},Ve={},Pe=34,Xt=10,He=13;function Oi(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function us(t,e){var n=Oi(t);return function(i,r){return e(n(i),r,t)}}function Pn(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var r in i)r in e||n.push(e[r]=r)}),n}function K(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function cs(t){return t<0?"-"+K(-t,6):t>9999?"+"+K(t,6):K(t,4)}function hs(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":cs(t.getUTCFullYear())+"-"+K(t.getUTCMonth()+1,2)+"-"+K(t.getUTCDate(),2)+(r?"T"+K(e,2)+":"+K(n,2)+":"+K(i,2)+"."+K(r,3)+"Z":i?"T"+K(e,2)+":"+K(n,2)+":"+K(i,2)+"Z":n||e?"T"+K(e,2)+":"+K(n,2)+"Z":"")}function fs(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function i(c,h){var f,_,g=r(c,function(C,I){if(f)return f(C,I-1);_=C,f=h?us(C,h):Oi(C)});return g.columns=_||[],g}function r(c,h){var f=[],_=c.length,g=0,C=0,I,E=_<=0,x=!1;c.charCodeAt(_-1)===Xt&&--_,c.charCodeAt(_-1)===He&&--_;function D(){if(E)return Ve;if(x)return x=!1,Vn;var b,v=g,L;if(c.charCodeAt(v)===Pe){for(;g++<_&&c.charCodeAt(g)!==Pe||c.charCodeAt(++g)===Pe;);return(b=g)>=_?E=!0:(L=c.charCodeAt(g++))===Xt?x=!0:L===He&&(x=!0,c.charCodeAt(g)===Xt&&++g),c.slice(v+1,b-1).replace(/""/g,'"')}for(;g<_;){if((L=c.charCodeAt(b=g++))===Xt)x=!0;else if(L===He)x=!0,c.charCodeAt(g)===Xt&&++g;else if(L!==n)continue;return c.slice(v,b)}return E=!0,c.slice(v,_)}for(;(I=D())!==Ve;){for(var O=[];I!==Vn&&I!==Ve;)O.push(I),I=D();h&&(O=h(O,C++))==null||f.push(O)}return f}function a(c,h){return c.map(function(f){return h.map(function(_){return d(f[_])}).join(t)})}function o(c,h){return h==null&&(h=Pn(c)),[h.map(d).join(t)].concat(a(c,h)).join(`
`)}function s(c,h){return h==null&&(h=Pn(c)),a(c,h).join(`
`)}function l(c){return c.map(u).join(`
`)}function u(c){return c.map(d).join(t)}function d(c){return c==null?"":c instanceof Date?hs(c):e.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:i,parseRows:r,format:o,formatBody:s,formatRows:l,formatRow:u,formatValue:d}}var ds=fs(","),_s=ds.parse;function ps(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ms(t,e){return fetch(t,e).then(ps)}function gs(t){return function(e,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),ms(e,n).then(function(r){return t(r,i)})}}var Qe=gs(_s);const Hn=Symbol("implicit");function Di(){var t=new Nn,e=[],n=[],i=Hn;function r(a){let o=t.get(a);if(o===void 0){if(i!==Hn)return i;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Nn;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return Di(e,n).unknown(i)},li.apply(r,arguments),r}function cn(){var t=Di().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,a,o,s=!1,l=0,u=0,d=.5;delete t.unknown;function c(){var h=e().length,f=r<i,_=f?r:i,g=f?i:r;a=(g-_)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),_+=(g-_-a*(h-l))*d,o=a*(1-l),s&&(_=Math.round(_),o=Math.round(o));var C=ji(h).map(function(I){return _+a*I});return n(f?C.reverse():C)}return t.domain=function(h){return arguments.length?(e(h),c()):e()},t.range=function(h){return arguments.length?([i,r]=h,i=+i,r=+r,c()):[i,r]},t.rangeRound=function(h){return[i,r]=h,i=+i,r=+r,s=!0,c()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,c()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),c()):d},t.copy=function(){return cn(e(),[i,r]).round(s).paddingInner(l).paddingOuter(u).align(d)},li.apply(c(),arguments)}function zi(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zi(e())},t}function se(){return zi(cn.apply(null,arguments).paddingInner(1))}function U(t){return function(){return t}}function Li(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new ls(e)}function Ri(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $i(t){this._context=t}$i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hn(t){return new $i(t)}function Vi(t){return t[0]}function Pi(t){return t[1]}function $t(t,e){var n=U(!0),i=null,r=hn,a=null,o=Li(s);t=typeof t=="function"?t:t===void 0?Vi:U(t),e=typeof e=="function"?e:e===void 0?Pi:U(e);function s(l){var u,d=(l=Ri(l)).length,c,h=!1,f;for(i==null&&(a=r(f=o())),u=0;u<=d;++u)!(u<d&&n(c=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(c,u,l),+e(c,u,l));if(f)return a=null,f+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:U(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:U(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:U(!!l),s):n},s.curve=function(l){return arguments.length?(r=l,i!=null&&(a=r(i)),s):r},s.context=function(l){return arguments.length?(l==null?i=a=null:a=r(i=l),s):i},s}function Gt(t,e,n){var i=null,r=U(!0),a=null,o=hn,s=null,l=Li(u);t=typeof t=="function"?t:t===void 0?Vi:U(+t),e=typeof e=="function"?e:U(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Pi:U(+n);function u(c){var h,f,_,g=(c=Ri(c)).length,C,I=!1,E,x=new Array(g),D=new Array(g);for(a==null&&(s=o(E=l())),h=0;h<=g;++h){if(!(h<g&&r(C=c[h],h,c))===I)if(I=!I)f=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),_=h-1;_>=f;--_)s.point(x[_],D[_]);s.lineEnd(),s.areaEnd()}I&&(x[h]=+t(C,h,c),D[h]=+e(C,h,c),s.point(i?+i(C,h,c):x[h],n?+n(C,h,c):D[h]))}if(E)return s=null,E+""||null}function d(){return $t().defined(r).curve(o).context(a)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:U(+c),i=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:U(+c),u):t},u.x1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:U(+c),u):i},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:U(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:U(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:U(+c),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:U(!!c),u):r},u.curve=function(c){return arguments.length?(o=c,a!=null&&(s=o(a)),u):o},u.context=function(c){return arguments.length?(c==null?a=s=null:s=o(a=c),u):a},u}var Hi=fn(hn);function Bi(t){this._curve=t}Bi.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function fn(t){function e(n){return new Bi(t(n))}return e._curve=t,e}function Jt(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(fn(n)):e()._curve},t}function Bn(){return Jt($t().curve(Hi))}function Xn(){var t=Gt().curve(Hi),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Jt(n())},delete t.lineX0,t.lineEndAngle=function(){return Jt(i())},delete t.lineX1,t.lineInnerRadius=function(){return Jt(r())},delete t.lineY0,t.lineOuterRadius=function(){return Jt(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(fn(o)):e()._curve},t}function qn(){}function je(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Xi(t,e){this._context=t,this._k=(1-e)/6}Xi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:je(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:je(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(i){return new Xi(i,e)}return n.tension=function(i){return t(+i)},n})(0);function qi(t,e){this._context=t,this._k=(1-e)/6}qi.prototype={areaStart:qn,areaEnd:qn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:je(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const le=function t(e){function n(i){return new qi(i,e)}return n.tension=function(i){return t(+i)},n}(0);function Yn(t){return t<0?-1:1}function Un(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(Yn(a)+Yn(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Wn(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Be(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function xe(t){this._context=t}xe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Be(this,this._t0,Wn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Be(this,Wn(this,n=Un(this,t,e)),n);break;default:Be(this,this._t0,n=Un(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(xe.prototype).point=function(t,e){xe.prototype.point.call(this,e,t)};function ht(t){return new xe(t)}function Zt(t,e,n){this.k=t,this.x=e,this.y=n}Zt.prototype={constructor:Zt,scale:function(t){return t===1?this:new Zt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Zt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Zt.prototype;function vs(t){let e,n,i,r,a;return{c(){e=N("div"),n=N("p"),i=ce(t[0]),r=P(),a=ai("svg"),this.h()},l(o){e=S(o,"DIV",{class:!0});var s=B(e);n=S(s,"P",{class:!0});var l=B(n);i=he(l,t[0]),l.forEach(T),r=H(s),a=oi(s,"svg",{}),B(a).forEach(T),s.forEach(T),this.h()},h(){w(n,"class","graph-title svelte-1u6tlwe"),w(e,"class","radial svelte-1u6tlwe")},m(o,s){G(o,e,s),k(e,n),k(n,i),k(e,r),k(e,a),t[3](a)},p(o,[s]){s&1&&si(i,o[0])},i:me,o:me,d(o){o&&T(e),t[3](null)}}}const ue=350,qt=2e3;function ys(t,e,n){let i,{data:r}=e,{title:a}=e;const o={top:50,right:0,bottom:0,left:0},s=ue,l=Math.min(ue,s)/2-Math.max(o.top,o.bottom);let u=!1;en(async()=>{const f=new IntersectionObserver(d,{threshold:.1});return f.observe(i),()=>f.disconnect()});function d(f){f[0].isIntersecting&&!u&&(u=!0,c())}function c(){const f=et(i).attr("width",ue).attr("height",s).append("g").attr("transform",`translate(${ue/2}, ${s/2})`),_=cn().domain(r.map(v=>v.half_hour_intervals)).range([0,2*Math.PI]).padding(.1),g=fe().domain([0,Et(r,v=>Math.max(v.EFIT,v.ICONIC))+.004]).range([0,l]);f.selectAll(".x-axis").data(r).enter().append("line").attr("class","x-axis").attr("x1",0).attr("y1",0).attr("x2",(v,L)=>L%2===0?Math.cos(_(v.half_hour_intervals))*l:0).attr("y2",(v,L)=>L%2===0?Math.sin(_(v.half_hour_intervals))*l:0).attr("stroke","lightgray").attr("stroke-width",(v,L)=>L%3===0?"0.6":"0.3").attr("stroke-dasharray",(v,L)=>L%3===0?"0,0":"4,3"),f.append("circle").attr("class","circle-border").attr("cx",0).attr("cy",0).attr("r",l).attr("fill","none").attr("stroke","lightgray").attr("stroke-width",1);const C=Bn().angle(v=>_(v.half_hour_intervals)+_.bandwidth()/2+Math.PI).radius(v=>g(v.ICONIC)).curve(le);f.append("path").datum(r).attr("class","area-iconic").attr("d",Xn().angle(v=>_(v.half_hour_intervals)+_.bandwidth()/2+Math.PI).innerRadius(0).outerRadius(v=>g(v.ICONIC)).curve(le)(r)).attr("fill","var(--brandDarkGreen)").attr("opacity",0).transition().delay(1500).duration(qt).ease(oe).attr("opacity",.03),f.append("path").datum(r).attr("class","area-efit").attr("d",Xn().angle(v=>_(v.half_hour_intervals)+_.bandwidth()/2+Math.PI).innerRadius(0).outerRadius(v=>g(v.EFIT)).curve(le)(r)).attr("fill","#e6841a").attr("opacity",0).transition().delay(1500).duration(qt).ease(oe).attr("opacity",.03);const I=f.append("path").datum(r).attr("class","curve-iconic").attr("fill","none").attr("stroke","var(--brandDarkGreen)").attr("stroke-width",2).attr("d",C),E=I.node().getTotalLength();I.attr("stroke-dasharray",E).attr("stroke-dashoffset",E).transition().ease(oe).duration(qt).attr("stroke-dashoffset",0);const x=Bn().angle(v=>_(v.half_hour_intervals)+_.bandwidth()/2+Math.PI).radius(v=>g(v.EFIT)).curve(le),D=f.append("path").datum(r).attr("class","curve-efit").attr("fill","none").attr("stroke","#e6841a").attr("stroke-width",2).attr("d",x),O=D.node().getTotalLength();D.attr("stroke-dasharray",O).attr("stroke-dashoffset",O).transition().duration(qt).ease(oe).attr("stroke-dashoffset",0),u&&setTimeout(()=>{f.selectAll(".area-iconic, .area-efit").on("mouseover",function(){et(this).transition().duration(200).attr("opacity",.1)}).on("mouseout",function(){et(this).transition().duration(200).attr("opacity",.03)}),b()},qt+100);function b(){const v=new MouseEvent("mouseover");document.querySelectorAll(".area-iconic, .area-efit").forEach(J=>{J.matches(":hover")&&J.dispatchEvent(v)})}f.selectAll(".x-label").data(r).enter().append("text").attr("fill","rgba(0, 0, 0, 0.7)").attr("class","x-label").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("x",v=>Math.cos(_(v.half_hour_intervals)-Math.PI/2+Math.PI)*(l+20)).attr("y",v=>Math.sin(_(v.half_hour_intervals)-Math.PI/2+Math.PI)*(l+15)).style("font-size","10px").style("fill","grey").text((v,L)=>L%2===0?v.half_hour_intervals:""),f.append("g").attr("transform","translate(-60, 270)"),f.append("circle").attr("class","x-axis-circle").attr("cx",0).attr("cy",0).attr("r",0).attr("fill","white").attr("stroke","lightgray").attr("stroke-width",.5),f.append("text").attr("x",12).attr("y",-l+10).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","10px").style("fill","grey").text("PM"),f.append("text").attr("x",-12).attr("y",l-10).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","10px").style("fill","grey").text("AM")}function h(f){ri[f?"unshift":"push"](()=>{i=f,n(1,i)})}return t.$$set=f=>{"data"in f&&n(2,r=f.data),"title"in f&&n(0,a=f.title)},[a,i,r,h]}class Ce extends nn{constructor(e){super(),rn(this,e,ys,vs,tn,{data:2,title:0})}}function ws(t){let e,n,i,r,a,o,s,l,u,d,c,h,f,_,g,C;return{c(){e=N("p"),n=ce(t[0]),i=P(),r=N("div"),a=ai("svg"),o=P(),s=N("div"),l=N("button"),u=ce("Normalized by type of bike"),c=P(),h=N("button"),f=ce("Total number of trips"),this.h()},l(I){e=S(I,"P",{class:!0});var E=B(e);n=he(E,t[0]),E.forEach(T),i=H(I),r=S(I,"DIV",{class:!0});var x=B(r);a=oi(x,"svg",{}),B(a).forEach(T),x.forEach(T),o=H(I),s=S(I,"DIV",{class:!0});var D=B(s);l=S(D,"BUTTON",{class:!0});var O=B(l);u=he(O,"Normalized by type of bike"),O.forEach(T),c=H(D),h=S(D,"BUTTON",{class:!0});var b=B(h);f=he(b,"Total number of trips"),b.forEach(T),D.forEach(T),this.h()},h(){w(e,"class","graph-title svelte-4bkcju"),w(r,"class","svg-container"),w(l,"class",d=ie(t[2]?"button button-on":"button button-off")+" svelte-4bkcju"),w(h,"class",_=ie(t[2]?"button button-off":"button button-on")+" svelte-4bkcju"),w(s,"class","button-container")},m(I,E){G(I,e,E),k(e,n),G(I,i,E),G(I,r,E),k(r,a),t[16](a),G(I,o,E),G(I,s,E),k(s,l),k(l,u),k(s,c),k(s,h),k(h,f),g||(C=[Cn(l,"click",t[17]),Cn(h,"click",t[18])],g=!0)},p(I,[E]){E&1&&si(n,I[0]),E&4&&d!==(d=ie(I[2]?"button button-on":"button button-off")+" svelte-4bkcju")&&w(l,"class",d),E&4&&_!==(_=ie(I[2]?"button button-off":"button button-on")+" svelte-4bkcju")&&w(h,"class",_)},i:me,o:me,d(I){I&&(T(e),T(i),T(r),T(o),T(s)),t[16](null),g=!1,Wi(C)}}}const Gn=650,Jn=.5,ft=400;function ks(t,e,n){let i,r=[];const a={top:20,right:40,bottom:50,left:55};let o=Math.min(window.innerWidth-a.left-a.right,Gn),s=o*Jn,{csvData:l}=e,{title:u}=e,{xlabel:d}=e,{medianEFIT:c}=e,{medianICONIC:h}=e,{suffix:f}=e,{xdivider:_}=e,{xdecimal:g}=e,{xtickamount:C}=e,{xunit:I}=e,{medianadjust:E}=e,x=!0,D,O=!0;en(async()=>{r=await Qe(l,m=>({EFIT:+m.EFIT,EFIT_normalized:+m.EFIT_normalized,ICONIC:+m.ICONIC,ICONIC_normalized:+m.ICONIC_normalized,interval_start:+m.interval_start})),v(),window.addEventListener("resize",b)});function b(){o=Math.min(window.innerWidth-a.left-a.right,Gn),s=o*Jn,v()}function v(){et(i).selectAll("*").remove();const m=fe().domain([Qi(r,F=>F.interval_start),Et(r,F=>F.interval_start)]).range([0,o]),A=fe().domain([0,Et(r,F=>x?Math.max(F.EFIT_normalized,F.ICONIC_normalized):Math.max(F.EFIT,F.ICONIC))]).range([s,0]),z=et(i).attr("width",o+a.left+a.right).attr("height",s+a.top+a.bottom).append("g").attr("transform",`translate(${a.left},${a.top})`);z.append("g").attr("transform",`translate(0,${s})`).call(or(m).ticks(C).tickSizeOuter(0).tickFormat(F=>`${(F/_).toFixed(g)}`)),D=z.append("g"),L(A);const ot=Gt().x(F=>m(F.interval_start)).y0(A(0)).y1(F=>A(x?F.ICONIC_normalized:F.ICONIC)).curve(ht);z.append("path").datum(r).attr("class",`area-iconic-${f}`).attr("fill","var(--brandDarkGreen)").attr("opacity",.03).attr("d",ot);const jt=Gt().x(F=>m(F.interval_start)).y0(A(0)).y1(F=>A(x?F.EFIT_normalized:F.EFIT)).curve(ht);z.append("path").datum(r).attr("class",`area-efit-${f}`).attr("fill","#e6841a").attr("opacity",.03).attr("d",jt),z.selectAll(`.area-iconic-${f}, .area-efit-${f}`).on("mouseover",function(){O&&et(this).transition().duration(ft-200).attr("opacity",.1)}).on("mouseout",function(){O&&et(this).transition().duration(ft-200).attr("opacity",.03)});const Ht=$t().x(F=>m(F.interval_start)).y(F=>A(x?F.EFIT_normalized:F.EFIT)).curve(ht);z.append("path").datum(r).attr("class",`line-efit-${f}`).attr("fill","none").attr("stroke","#e6841a").attr("stroke-width",2).attr("d",Ht);const ut=$t().x(F=>m(F.interval_start)).y(F=>A(x?F.ICONIC_normalized:F.ICONIC)).curve(ht);z.append("path").datum(r).attr("class",`line-iconic-${f}`).attr("fill","none").attr("stroke","var(--brandDarkGreen)").attr("stroke-width",2).attr("d",ut),z.append("line").attr("x1",m(h)).attr("x2",m(h)).attr("y1",0).attr("y2",s).attr("stroke","var(--brandDarkGreen)").attr("stroke-width",1).attr("stroke-dasharray","4"),z.append("text").attr("x",m(h)+5).attr("y",A(Et(r,F=>F.ICONIC_normalized))+7).attr("fill","var(--brandDarkGreen)").style("font-size","12px").attr("text-anchor","start").append("tspan").text("ICONIC").attr("x",m(h)+5).attr("dy","0em").append("tspan").text("Median: "+(h/_).toFixed(1)+" "+I).attr("x",m(h)+5).attr("dy","1.2em"),z.append("line").attr("x1",m(c)).attr("x2",m(c)).attr("y1",A(Et(r,F=>F.EFIT_normalized))+E).attr("y2",s).attr("stroke","#e6841a").attr("stroke-width",1).attr("stroke-dasharray","4"),z.append("text").attr("x",m(c)+5).attr("y",A(Et(r,F=>F.EFIT_normalized))+8+E).attr("fill","#e6841a").style("font-size","12px").attr("text-anchor","start").append("tspan").text("EFIT").attr("x",m(c)+5).attr("dy","0em").append("tspan").text("Median: "+(c/_).toFixed(1)+" "+I).attr("x",m(c)+5).attr("dy","1.2em"),z.append("text").attr("text-anchor","middle").attr("x",o/2).attr("y",s+a.bottom-10).style("font-size","14px").style("font-family","RobotoBold").text(d)}function L(m){D.call(sr(m))}function J(){const m=fe().domain([0,Et(r,A=>x?Math.max(A.EFIT_normalized,A.ICONIC_normalized):Math.max(A.EFIT,A.ICONIC))]).range([s,0]);L(m),et(`.line-iconic-${f}`).transition().duration(ft).attr("d",$t().x(A=>se().domain(r.map(z=>z.interval_start)).range([0,o])(A.interval_start)).y(A=>m(x?A.ICONIC_normalized:A.ICONIC)).curve(ht)),et(`.area-iconic-${f}`).transition().duration(ft).attr("d",Gt().x(A=>se().domain(r.map(z=>z.interval_start)).range([0,o])(A.interval_start)).y0(s).y1(A=>m(x?A.ICONIC_normalized:A.ICONIC)).curve(ht)),et(`.line-efit-${f}`).transition().duration(ft).attr("d",$t().x(A=>se().domain(r.map(z=>z.interval_start)).range([0,o])(A.interval_start)).y(A=>m(x?A.EFIT_normalized:A.EFIT)).curve(ht)),et(`.area-efit-${f}`).transition().duration(ft).attr("d",Gt().x(A=>se().domain(r.map(z=>z.interval_start)).range([0,o])(A.interval_start)).y0(s).y1(A=>m(x?A.EFIT_normalized:A.EFIT)).curve(ht))}function W(){const m=new MouseEvent("mouseover");i.querySelectorAll(`.area-iconic-${f}, .area-efit-${f}`).forEach(z=>{z.matches(":hover")&&z.dispatchEvent(m)})}function it(m){ri[m?"unshift":"push"](()=>{i=m,n(1,i)})}const Z=()=>{n(2,x=!x),J(),n(3,O=!1),setTimeout(()=>{n(3,O=!0),W()},ft)},Q=()=>{n(2,x=!x),J(),n(3,O=!1),setTimeout(()=>{n(3,O=!0),W()},ft)};return t.$$set=m=>{"csvData"in m&&n(6,l=m.csvData),"title"in m&&n(0,u=m.title),"xlabel"in m&&n(7,d=m.xlabel),"medianEFIT"in m&&n(8,c=m.medianEFIT),"medianICONIC"in m&&n(9,h=m.medianICONIC),"suffix"in m&&n(10,f=m.suffix),"xdivider"in m&&n(11,_=m.xdivider),"xdecimal"in m&&n(12,g=m.xdecimal),"xtickamount"in m&&n(13,C=m.xtickamount),"xunit"in m&&n(14,I=m.xunit),"medianadjust"in m&&n(15,E=m.medianadjust)},[u,i,x,O,J,W,l,d,c,h,f,_,g,C,I,E,it,Z,Q]}class Xe extends nn{constructor(e){super(),rn(this,e,ks,ws,tn,{csvData:6,title:0,xlabel:7,medianEFIT:8,medianICONIC:9,suffix:10,xdivider:11,xdecimal:12,xtickamount:13,xunit:14,medianadjust:15})}}function Zn(t,e,n){const i=t.slice();return i[6]=e[n][0],i[7]=e[n][1],i}function Kn(t,e,n){const i=t.slice();return i[6]=e[n][0],i[7]=e[n][1],i}function Qn(t){let e,n;return e=new Ce({props:{data:t[1],title:"Weekdays"}}),{c(){At(e.$$.fragment)},l(i){Nt(e.$$.fragment,i)},m(i,r){St(e,i,r),n=!0},p(i,r){const a={};r&2&&(a.data=i[1]),e.$set(a)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){Ft(e,i)}}}function jn(t){let e,n;return e=new Ce({props:{data:t[2],title:"Weekends"}}),{c(){At(e.$$.fragment)},l(i){Nt(e.$$.fragment,i)},m(i,r){St(e,i,r),n=!0},p(i,r){const a={};r&4&&(a.data=i[2]),e.$set(a)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){Ft(e,i)}}}function ti(t){let e,n,i,r;return n=new Ce({props:{data:t[7],title:t[6]}}),{c(){e=N("div"),At(n.$$.fragment),i=P(),this.h()},l(a){e=S(a,"DIV",{class:!0});var o=B(e);Nt(n.$$.fragment,o),i=H(o),o.forEach(T),this.h()},h(){w(e,"class","weekday-item svelte-1h50wyy")},m(a,o){G(a,e,o),St(n,e,null),k(e,i),r=!0},p(a,o){const s={};o&1&&(s.data=a[7]),o&1&&(s.title=a[6]),n.$set(s)},i(a){r||(R(n.$$.fragment,a),r=!0)},o(a){Y(n.$$.fragment,a),r=!1},d(a){a&&T(e),Ft(n)}}}function ei(t){let e,n,i=t[7].length>0&&ti(t);return{c(){i&&i.c(),e=ge()},l(r){i&&i.l(r),e=ge()},m(r,a){i&&i.m(r,a),G(r,e,a),n=!0},p(r,a){r[7].length>0?i?(i.p(r,a),a&1&&R(i,1)):(i=ti(r),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(Rt(),Y(i,1,1,()=>{i=null}),Lt())},i(r){n||(R(i),n=!0)},o(r){Y(i),n=!1},d(r){r&&T(e),i&&i.d(r)}}}function ni(t){let e,n,i,r;return n=new Ce({props:{data:t[7],title:t[6]}}),{c(){e=N("div"),At(n.$$.fragment),i=P(),this.h()},l(a){e=S(a,"DIV",{class:!0});var o=B(e);Nt(n.$$.fragment,o),i=H(o),o.forEach(T),this.h()},h(){w(e,"class","weekend-item svelte-1h50wyy")},m(a,o){G(a,e,o),St(n,e,null),k(e,i),r=!0},p(a,o){const s={};o&1&&(s.data=a[7]),o&1&&(s.title=a[6]),n.$set(s)},i(a){r||(R(n.$$.fragment,a),r=!0)},o(a){Y(n.$$.fragment,a),r=!1},d(a){a&&T(e),Ft(n)}}}function ii(t){let e,n,i=t[7].length>0&&ni(t);return{c(){i&&i.c(),e=ge()},l(r){i&&i.l(r),e=ge()},m(r,a){i&&i.m(r,a),G(r,e,a),n=!0},p(r,a){r[7].length>0?i?(i.p(r,a),a&1&&R(i,1)):(i=ni(r),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(Rt(),Y(i,1,1,()=>{i=null}),Lt())},i(r){n||(R(i),n=!0)},o(r){Y(i),n=!1},d(r){r&&T(e),i&&i.d(r)}}}function xs(t){let e,n,i,r,a,o,s,l,u,d,c,h,f,_,g,C,I=`<div id="logo" class="svelte-1h50wyy"><a href="https://www.schoolofcities.utoronto.ca/" class="svelte-1h50wyy"><img src="${Ki}" alt="School of Cities" class="svelte-1h50wyy"/></a></div>`,E,x,D='<img src="/bike-share-toronto/top-map-2.png" alt="map of bike lanes and bike-share stations in toronto with a white background"/>',O,b,v,L=`<h1>Exploring E-Bike Usage in Toronto’s Bike Share System</h1> <p>Lanrick Bennett Jr., Scott McCallum, Jeff Allen
    <br/>
      December, 2024</p>`,J,W,it=`<p>As cycling becomes an increasingly popular mode of transportation in Toronto, one trend is gaining significant traction: the rise of electric bikes (e-bikes) within the city&#39;s Bike Share system. Recent data shared by Bike Share Toronto from June 2024 has given us a detailed look at how these e-bikes, known as EFIT, compare to their classic non-electric counterparts, the ICONIC bikes.</p> <p>Overall, in June 2024, there were <a href="https://schoolofcities.github.io/bike-share-toronto/trips-062024" target="_blank">more than 762,000 Bike Share trips in Toronto</a>. 17.4% of these trips were by e-bikes. Looking at the relative characteristics of these trips and reveals some intriguing patterns that could shape the future of urban mobility in Toronto.</p> <p>One of the most notable differences between e-bikes and classic bikes is the distance covered during trips. On average, e-bike users tend to ride
      further, capitalizing on the extra power that electric motors provide.
      These longer trips suggest that e-bikes are enabling riders to explore
      parts of the city that might have been less accessible via traditional
      pedal bikes. Whether it&#39;s covering more ground on commutes or leisurely
      rides, the data reflects how e-bikes are expanding the possibilities for
      cycling trips across Toronto.</p>`,Z,Q,m,A,z,ot,jt=`<p>Interestingly, despite these longer trips, there is little difference in
      the duration of e-bike trips compared to classic bikes. Riders are thus traveling faster on e-bikes on average, which makes sense given their
      assisted pedaling capabilities.   
      Higher speeds not only allow cyclists to
      reach destinations quicker but could also make cycling more attractive to
      those who may have previously found it too time-consuming or physically
      demanding. With e-bikes, the barriers to entry for cycling are lowered,
      making it a more practical and inclusive option for a broader demographic.</p>`,Ht,ut,F,dt,Ee,_t,dn=`<p>Another key insight from the data is that e-bike trips tend to involve
      slightly more elevation gain. In a city like Toronto, where hills and
      slopes can make cycling more challenging, the extra boost from an e-bike&#39;s
      motor can make a big difference. For example, riders can now tackle
      steeper routes, such as those leading to neighborhoods like Rosedale or
      the Scarborough Bluffs, with greater ease. This ability to flatten out the
      city’s topography opens up new opportunities for riders, making cycling a
      more attractive option in areas that were previously considered difficult
      to navigate on a bike.</p>`,Me,Dt,zt,pt,Ae,mt,_n=`<p>The data also shows some intriguing differences in the time of day when e-bikes are used. While we’re still investigating the reasons behind this
      trend, it could be related to the availability of bikes at different
      stations during peak and off-peak hours. E-bikes may also be more popular
      for commuters who are looking for a reliable and faster way to get to work
      or run errands during busy periods. Understanding these temporal patterns
      will be crucial as we explore how to optimize the distribution and
      availability of e-bikes throughout the day.</p>`,Ne,gt,pn="<h4>24-hour trip distributions</h4>",Se,vt,mn='<div class="legend-item svelte-1h50wyy"><svg class="legend-circ svelte-1h50wyy"><circle cx="20" cy="15" r="8" fill="var(--brandDarkGreen)" fill-opacity="0.1" stroke="var(--brandDarkGreen)" stroke-width="2"></circle></svg> <p class="svelte-1h50wyy">ICONIC</p></div> <div class="legend-item svelte-1h50wyy"><svg class="legend-circ svelte-1h50wyy"><circle cx="20" cy="15" r="8" fill="darkorange" fill-opacity="0.1" stroke="darkorange" stroke-width="2"></circle></svg> <p class="svelte-1h50wyy">EFIT</p></div>',Fe,rt,te,Oe,yt,De,wt,ze,kt,gn=`<p>These findings reflect broader shifts in how cycling is being integrated
      into urban mobility strategies. The introduction of e-bikes in Toronto is
      not just about offering a new mode of transportation—it’s about making
      cycling more accessible, efficient, and appealing to a wider range of
      people. Whether it’s older adults who may need extra assistance with
      pedaling, people with longer commutes, or those who want to avoid arriving
      at their destination sweaty, e-bikes have the potential to address many of
      the challenges that have historically limited bike usage in the city.</p> <p>From a sustainability perspective, the growing use of e-bikes aligns with
      Toronto’s push towards reducing greenhouse gas emissions. By providing a
      viable alternative to cars for longer trips, e-bikes can help cut down on
      vehicle emissions, especially during peak traffic hours. As the city works
      towards its ambitious net-zero targets, the role of EV bikes in
      encouraging a shift from motorized transport to more sustainable,
      human-powered options cannot be understated.</p> <p>As we continue to analyze the data and explore the impacts of e-bikes on
      Toronto’s cycling culture, the early results are encouraging. E-bikes are
      not just another addition to the Bike Share system—they represent a step
      towards a more dynamic, sustainable, and inclusive urban mobility
      landscape. Stay tuned as we delve deeper into the numbers and uncover more
      about how e-bikes are reshaping the way Torontonians move through their
      city.</p>`,Le,xt,vn='<br/> <br/> <h3>Data &amp; Methodology</h3> <p>Bike Share Toronto shared with us data on all Bike Share trips in June 2024, which included for each trip, start station, end station, duration, and type of bike (EFIT or ICONIC). We additionally computed the network distance and elevation gain of each trip via Graphhopper, a network analysis software (<a href="https://schoolofcities.github.io/bike-share-toronto/trips-062024" target="_blank">as described in this post</a>).</p> <p>All the charts shown on this page were created via analyzing data in Python and visualizing with D3. All medians and distributions shown for each category are significantly different from each other via Mann-Whitney U (for testing difference in medians) and Kolmogorov-Smirnov (for testing difference in distributions) tests.</p> <p>Code and data for this page are on <a href="https://github.com/schoolofcities/bike-share-toronto" target="_blank">GitHub</a></p> <br/> <br/> <br/>',ee;A=new Xe({props:{title:"Distribution of trips by distance",suffix:"distance",csvData:"distance_counts.csv",medianEFIT:2806.437,medianICONIC:2303.089,xlabel:"Trip distance (kilometers)",xdivider:1e3,xdecimal:0,xtickamount:10,xunit:"km",medianadjust:0}}),dt=new Xe({props:{title:"Distribution of trips by duration",suffix:"duration",csvData:"duration_counts.csv",medianEFIT:747,medianICONIC:720,xlabel:"Trip duration (minutes)",xdivider:60,xdecimal:0,xtickamount:20,xunit:"minutes",medianadjust:30}}),pt=new Xe({props:{title:"Distribution of trips by elevation gain",suffix:"elevation",csvData:"elevation_counts.csv",medianEFIT:0,medianICONIC:-.5,xlabel:"Elevation gain or loss (metres)",xdivider:1,xdecimal:0,xtickamount:20,xunit:"m",medianadjust:0}});let X=t[1].length>0&&Qn(t),q=t[2].length>0&&jn(t),bt=re(Object.entries(t[0]).slice(0,4)),$=[];for(let y=0;y<bt.length;y+=1)$[y]=ei(Kn(t,bt,y));const Yi=y=>Y($[y],1,1,()=>{$[y]=null});let It=re(Object.entries(t[0]).slice(4,7)),V=[];for(let y=0;y<It.length;y+=1)V[y]=ii(Zn(t,It,y));const Ui=y=>Y(V[y],1,1,()=>{V[y]=null});return{c(){e=N("meta"),n=N("meta"),i=N("meta"),r=N("meta"),a=N("meta"),o=N("meta"),s=N("meta"),l=N("meta"),u=N("meta"),d=N("meta"),c=N("meta"),h=N("meta"),f=N("meta"),_=N("meta"),g=P(),C=N("div"),C.innerHTML=I,E=P(),x=N("div"),x.innerHTML=D,O=P(),b=N("main"),v=N("div"),v.innerHTML=L,J=P(),W=N("div"),W.innerHTML=it,Z=P(),Q=N("div"),m=N("div"),At(A.$$.fragment),z=P(),ot=N("div"),ot.innerHTML=jt,Ht=P(),ut=N("div"),F=N("div"),At(dt.$$.fragment),Ee=P(),_t=N("div"),_t.innerHTML=dn,Me=P(),Dt=N("div"),zt=N("div"),At(pt.$$.fragment),Ae=P(),mt=N("div"),mt.innerHTML=_n,Ne=P(),gt=N("div"),gt.innerHTML=pn,Se=P(),vt=N("div"),vt.innerHTML=mn,Fe=P(),rt=N("div"),X&&X.c(),te=P(),q&&q.c(),Oe=P(),yt=N("div");for(let y=0;y<$.length;y+=1)$[y].c();De=P(),wt=N("div");for(let y=0;y<V.length;y+=1)V[y].c();ze=P(),kt=N("div"),kt.innerHTML=gn,Le=P(),xt=N("div"),xt.innerHTML=vn,this.h()},l(y){const M=Gi("svelte-5hp4jg",document.head);e=S(M,"META",{name:!0,content:!0}),n=S(M,"META",{name:!0,content:!0}),i=S(M,"META",{property:!0,content:!0}),r=S(M,"META",{property:!0,content:!0}),a=S(M,"META",{property:!0,content:!0}),o=S(M,"META",{property:!0,content:!0}),s=S(M,"META",{property:!0,content:!0}),l=S(M,"META",{property:!0,content:!0}),u=S(M,"META",{name:!0,content:!0}),d=S(M,"META",{name:!0,content:!0}),c=S(M,"META",{name:!0,content:!0}),h=S(M,"META",{name:!0,content:!0}),f=S(M,"META",{name:!0,content:!0}),_=S(M,"META",{name:!0,content:!0}),M.forEach(T),g=H(y),C=S(y,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),tt(C)!=="svelte-wi4a2b"&&(C.innerHTML=I),E=H(y),x=S(y,"DIV",{class:!0,"data-svelte-h":!0}),tt(x)!=="svelte-c5wyuf"&&(x.innerHTML=D),O=H(y),b=S(y,"MAIN",{});var p=B(b);v=S(p,"DIV",{class:!0,"data-svelte-h":!0}),tt(v)!=="svelte-1n843w9"&&(v.innerHTML=L),J=H(p),W=S(p,"DIV",{class:!0,"data-svelte-h":!0}),tt(W)!=="svelte-1opw0l5"&&(W.innerHTML=it),Z=H(p),Q=S(p,"DIV",{class:!0});var ct=B(Q);m=S(ct,"DIV",{class:!0});var yn=B(m);Nt(A.$$.fragment,yn),yn.forEach(T),ct.forEach(T),z=H(p),ot=S(p,"DIV",{class:!0,"data-svelte-h":!0}),tt(ot)!=="svelte-auh9hp"&&(ot.innerHTML=jt),Ht=H(p),ut=S(p,"DIV",{class:!0});var wn=B(ut);F=S(wn,"DIV",{class:!0});var kn=B(F);Nt(dt.$$.fragment,kn),kn.forEach(T),wn.forEach(T),Ee=H(p),_t=S(p,"DIV",{class:!0,"data-svelte-h":!0}),tt(_t)!=="svelte-p3vaow"&&(_t.innerHTML=dn),Me=H(p),Dt=S(p,"DIV",{class:!0});var xn=B(Dt);zt=S(xn,"DIV",{class:!0});var bn=B(zt);Nt(pt.$$.fragment,bn),bn.forEach(T),xn.forEach(T),Ae=H(p),mt=S(p,"DIV",{class:!0,"data-svelte-h":!0}),tt(mt)!=="svelte-1jg8t22"&&(mt.innerHTML=_n),Ne=H(p),gt=S(p,"DIV",{class:!0,"data-svelte-h":!0}),tt(gt)!=="svelte-1k7a1ql"&&(gt.innerHTML=pn),Se=H(p),vt=S(p,"DIV",{class:!0,"data-svelte-h":!0}),tt(vt)!=="svelte-km4dgp"&&(vt.innerHTML=mn),Fe=H(p),rt=S(p,"DIV",{class:!0});var ne=B(rt);X&&X.l(ne),te=H(ne),q&&q.l(ne),ne.forEach(T),Oe=H(p),yt=S(p,"DIV",{class:!0});var In=B(yt);for(let Tt=0;Tt<$.length;Tt+=1)$[Tt].l(In);In.forEach(T),De=H(p),wt=S(p,"DIV",{class:!0});var Tn=B(wt);for(let Tt=0;Tt<V.length;Tt+=1)V[Tt].l(Tn);Tn.forEach(T),ze=H(p),kt=S(p,"DIV",{class:!0,"data-svelte-h":!0}),tt(kt)!=="svelte-115tlni"&&(kt.innerHTML=gn),Le=H(p),xt=S(p,"DIV",{class:!0,"data-svelte-h":!0}),tt(xt)!=="svelte-zd7fuk"&&(xt.innerHTML=vn),p.forEach(T),this.h()},h(){document.title="Bike Share Toronto Growth | School of Cities",w(e,"name","description"),w(e,"content","Visualizing Bike Share system expansion and ridership growth trends in Toronto"),w(n,"name","author"),w(n,"content","Jeff Allen"),w(i,"property","og:title"),w(i,"content","Bike Share Toronto Growth"),w(r,"property","og:description"),w(r,"content","Visualizing Bike Share system expansion and ridership growth trends in Toronto"),w(a,"property","og:type"),w(a,"content","website"),w(o,"property","og:url"),w(o,"content","https://schoolofcities.github.io/bike-share-toronto/growth/"),w(s,"property","og:image"),w(s,"content","https://schoolofcities.github.io/bike-share-toronto/web-card-growth.png"),w(l,"property","og:locale"),w(l,"content","en_CA"),w(u,"name","twitter:card"),w(u,"content","summary_large_image"),w(d,"name","twitter:site"),w(d,"content","https://schoolofcities.github.io/bike-share-toronto/growth/"),w(c,"name","twitter:creator"),w(c,"content","@UofTCities"),w(h,"name","twitter:title"),w(h,"content","Bike Share Toronto Growth"),w(f,"name","twitter:description"),w(f,"content","Visualizing Bike Share system expansion and ridership growth trends in Toronto"),w(_,"name","twitter:image"),w(_,"content","https://schoolofcities.github.io/bike-share-toronto/web-card-growth.png"),w(C,"id","bar"),w(C,"class","svelte-1h50wyy"),w(x,"class","topImg"),w(v,"class","title"),w(W,"class","text"),w(m,"class","line-chart"),w(Q,"class","chart-container svelte-1h50wyy"),w(ot,"class","text"),w(F,"class","line-chart"),w(ut,"class","chart-container svelte-1h50wyy"),w(_t,"class","text"),w(zt,"class","line-chart"),w(Dt,"class","chart-container svelte-1h50wyy"),w(mt,"class","text"),w(gt,"class","radial-title svelte-1h50wyy"),w(vt,"class","radial-legend svelte-1h50wyy"),w(rt,"class","radial-container svelte-1h50wyy"),w(yt,"class","flex-container-weekday svelte-1h50wyy"),w(wt,"class","flex-container-weekend svelte-1h50wyy"),w(kt,"class","text"),w(xt,"class","text")},m(y,M){k(document.head,e),k(document.head,n),k(document.head,i),k(document.head,r),k(document.head,a),k(document.head,o),k(document.head,s),k(document.head,l),k(document.head,u),k(document.head,d),k(document.head,c),k(document.head,h),k(document.head,f),k(document.head,_),G(y,g,M),G(y,C,M),G(y,E,M),G(y,x,M),G(y,O,M),G(y,b,M),k(b,v),k(b,J),k(b,W),k(b,Z),k(b,Q),k(Q,m),St(A,m,null),k(b,z),k(b,ot),k(b,Ht),k(b,ut),k(ut,F),St(dt,F,null),k(b,Ee),k(b,_t),k(b,Me),k(b,Dt),k(Dt,zt),St(pt,zt,null),k(b,Ae),k(b,mt),k(b,Ne),k(b,gt),k(b,Se),k(b,vt),k(b,Fe),k(b,rt),X&&X.m(rt,null),k(rt,te),q&&q.m(rt,null),k(b,Oe),k(b,yt);for(let p=0;p<$.length;p+=1)$[p]&&$[p].m(yt,null);k(b,De),k(b,wt);for(let p=0;p<V.length;p+=1)V[p]&&V[p].m(wt,null);k(b,ze),k(b,kt),k(b,Le),k(b,xt),ee=!0},p(y,[M]){if(y[1].length>0?X?(X.p(y,M),M&2&&R(X,1)):(X=Qn(y),X.c(),R(X,1),X.m(rt,te)):X&&(Rt(),Y(X,1,1,()=>{X=null}),Lt()),y[2].length>0?q?(q.p(y,M),M&4&&R(q,1)):(q=jn(y),q.c(),R(q,1),q.m(rt,null)):q&&(Rt(),Y(q,1,1,()=>{q=null}),Lt()),M&1){bt=re(Object.entries(y[0]).slice(0,4));let p;for(p=0;p<bt.length;p+=1){const ct=Kn(y,bt,p);$[p]?($[p].p(ct,M),R($[p],1)):($[p]=ei(ct),$[p].c(),R($[p],1),$[p].m(yt,null))}for(Rt(),p=bt.length;p<$.length;p+=1)Yi(p);Lt()}if(M&1){It=re(Object.entries(y[0]).slice(4,7));let p;for(p=0;p<It.length;p+=1){const ct=Zn(y,It,p);V[p]?(V[p].p(ct,M),R(V[p],1)):(V[p]=ii(ct),V[p].c(),R(V[p],1),V[p].m(wt,null))}for(Rt(),p=It.length;p<V.length;p+=1)Ui(p);Lt()}},i(y){if(!ee){R(A.$$.fragment,y),R(dt.$$.fragment,y),R(pt.$$.fragment,y),R(X),R(q);for(let M=0;M<bt.length;M+=1)R($[M]);for(let M=0;M<It.length;M+=1)R(V[M]);ee=!0}},o(y){Y(A.$$.fragment,y),Y(dt.$$.fragment,y),Y(pt.$$.fragment,y),Y(X),Y(q),$=$.filter(Boolean);for(let M=0;M<$.length;M+=1)Y($[M]);V=V.filter(Boolean);for(let M=0;M<V.length;M+=1)Y(V[M]);ee=!1},d(y){y&&(T(g),T(C),T(E),T(x),T(O),T(b)),T(e),T(n),T(i),T(r),T(a),T(o),T(s),T(l),T(u),T(d),T(c),T(h),T(f),T(_),Ft(A),Ft(dt),Ft(pt),X&&X.d(),q&&q.d(),En($,y),En(V,y)}}}function bs(t,e,n){let i=[],r=[],a={Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[],Sunday:[]},o=[],s=[];async function l(){i=await Qe("freq_counts_by_day.csv",u=>({half_hour_intervals:u.half_hour_intervals,EFIT:+u.EFIT_normalized,ICONIC:+u.ICONIC_normalized,day_of_week:u.day_of_week}));for(let u in a)n(0,a[u]=i.filter(d=>d.day_of_week===u),a);r=await Qe("freq_counts_by_day_category.csv",u=>({half_hour_intervals:u.half_hour_intervals,EFIT:+u.EFIT_normalized,ICONIC:+u.ICONIC_normalized,day:u.day_category})),n(1,o=r.filter(u=>u.day==="Weekday")),n(2,s=r.filter(u=>u.day==="Weekend"))}return en(()=>{l()}),[a,o,s]}class As extends nn{constructor(e){super(),rn(this,e,bs,xs,tn,{})}}export{As as component,Ms as universal};
